import{au as je,U as he,V as te,j as e,W as y,X as ae,Y as r,Z as x,_ as o,$ as j,I as g,a0 as h,ah as N,ai as C,aj as P,ak as w,al as b,ao as M,B as E,aI as me,a2 as H,r as J,a3 as W,a4 as Z,a5 as $,a6 as ge,a7 as B,a8 as be,a9 as ye,aa as Y,ab as le,R as fe,ac as Se,s as _e,ad as Ne,ae as Ce}from"./index-6fa63041.js";import{u as Pe}from"./index-2b042de7.js";import{c as we}from"./index-36e64a96.js";import{c as Le}from"./index-e8b9d7e2.js";import{u as Ve}from"./index-9e1e5892.js";import{u as ke}from"./index-fd0d30ff.js";import{S as Ee}from"./switch-597609ff.js";import{a as Me,b as Je,c as Fe,u as Ae}from"./index-28af87f8.js";import{u as Ie}from"./index-c9909b3f.js";import{Z as Oe}from"./zoom-in-c032abdd.js";function ce({modalClose:s,data:n}){var X,p,v,D,ee,ne,se;const[a,{isLoading:f}]=Me(),[t,{isLoading:S}]=Je(),{data:m,isLoading:_}=Ie(),{data:V,isLoading:F}=we("page=1&per_page=1000"),{data:k,isLoading:A}=Le("page=1&per_page=1000"),{data:I,isLoading:de}=je("page=1&per_page=1000"),{data:O,isLoading:ie}=Pe("page=1&per_page=1000"),{data:R,isLoading:re}=Ve(),{data:T,isLoading:xe}=ke(),z=(V==null?void 0:V.data)||[],K=(m==null?void 0:m.data)||[],q=(k==null?void 0:k.data)||[],G=(I==null?void 0:I.data)||[],Q=(O==null?void 0:O.data)||[],u=(R==null?void 0:R.data)||[],U=(T==null?void 0:T.data)||[],d=he({resolver:te(me),defaultValues:{title:(n==null?void 0:n.title)||"",sorting_index:(n==null?void 0:n.sorting_index)||0,date:(n==null?void 0:n.date)||"",deadline:(n==null?void 0:n.deadline)||"",vacancy_number:(n==null?void 0:n.vacancy_number)||0,organization_id:((X=n==null?void 0:n.organization)==null?void 0:X.id)||1,department_id:((p=n==null?void 0:n.department)==null?void 0:p.id)||1,designation_id:((v=n==null?void 0:n.designation)==null?void 0:v.id)||1,location_id:((D=n==null?void 0:n.location)==null?void 0:D.id)||1,vacancy_requisition_id:((ee=n==null?void 0:n.vacancy_requisition)==null?void 0:ee.id)||1,employment_status_id:((ne=n==null?void 0:n.employment_status)==null?void 0:ne.id)||1,work_place_id:((se=n==null?void 0:n.work_place)==null?void 0:se.id)||1,min_age:(n==null?void 0:n.min_age)||18,max_age:(n==null?void 0:n.max_age)||60,responsibilities:(n==null?void 0:n.responsibilities)||"",education:(n==null?void 0:n.education)||"",experience:(n==null?void 0:n.experience)||"",skills:(n==null?void 0:n.skills)||"",show_salary:(n==null?void 0:n.show_salary)||0,min_salary:(n==null?void 0:n.min_salary)||0,max_salary:(n==null?void 0:n.max_salary)||0,status:(n==null?void 0:n.status)||"active"}});async function oe(l){try{n?(await t({jobPostId:n.id,updatedJobPost:l}),H.success("Job Post updated successfully"),s()):(await a(l),H.success("Job Post created successfully"),s())}catch(i){console.log(i)}}return e.jsx(e.Fragment,{children:f||S?e.jsx("div",{className:"h-56",children:e.jsx(y,{})}):e.jsx(ae,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(oe),className:" space-y-3 ",children:[e.jsx(r,{control:d.control,name:"title",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Title"}),e.jsx(j,{children:e.jsx(g,{placeholder:"Enter Title ",...l})}),e.jsx(h,{})]})}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsx(r,{control:d.control,name:"date",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Date"}),e.jsx(j,{children:e.jsx(g,{type:"date",placeholder:"Enter Date",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"deadline",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Deadline"}),e.jsx(j,{children:e.jsx(g,{type:"date",placeholder:"Enter Deadline",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"department_id",render:({field:l})=>{var i;return e.jsxs(x,{children:[e.jsx(o,{children:"Department name"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(i=n==null?void 0:n.department)!=null&&i.id?String(n.department.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Department"})})}),e.jsx(w,{children:F?e.jsx(y,{}):z==null?void 0:z.map(c=>e.jsx(b,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:d.control,name:"organization_id",render:({field:l})=>{var i;return e.jsxs(x,{children:[e.jsx(o,{children:"Organization name"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(i=n==null?void 0:n.organization)!=null&&i.id?String(n.organization.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Organization"})})}),e.jsx(w,{children:_?e.jsx(y,{}):K==null?void 0:K.map(c=>e.jsx(b,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:d.control,name:"designation_id",render:({field:l})=>{var i,c;return e.jsxs(x,{children:[e.jsx(o,{children:"Designation Name"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(i=n==null?void 0:n.designation)!=null&&i.id?String((c=n==null?void 0:n.designation)==null?void 0:c.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Designation"})})}),e.jsx(w,{children:A?e.jsx(y,{}):q==null?void 0:q.map(L=>e.jsx(b,{value:String(L.id),children:L.name},L.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:d.control,name:"location_id",render:({field:l})=>{var i;return e.jsxs(x,{children:[e.jsx(o,{children:"Location"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(i=n==null?void 0:n.location)!=null&&i.id?String(n==null?void 0:n.location.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Location"})})}),e.jsx(w,{children:de?e.jsx(y,{}):G==null?void 0:G.map(c=>e.jsx(b,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:d.control,name:"vacancy_requisition_id",render:({field:l})=>{var i;return e.jsxs(x,{children:[e.jsx(o,{children:"Vacancy Requisition"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(i=n==null?void 0:n.vacancy_requisition)!=null&&i.id?String(n==null?void 0:n.vacancy_requisition.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Vacancy Requisition"})})}),e.jsx(w,{children:ie?e.jsx(y,{}):Q==null?void 0:Q.map(c=>e.jsx(b,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:d.control,name:"vacancy_number",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Vacancy Number"}),e.jsx(j,{children:e.jsx(g,{type:"number",placeholder:"Enter requisition hour",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"employment_status_id",render:({field:l})=>{var i;return e.jsxs(x,{children:[e.jsx(o,{children:"Employment Status"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(i=n==null?void 0:n.employment_status)!=null&&i.id?String(n.employment_status.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Employment Status"})})}),e.jsx(w,{children:re?e.jsx(y,{}):u==null?void 0:u.map(c=>e.jsx(b,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:d.control,name:"work_place_id",render:({field:l})=>{var i,c;return e.jsxs(x,{children:[e.jsx(o,{children:"Work Place"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(i=n==null?void 0:n.work_place)!=null&&i.id?String((c=n==null?void 0:n.work_place)==null?void 0:c.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Work Place"})})}),e.jsx(w,{children:xe?e.jsx(y,{}):U==null?void 0:U.map(L=>e.jsx(b,{value:String(L.id),children:L.name},L.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:d.control,name:"sorting_index",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Sorting"}),e.jsx(j,{children:e.jsx(g,{type:"number",placeholder:"Enter job sorting",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"status",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Status"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(n==null?void 0:n.status)||"Active",children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:""})})}),e.jsxs(w,{children:[e.jsx(b,{value:"Active",children:"Active"}),e.jsx(b,{value:"Inactive",children:"Inactive"})]})]}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"responsibilities",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Responsibilities"}),e.jsx(j,{children:e.jsx(M,{placeholder:"Enter responsibilities name",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"education",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Education"}),e.jsx(j,{children:e.jsx(M,{placeholder:"Enter education",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"experience",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Experience"}),e.jsx(j,{children:e.jsx(M,{placeholder:"Enter experience",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"skills",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Skills"}),e.jsx(j,{children:e.jsx(M,{placeholder:"Enter skills",...l})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(r,{control:d.control,name:"min_age",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Minimum Age"}),e.jsx(j,{children:e.jsx(g,{type:"number",placeholder:"Enter minimum age limit",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"max_age",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Maximum Age"}),e.jsx(j,{children:e.jsx(g,{type:"number",placeholder:"Enter maximum age limit",...l})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(r,{control:d.control,name:"min_salary",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Minimum Salary"}),e.jsx(j,{children:e.jsx(g,{type:"number",placeholder:"Enter minimum salary limit",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"max_salary",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Maximum Salary"}),e.jsx(j,{children:e.jsx(g,{type:"number",placeholder:"Enter maximum salary limit",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:d.control,name:"show_salary",render:({field:l})=>e.jsxs(x,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(o,{children:"Show Salary"})}),e.jsx(j,{children:e.jsx(Ee,{checked:l.value===1,onCheckedChange:i=>l.onChange(i?1:0)})})]})})]}),e.jsx("div",{children:e.jsx(E,{variant:"default",type:"submit",className:"w-full mt-4",children:n?"Update":"Add"})})]})})})}const Re=({data:s})=>{var n,a,f,t,S,m,_;return e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Title:"}),e.jsx("div",{children:s.title})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Date:"}),e.jsx("div",{children:s.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Deadline:"}),e.jsx("div",{children:s.deadline})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Department:"}),e.jsx("div",{children:(n=s.department)==null?void 0:n.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Organization:"}),e.jsx("div",{children:(a=s.organization)==null?void 0:a.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Designation:"}),e.jsx("div",{children:(f=s.designation)==null?void 0:f.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Location:"}),e.jsx("div",{children:(t=s.location)==null?void 0:t.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Vacancy Requisition:"}),e.jsx("div",{children:(S=s.vacancy_requisition)==null?void 0:S.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Vacancy Number:"}),e.jsx("div",{children:s.vacancy_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Employment Status:"}),e.jsx("div",{children:(m=s.employment_status)==null?void 0:m.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Work Place:"}),e.jsx("div",{children:(_=s.work_place)==null?void 0:_.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Sorting Index:"}),e.jsx("div",{children:s.sorting_index})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Status:"}),e.jsx("div",{children:s.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Responsibilities:"}),e.jsx("div",{children:s.responsibilities})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Education:"}),e.jsx("div",{children:s.education})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Experience:"}),e.jsx("div",{children:s.experience})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Skills:"}),e.jsx("div",{children:s.skills})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Minimum Age:"}),e.jsx("div",{children:s.min_age})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Maximum Age:"}),e.jsx("div",{children:s.max_age})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Minimum Salary:"}),e.jsx("div",{children:s.min_salary})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Maximum Salary:"}),e.jsx("div",{children:s.max_salary})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Show Salary:"}),e.jsx("div",{children:s.show_salary===1?"Yes":"No"})]})]})})};function Te({data:s}){const[n,a]=J.useState(!1),[f,t]=J.useState(!1),[S,m]=J.useState(!1),[_,{isLoading:V}]=Fe(),F=async k=>{try{await _(k),H.success("Job deleted successfully"),a(!1)}catch(A){console.log(A)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(W,{children:e.jsxs(Z,{children:[e.jsx($,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>t(!0),children:e.jsx(ge,{className:"h-4 w-4 text-foreground"})})}),e.jsx(B,{children:e.jsx("p",{children:"Update Job Post"})})]})}),e.jsx(W,{children:e.jsxs(Z,{children:[e.jsx($,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{m(!0)},children:e.jsx(Oe,{className:"h-4 w-4 text-foreground"})})}),e.jsx(B,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(W,{children:e.jsxs(Z,{children:[e.jsx($,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{a(!0)},children:e.jsx(be,{className:"h-4 w-4 text-foreground"})})}),e.jsx(B,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(ye,{title:"Are you sure?",description:"This action cannot be undone.",name:s.title,isOpen:n,onClose:()=>a(!1),onConfirm:()=>F(s.id),loading:V}),e.jsx(Y,{title:"Update Job",isOpen:f,toggleModal:()=>t(!1),className:"w-[90%] max-w-6xl",children:e.jsx(ce,{data:s,modalClose:()=>t(!1)})}),e.jsx(Y,{title:"Job Details",isOpen:S,toggleModal:()=>m(!1),className:"w-[90%] max-w-6xl",children:e.jsx(Re,{data:s})})]})}const ze=[{id:"select",header:({table:s})=>e.jsx(le,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>s.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:s})=>e.jsx(le,{checked:s.getIsSelected(),onCheckedChange:n=>s.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"title",header:"Job title"},{accessorKey:"",accessorFn:({department:s})=>s==null?void 0:s.name,header:"Department"},{accessorKey:"",accessorFn:({organization:s})=>s==null?void 0:s.name,header:"Organization"},{accessorKey:"",accessorFn:({designation:s})=>s==null?void 0:s.name,header:"Designation"},{accessorKey:"location",accessorFn:({location:s})=>s==null?void 0:s.name,header:"Location"},{accessorKey:"vacancy_requisition",accessorFn:({vacancy_requisition:s})=>s==null?void 0:s.name,header:"Vacancy requisition"},{accessorKey:"vacancy_number",header:"Vacancy number"},{accessorKey:"employment_status",accessorFn:({employment_status:s})=>s==null?void 0:s.name,header:"Employment status"},{accessorKey:"work_place",accessorFn:({work_place:s})=>s==null?void 0:s.name,header:"Work place"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:s})=>e.jsx(Te,{data:s.original})}],He=()=>{const[s,n]=J.useState(!1),[a,f]=fe.useState({pageIndex:0,pageSize:10}),{data:t,isLoading:S}=Ae(`per_page=${a.pageSize}&page=${a.pageIndex+1}`),m=(t==null?void 0:t.data)||[],_=t==null?void 0:t.meta;return S?e.jsx(y,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Se,{title:"Job Post",description:"Manage job post for you business"}),e.jsxs(E,{onClick:()=>n(!0),size:"sm",children:[e.jsx(_e,{className:"mr-2 h-4 w-4"})," Add Job Post"]})]}),e.jsx(Ne,{}),m&&e.jsx("div",{children:e.jsx(Ce,{columns:ze,data:m,paginationInfo:_,pagination:a,setPagination:f})})]})}),e.jsx(Y,{title:"Add Job Post",isOpen:s,toggleModal:()=>n(!1),className:"w-[90%] max-w-6xl",children:e.jsx(ce,{modalClose:()=>n(!1)})})]})};export{He as default};
