import{a as e,V as w,Y as M,Z as c,_ as i,$ as d,a0 as m,I as x,a1 as p,B as t,r as u,a5 as g,a6 as f,a7 as y,a8 as F,a9 as v,aa as O,ab as T,ac as b,a3 as k,ad as _,R as E,X as I,ae as P,t as D,af as R,ag as J}from"./index-faae2f3c.js";import{u as G,a as z}from"./index-699b7e65.js";import{Z as K}from"./zoom-in-a65fe3a5.js";const U=({data:a})=>e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("p",{className:"font-semibold",children:"Status:"}),e.jsx("div",{children:a.policy_name})]})});function N({modalClose:a,data:o}){const l=w({defaultValues:{policy_name:"",in_time:"",working_hours:"",delay_buffer:"",ex_delay_buffer:"",break_time:"",effect_from:""}});async function n(s){console.log("Form Submitted:",s),a()}return e.jsx(e.Fragment,{children:e.jsx(M,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(n),className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-1",children:[e.jsx(c,{control:l.control,name:"leave_group_name",render:({field:s})=>e.jsxs(i,{children:[e.jsx(d,{children:"Leave Group Name"}),e.jsx(m,{children:e.jsx(x,{className:"",placeholder:"Enter Leave Group Name",...s})}),e.jsx(p,{})]})}),e.jsx(c,{control:l.control,name:"number_of_leave_type",render:({field:s})=>e.jsxs(i,{children:[e.jsx(d,{children:"Number Of Leave Type"}),e.jsx(m,{children:e.jsx(x,{type:"number",className:"",placeholder:"Enter Policy Name",...s})}),e.jsx(p,{})]})}),e.jsx(c,{control:l.control,name:"total_leave",render:({field:s})=>e.jsxs(i,{children:[e.jsx(d,{children:"Total Leave"}),e.jsx(m,{children:e.jsx(x,{type:"number",className:"",placeholder:"Enter Total Leave",...s})}),e.jsx(p,{})]})}),e.jsx(c,{control:l.control,name:"employee_count",render:({field:s})=>e.jsxs(i,{children:[e.jsx(d,{children:"Employee Count"}),e.jsx(m,{children:e.jsx(x,{type:"number",className:"",placeholder:"Enter Employee Count",...s})}),e.jsx(p,{})]})})]}),e.jsx("div",{className:"text-right",children:e.jsx(t,{variant:"default",type:"submit",className:"w-fit mt-4",children:o?"Update":"Add"})})]})})})}function Z({data:a}){const[o,l]=u.useState(!1),[n,s]=u.useState(!1),[h,r]=u.useState(!1),[j,{isLoading:C}]=G(),S=async A=>{try{await j(A),k.success("Job deleted successfully"),l(!1)}catch(L){console.log(L)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>s(!0),children:e.jsx(F,{className:"h-4 w-4 text-foreground"})})}),e.jsx(v,{children:e.jsx("p",{children:"Update Job Post"})})]})}),e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{r(!0)},children:e.jsx(K,{className:"h-4 w-4 text-foreground"})})}),e.jsx(v,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{l(!0)},children:e.jsx(O,{className:"h-4 w-4 text-foreground"})})}),e.jsx(v,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(T,{title:"Are you sure?",description:"This action cannot be undone.",name:a.policy_name,isOpen:o,onClose:()=>l(!1),onConfirm:()=>S(a.id),loading:C}),e.jsx(b,{title:"Update Job",isOpen:n,toggleModal:()=>s(!1),className:"w-[90%] max-w-6xl",children:e.jsx(N,{data:a,modalClose:()=>s(!1)})}),e.jsx(b,{title:"Job Details",isOpen:h,toggleModal:()=>r(!1),className:"w-[90%] max-w-6xl",children:e.jsx(U,{data:a})})]})}const $=[{id:"select",header:({table:a})=>e.jsx(_,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>a.toggleAllPageRowsSelected(!!o),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:a})=>e.jsx(_,{checked:a.getIsSelected(),onCheckedChange:o=>a.toggleSelected(!!o),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"leave_group_name",header:"Leave group name"},{accessorKey:"number_of_leave_type",header:"Number of leave type"},{accessorKey:"total_leave",header:"Total Leave"},{accessorKey:"employee_count",header:"Employee Count"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:a})=>e.jsx(Z,{data:a.original})}],q=[{leave_group_name:"Eidul Adha",number_of_leave_type:"10",total_leave:"20",employee_count:"5"},{leave_group_name:"Eidul Adha",number_of_leave_type:"10",total_leave:"20",employee_count:"5"}],Q=()=>{const[a,o]=u.useState(!1),[l,n]=E.useState({pageIndex:0,pageSize:10}),{data:s,isLoading:h}=z(`per_page=${l.pageSize}&page=${l.pageIndex+1}`),r=(s==null?void 0:s.data)||[],j=s==null?void 0:s.meta;return h?e.jsx(I,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(P,{title:"Leave Group",description:"Manage job apply for you business"}),e.jsxs(t,{onClick:()=>o(!0),size:"sm",children:[e.jsx(D,{className:"mr-2 h-4 w-4"})," Add Leave Group"]})]}),e.jsx(R,{}),r&&e.jsx("div",{children:e.jsx(J,{columns:$,data:q,paginationInfo:j,pagination:l,setPagination:n})})]})}),e.jsx(b,{title:"Add Leave Group",isOpen:a,toggleModal:()=>o(!1),className:"",children:e.jsx(N,{modalClose:()=>o(!1)})})]})};export{Q as default};
