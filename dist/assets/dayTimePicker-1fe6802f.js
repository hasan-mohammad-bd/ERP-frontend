import{bR as J,cd as L,a5 as X,ce as F,r as x,a as n,aZ as P,a_ as _,a$ as D,b0 as I,b2 as S,I as C,b as y,a6 as ee,a7 as te,Q as re,aR as ne,a8 as O,a9 as se,cf as k,cg as ce,o as B,ch as ae,ci as ue}from"./index-7f835caf.js";import{C as ie}from"./clock-fb225382.js";function oe(e,t){const{years:r=0,months:u=0,weeks:s=0,days:f=0,hours:l=0,minutes:i=0,seconds:o=0}=t,a=J(e),m=u||r?L(a,u+r*12):a,c=f||s?X(m,f+s*7):m,h=i+l*60,b=(o+h*60)*1e3;return F(e,c.getTime()+b)}function le(e){return/^(0[0-9]|1[0-9]|2[0-3])$/.test(e)}function fe(e){return/^(0[1-9]|1[0-2])$/.test(e)}function de(e){return/^[0-5][0-9]$/.test(e)}function V(e,{max:t,min:r=0,loop:u=!1}){let s=parseInt(e,10);return isNaN(s)?"00":(u?(s>t&&(s=r),s<r&&(s=t)):(s>t&&(s=t),s<r&&(s=r)),s.toString().padStart(2,"0"))}function U(e){return le(e)?e:V(e,{max:23})}function K(e){return fe(e)?e:V(e,{min:1,max:12})}function N(e){return de(e)?e:V(e,{max:59})}function $(e,{min:t,max:r,step:u}){let s=parseInt(e,10);return isNaN(s)?"00":(s+=u,V(String(s),{min:t,max:r,loop:!0}))}function me(e,t){return $(e,{min:0,max:23,step:t})}function xe(e,t){return $(e,{min:1,max:12,step:t})}function E(e,t){return $(e,{min:0,max:59,step:t})}function he(e,t){const r=N(t);return e.setMinutes(parseInt(r,10)),e}function we(e,t){const r=N(t);return e.setSeconds(parseInt(r,10)),e}function ge(e,t){const r=U(t);return e.setHours(parseInt(r,10)),e}function pe(e,t,r){const u=parseInt(K(t),10),s=ye(u,r);return e.setHours(s),e}function R(e,t,r,u){switch(r){case"minutes":return he(e,t);case"seconds":return we(e,t);case"hours":return ge(e,t);case"12hours":return u?pe(e,t,u):e;default:return e}}function be(e,t){if(!e)return"00";switch(t){case"minutes":return N(String(e.getMinutes()));case"seconds":return N(String(e.getSeconds()));case"hours":return U(String(e.getHours()));case"12hours":const r=W(e.getHours());return K(String(r));default:return"00"}}function je(e,t,r){switch(r){case"minutes":return E(e,t);case"seconds":return E(e,t);case"hours":return me(e,t);case"12hours":return xe(e,t);default:return"00"}}function ye(e,t){return t==="PM"?e<=11?e+12:e:t==="AM"&&e===12?0:e}function W(e){return e===0||e===12?"12":e>=22?`${e-12}`:e%12>9?`${e}`:`0${e%12}`}function Me(e){return Array.from({length:12},(t,r)=>({value:r,label:O(new Date(2021,r),"MMMM",{locale:e})}))}function Se(e,t=50){const r=new Date;return Array.from({length:t*2+1},(u,s)=>({value:r.getFullYear()-t+s,label:(r.getFullYear()-t+s).toString()}))}function z({className:e,classNames:t,showOutsideDays:r=!0,yearRange:u=50,...s}){const f=x.useMemo(()=>Me(s.locale||k),[]),l=x.useMemo(()=>Se(s.locale||k,u),[]);return n.jsx(ce,{showOutsideDays:r,className:y("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0 justify-center",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:y(B({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:y(B({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>n.jsx(ae,{...i,className:"h-4 w-4"}),IconRight:({...i})=>n.jsx(ue,{...i,className:"h-4 w-4"}),CaptionLabel:({displayMonth:i})=>n.jsxs("div",{className:"inline-flex gap-2",children:[n.jsxs(P,{defaultValue:i.getMonth().toString(),onValueChange:o=>{var m;const a=new Date(i);a.setMonth(parseInt(o,10)),(m=s.onMonthChange)==null||m.call(s,a)},children:[n.jsx(_,{className:"w-fit border-none p-0 focus:bg-accent focus:text-accent-foreground",children:n.jsx(D,{})}),n.jsx(I,{children:f.map(o=>n.jsx(S,{value:o.value.toString(),children:o.label},o.value))})]}),n.jsxs(P,{defaultValue:i.getFullYear().toString(),onValueChange:o=>{var m;const a=new Date(i);a.setFullYear(parseInt(o,10)),(m=s.onMonthChange)==null||m.call(s,a)},children:[n.jsx(_,{className:"w-fit border-none p-0 focus:bg-accent focus:text-accent-foreground",children:n.jsx(D,{})}),n.jsx(I,{children:l.map(o=>n.jsx(S,{value:o.value.toString(),children:o.label},o.value))})]})]})},...s})}z.displayName="Calendar";const Q=x.forwardRef(({period:e,setPeriod:t,date:r,onDateChange:u,onLeftFocus:s,onRightFocus:f},l)=>{const i=a=>{a.key==="ArrowRight"&&(f==null||f()),a.key==="ArrowLeft"&&(s==null||s())},o=a=>{if(t==null||t(a),r){const m=new Date(r),c=W(r.getHours());u==null||u(R(m,c.toString(),"12hours",e==="AM"?"PM":"AM"))}};return n.jsx("div",{className:"flex h-10 items-center",children:n.jsxs(P,{defaultValue:e,onValueChange:a=>o(a),children:[n.jsx(_,{ref:l,className:"w-[65px] focus:bg-accent focus:text-accent-foreground",onKeyDown:i,children:n.jsx(D,{})}),n.jsxs(I,{children:[n.jsx(S,{value:"AM",children:"AM"}),n.jsx(S,{value:"PM",children:"PM"})]})]})})});Q.displayName="TimePeriodSelect";const M=x.forwardRef(({className:e,type:t="tel",value:r,id:u,name:s,date:f=new Date(new Date().setHours(0,0,0,0)),onDateChange:l,onChange:i,onKeyDown:o,picker:a,period:m,onLeftFocus:c,onRightFocus:h,...j},b)=>{const[w,g]=x.useState(!1),[Y,A]=x.useState("0");x.useEffect(()=>{if(w){const d=setTimeout(()=>{g(!1)},2e3);return()=>clearTimeout(d)}},[w]);const p=x.useMemo(()=>be(f,a),[f,a]),q=d=>a==="12hours"&&w&&p.slice(1,2)==="1"&&Y==="0"?"0"+d:w?p.slice(1,2)+d:"0"+d,G=d=>{if(d.key!=="Tab"){if(d.preventDefault(),d.key==="ArrowRight"&&(h==null||h()),d.key==="ArrowLeft"&&(c==null||c()),["ArrowUp","ArrowDown"].includes(d.key)){const H=d.key==="ArrowUp"?1:-1,T=je(p,H,a);w&&g(!1);const v=f?new Date(f):new Date;l==null||l(R(v,T,a,m))}if(d.key>="0"&&d.key<="9"){a==="12hours"&&A(d.key);const H=q(d.key);w&&(h==null||h()),g(v=>!v);const T=f?new Date(f):new Date;l==null||l(R(T,H,a,m))}}};return n.jsx(C,{ref:b,id:u||a,name:s||a,className:y("w-[48px] text-center font-mono text-base tabular-nums caret-transparent focus:bg-accent focus:text-accent-foreground [&::-webkit-inner-spin-button]:appearance-none",e),value:r||p,onChange:d=>{d.preventDefault(),i==null||i(d)},type:t,inputMode:"decimal",onKeyDown:d=>{o==null||o(d),G(d)},...j})});M.displayName="TimePickerInput";const Z=x.forwardRef(({date:e,onChange:t,hourCycle:r=24,granularity:u="second"},s)=>{const f=x.useRef(null),l=x.useRef(null),i=x.useRef(null),o=x.useRef(null),[a,m]=x.useState(e&&e.getHours()>=12?"PM":"AM");return x.useImperativeHandle(s,()=>({minuteRef:f.current,hourRef:l.current,secondRef:i.current,periodRef:o.current}),[f,l,i]),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("label",{htmlFor:"datetime-picker-hour-input",className:"cursor-pointer",children:n.jsx(ie,{className:"mr-2 h-4 w-4"})}),n.jsx(M,{picker:r===24?"hours":"12hours",date:e,id:"datetime-picker-hour-input",onDateChange:t,ref:l,period:a,onRightFocus:()=>{var c;return(c=f.current)==null?void 0:c.focus()}}),(u==="minute"||u==="second")&&n.jsxs(n.Fragment,{children:[":",n.jsx(M,{picker:"minutes",date:e,onDateChange:t,ref:f,onLeftFocus:()=>{var c;return(c=l.current)==null?void 0:c.focus()},onRightFocus:()=>{var c;return(c=i.current)==null?void 0:c.focus()}})]}),u==="second"&&n.jsxs(n.Fragment,{children:[":",n.jsx(M,{picker:"seconds",date:e,onDateChange:t,ref:i,onLeftFocus:()=>{var c;return(c=f.current)==null?void 0:c.focus()},onRightFocus:()=>{var c;return(c=o.current)==null?void 0:c.focus()}})]}),r===12&&n.jsx("div",{className:"grid gap-1 text-center",children:n.jsx(Q,{period:a,setPeriod:m,date:e,onDateChange:c=>{t==null||t(c),c&&(c==null?void 0:c.getHours())>=12?m("PM"):m("AM")},ref:o,onLeftFocus:()=>{var c;return(c=i.current)==null?void 0:c.focus()}})})]})});Z.displayName="TimePicker";const Ne=x.forwardRef(({locale:e=k,value:t,onChange:r,hourCycle:u=24,yearRange:s=50,disabled:f=!1,displayFormat:l,granularity:i="second",placeholder:o="Pick a date",...a},m)=>{const[c,h]=x.useState(t??new Date),j=x.useRef(null),b=g=>{if(!g)return;if(!t){r==null||r(g),h(g);return}const A=(g.getTime()-t.getTime())/(1e3*60*60*24),p=oe(t,{days:Math.ceil(A)});r==null||r(p),h(p)};x.useImperativeHandle(m,()=>({...j.current,value:t}),[t]);const w={hour24:(l==null?void 0:l.hour24)??"PPP HH:mm:ss",hour12:(l==null?void 0:l.hour12)??"PP hh:mm:ss b"};return n.jsxs(ee,{children:[n.jsx(te,{asChild:!0,disabled:f,children:n.jsxs(re,{variant:"outline",className:y("w-[280px] justify-start text-left font-normal",!t&&"text-muted-foreground"),ref:j,children:[n.jsx(ne,{className:"mr-2 h-4 w-4"}),t?O(t,u===24?w.hour24:w.hour12,{locale:e}):n.jsx("span",{children:o})]})}),n.jsxs(se,{className:"w-auto p-0",children:[n.jsx(z,{mode:"single",selected:t,month:c,onSelect:g=>b(g),onMonthChange:b,initialFocus:!0,yearRange:s,locale:e,...a}),i!=="day"&&n.jsx("div",{className:"border-t border-border p-3",children:n.jsx(Z,{onChange:r,date:t,hourCycle:u,granularity:i})})]})]})});Ne.displayName="DateTimePicker";export{Ne as D};
