import{a as s,N as u,b1 as y,b2 as b,b3 as h,b4 as l,b5 as t,b6 as n,cO as v,b9 as N,r as j,am as T,ba as _,aC as f,cP as L}from"./index-43f423c4.js";import{a as g}from"./format-dates-e3903b28.js";const i=({tableData:r})=>s.jsxs(u,{children:[" ",s.jsxs(y,{className:"",children:[s.jsx(b,{children:s.jsxs(h,{children:[s.jsx(l,{children:"Employee Id"}),s.jsx(l,{children:"Employee Name"}),s.jsx(l,{children:"Leave Type"}),s.jsx(l,{children:"Leave Date"}),s.jsx(l,{children:"Total Days Taken"})]})}),s.jsx(t,{className:"",children:r&&r.map(a=>{var c,d,e,o;return s.jsxs(h,{className:"",children:[s.jsx(n,{className:"",children:(c=a==null?void 0:a.employee)==null?void 0:c.employee_unique_id}),s.jsxs(n,{className:"",children:[(d=a==null?void 0:a.employee)==null?void 0:d.first_name," ",(e=a==null?void 0:a.employee)==null?void 0:e.last_name]}),s.jsx(n,{children:(o=a==null?void 0:a.leave_type)==null?void 0:o.name}),s.jsxs(n,{children:[g(a==null?void 0:a.start_date_time)," - ",g(a==null?void 0:a.end_date_time)]}),s.jsxs(n,{children:[a==null?void 0:a.duration_day," ",(a==null?void 0:a.duration_day)>1?"days":"day",(a==null?void 0:a.duration_hour)>0?` (${a==null?void 0:a.duration_hour} hours)`:""]})]},a==null?void 0:a.id)})}),s.jsx(v,{})]})]}),P=N.injectEndpoints({endpoints:r=>({getLeaveUsage:r.query({query:a=>`leave-reports/usages?${a}`,providesTags:["leave-usage"]})}),overrideExisting:!1}),{useGetLeaveUsageQuery:C}=P,U=()=>{const[r,a]=j.useState(1),[c,d]=j.useState(10),{data:e,isLoading:o}=C(`per_page=${c}&page=${r}`),x=(e==null?void 0:e.data)||[],p=e==null?void 0:e.meta;return o?s.jsx(T,{}):s.jsx(s.Fragment,{children:s.jsxs(u,{children:[s.jsxs(_,{className:"space-y-4",fileName:"leave-usages-report",children:[s.jsx("div",{className:"flex-1 space-y-4 my-4",children:s.jsxs("div",{className:"text-center  ",children:[s.jsx("h2",{children:"Akaar IT"}),s.jsx("h3",{className:"text-xl",children:"Leave Usages"})]})}),s.jsxs("div",{className:"flex-1 space-y-4 w-full mx-auto",children:[s.jsx(f,{}),x?s.jsx(i,{tableData:x}):null]})]}),p&&s.jsx(L,{className:"px-4 pb-4",meta:p,dataCount:x.length,onPageChange:a,onPageSizeChange:d})]})})};export{U as default};
