import{bv as je,aF as he,aO as ae,b4 as te,bn as me,B as ge,D as be,bw as ye,a as e,ar as f,G as fe,H as r,J as x,K as o,M as j,I as _,N as h,aZ as N,a_ as C,a$ as w,b0 as P,b2 as y,bp as J,Q as E,as as $,r as k,aw as W,ax as H,ay as B,az as Se,aA as Z,aB as _e,aC as Ne,aD as Y,aE as le,R as Ce,aG as we,aH as Pe,aI as Le,aJ as Ve}from"./index-df579efb.js";import{u as Me}from"./index-384559bc.js";import{u as Ee}from"./index-56dbc990.js";import{S as Je}from"./switch-9c08f26b.js";import{a as ke,b as Fe,c as Ae,u as Oe}from"./index-7c14ac60.js";import{Z as Ie}from"./zoom-in-78798e57.js";function ce({modalClose:s,data:n}){var X,p,v,D,ee,ne,se;const[t,{isLoading:g}]=ke(),[a,{isLoading:b}]=Fe(),{data:m,isLoading:S}=je(),{data:V,isLoading:F}=he("page=1&per_page=1000"),{data:M,isLoading:A}=ae("page=1&per_page=1000"),{data:O,isLoading:de}=te("page=1&per_page=1000"),{data:I,isLoading:ie}=Me("page=1&per_page=1000"),{data:R,isLoading:re}=me(),{data:T,isLoading:xe}=Ee(),z=(V==null?void 0:V.data)||[],G=(m==null?void 0:m.data)||[],K=(M==null?void 0:M.data)||[],Q=(O==null?void 0:O.data)||[],q=(I==null?void 0:I.data)||[],u=(R==null?void 0:R.data)||[],U=(T==null?void 0:T.data)||[],i=ge({resolver:be(ye),defaultValues:{title:(n==null?void 0:n.title)||"",date:(n==null?void 0:n.date)||"",deadline:(n==null?void 0:n.deadline)||"",vacancy_number:(n==null?void 0:n.vacancy_number)||0,organization_id:((X=n==null?void 0:n.organization)==null?void 0:X.id)||1,department_id:((p=n==null?void 0:n.department)==null?void 0:p.id)||1,designation_id:((v=n==null?void 0:n.designation)==null?void 0:v.id)||1,location_id:((D=n==null?void 0:n.location)==null?void 0:D.id)||1,vacancy_requisition_id:((ee=n==null?void 0:n.vacancy_requisition)==null?void 0:ee.id)||1,employment_status_id:((ne=n==null?void 0:n.employment_status)==null?void 0:ne.id)||1,work_place_id:((se=n==null?void 0:n.work_place)==null?void 0:se.id)||1,min_age:(n==null?void 0:n.min_age)||18,max_age:(n==null?void 0:n.max_age)||60,responsibilities:(n==null?void 0:n.responsibilities)||"",education:(n==null?void 0:n.education)||"",experience:(n==null?void 0:n.experience)||"",skills:(n==null?void 0:n.skills)||"",show_salary:(n==null?void 0:n.show_salary)||0,min_salary:(n==null?void 0:n.min_salary)||0,max_salary:(n==null?void 0:n.max_salary)||0,status:(n==null?void 0:n.status)||"active"}});async function oe(l){try{n?(await a({jobPostId:n.id,updatedJobPost:l}),$.success("Job Post updated successfully"),s()):(await t(l),$.success("Job Post created successfully"),s())}catch(d){console.log(d)}}return e.jsx(e.Fragment,{children:g||b?e.jsx("div",{className:"h-56",children:e.jsx(f,{})}):e.jsx(fe,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(oe),className:" space-y-3 ",children:[e.jsx(r,{control:i.control,name:"title",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Title"}),e.jsx(j,{children:e.jsx(_,{placeholder:"Enter Title ",...l})}),e.jsx(h,{})]})}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsx(r,{control:i.control,name:"date",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Date"}),e.jsx(j,{children:e.jsx(_,{type:"date",placeholder:"Enter Date",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:i.control,name:"deadline",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Deadline"}),e.jsx(j,{children:e.jsx(_,{type:"date",placeholder:"Enter Deadline",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:i.control,name:"department_id",render:({field:l})=>{var d;return e.jsxs(x,{children:[e.jsx(o,{children:"Department name"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.department)!=null&&d.id?String(n.department.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(w,{placeholder:"Select Department"})})}),e.jsx(P,{children:F?e.jsx(f,{}):z==null?void 0:z.map(c=>e.jsx(y,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:i.control,name:"organization_id",render:({field:l})=>{var d;return e.jsxs(x,{children:[e.jsx(o,{children:"Organization name"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.organization)!=null&&d.id?String(n.organization.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(w,{placeholder:"Select Organization"})})}),e.jsx(P,{children:S?e.jsx(f,{}):G==null?void 0:G.map(c=>e.jsx(y,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:i.control,name:"designation_id",render:({field:l})=>{var d,c;return e.jsxs(x,{children:[e.jsx(o,{children:"Designation Name"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.designation)!=null&&d.id?String((c=n==null?void 0:n.designation)==null?void 0:c.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(w,{placeholder:"Select Designation"})})}),e.jsx(P,{children:A?e.jsx(f,{}):K==null?void 0:K.map(L=>e.jsx(y,{value:String(L.id),children:L.name},L.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:i.control,name:"location_id",render:({field:l})=>{var d;return e.jsxs(x,{children:[e.jsx(o,{children:"Location"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.location)!=null&&d.id?String(n==null?void 0:n.location.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(w,{placeholder:"Select Location"})})}),e.jsx(P,{children:de?e.jsx(f,{}):Q==null?void 0:Q.map(c=>e.jsx(y,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:i.control,name:"vacancy_requisition_id",render:({field:l})=>{var d;return e.jsxs(x,{children:[e.jsx(o,{children:"Vacancy Requisition"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.vacancy_requisition)!=null&&d.id?String(n==null?void 0:n.vacancy_requisition.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(w,{placeholder:"Select Vacancy Requisition"})})}),e.jsx(P,{children:ie?e.jsx(f,{}):q==null?void 0:q.map(c=>e.jsx(y,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:i.control,name:"vacancy_number",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Vacancy Number"}),e.jsx(j,{children:e.jsx(_,{type:"number",placeholder:"Enter requisition hour",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:i.control,name:"employment_status_id",render:({field:l})=>{var d;return e.jsxs(x,{children:[e.jsx(o,{children:"Employment Status"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.employment_status)!=null&&d.id?String(n.employment_status.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(w,{placeholder:"Select Employment Status"})})}),e.jsx(P,{children:re?e.jsx(f,{}):u==null?void 0:u.map(c=>e.jsx(y,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:i.control,name:"work_place_id",render:({field:l})=>{var d,c;return e.jsxs(x,{children:[e.jsx(o,{children:"Work Place"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.work_place)!=null&&d.id?String((c=n==null?void 0:n.work_place)==null?void 0:c.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(w,{placeholder:"Select Work Place"})})}),e.jsx(P,{children:xe?e.jsx(f,{}):U==null?void 0:U.map(L=>e.jsx(y,{value:String(L.id),children:L.name},L.id))})]}),e.jsx(h,{})]})}}),e.jsx(r,{control:i.control,name:"status",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Status"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(n==null?void 0:n.status)||"Active",children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(w,{placeholder:""})})}),e.jsxs(P,{children:[e.jsx(y,{value:"Active",children:"Active"}),e.jsx(y,{value:"Inactive",children:"Inactive"})]})]}),e.jsx(h,{})]})}),e.jsx(r,{control:i.control,name:"responsibilities",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Responsibilities"}),e.jsx(j,{children:e.jsx(J,{placeholder:"Enter responsibilities name",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:i.control,name:"education",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Education"}),e.jsx(j,{children:e.jsx(J,{placeholder:"Enter education",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:i.control,name:"experience",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Experience"}),e.jsx(j,{children:e.jsx(J,{placeholder:"Enter experience",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:i.control,name:"skills",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Skills"}),e.jsx(j,{children:e.jsx(J,{placeholder:"Enter skills",...l})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(r,{control:i.control,name:"min_age",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Minimum Age"}),e.jsx(j,{children:e.jsx(_,{type:"number",placeholder:"Enter minimum age limit",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:i.control,name:"max_age",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Maximum Age"}),e.jsx(j,{children:e.jsx(_,{type:"number",placeholder:"Enter maximum age limit",...l})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(r,{control:i.control,name:"min_salary",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Minimum Salary"}),e.jsx(j,{children:e.jsx(_,{type:"number",placeholder:"Enter minimum salary limit",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:i.control,name:"max_salary",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Maximum Salary"}),e.jsx(j,{children:e.jsx(_,{type:"number",placeholder:"Enter maximum salary limit",...l})}),e.jsx(h,{})]})}),e.jsx(r,{control:i.control,name:"show_salary",render:({field:l})=>e.jsxs(x,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(o,{children:"Show Salary"})}),e.jsx(j,{children:e.jsx(Je,{checked:l.value===1,onCheckedChange:d=>l.onChange(d?1:0)})})]})})]}),e.jsx("div",{children:e.jsx(E,{variant:"default",type:"submit",className:"w-full mt-4",children:n?"Update":"Add"})})]})})})}const Re=({data:s})=>{var n,t,g,a,b,m,S;return e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Title:"}),e.jsx("div",{children:s.title})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Date:"}),e.jsx("div",{children:s.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Deadline:"}),e.jsx("div",{children:s.deadline})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Department:"}),e.jsx("div",{children:(n=s.department)==null?void 0:n.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Organization:"}),e.jsx("div",{children:(t=s.organization)==null?void 0:t.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Designation:"}),e.jsx("div",{children:(g=s.designation)==null?void 0:g.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Location:"}),e.jsx("div",{children:(a=s.location)==null?void 0:a.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Vacancy Requisition:"}),e.jsx("div",{children:(b=s.vacancy_requisition)==null?void 0:b.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Vacancy Number:"}),e.jsx("div",{children:s.vacancy_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Employment Status:"}),e.jsx("div",{children:(m=s.employment_status)==null?void 0:m.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Work Place:"}),e.jsx("div",{children:(S=s.work_place)==null?void 0:S.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Status:"}),e.jsx("div",{children:s.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Responsibilities:"}),e.jsx("div",{children:s.responsibilities})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Education:"}),e.jsx("div",{children:s.education})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Experience:"}),e.jsx("div",{children:s.experience})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Skills:"}),e.jsx("div",{children:s.skills})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Minimum Age:"}),e.jsx("div",{children:s.min_age})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Maximum Age:"}),e.jsx("div",{children:s.max_age})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Minimum Salary:"}),e.jsx("div",{children:s.min_salary})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Maximum Salary:"}),e.jsx("div",{children:s.max_salary})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Show Salary:"}),e.jsx("div",{children:s.show_salary===1?"Yes":"No"})]})]})})};function Te({data:s}){const[n,t]=k.useState(!1),[g,a]=k.useState(!1),[b,m]=k.useState(!1),[S,{isLoading:V}]=Ae(),F=async M=>{try{await S(M),$.success("Job deleted successfully"),t(!1)}catch(A){console.log(A)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(W,{children:e.jsxs(H,{children:[e.jsx(B,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>a(!0),children:e.jsx(Se,{className:"h-4 w-4 text-foreground"})})}),e.jsx(Z,{children:e.jsx("p",{children:"Update Job Post"})})]})}),e.jsx(W,{children:e.jsxs(H,{children:[e.jsx(B,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{m(!0)},children:e.jsx(Ie,{className:"h-4 w-4 text-foreground"})})}),e.jsx(Z,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(W,{children:e.jsxs(H,{children:[e.jsx(B,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{t(!0)},children:e.jsx(_e,{className:"h-4 w-4 text-foreground"})})}),e.jsx(Z,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(Ne,{title:"Are you sure?",description:"This action cannot be undone.",name:s.title,isOpen:n,onClose:()=>t(!1),onConfirm:()=>F(s.id),loading:V}),g&&e.jsx(Y,{title:"Update Job",isOpen:g,toggleModal:()=>a(!1),className:"w-[90%] max-w-6xl",children:e.jsx(ce,{data:s,modalClose:()=>a(!1)})}),b&&e.jsx(Y,{title:"Job Details",isOpen:b,toggleModal:()=>m(!1),className:"w-[90%] max-w-6xl",children:e.jsx(Re,{data:s})})]})}const ze=[{id:"select",header:({table:s})=>e.jsx(le,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>s.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:s})=>e.jsx(le,{checked:s.getIsSelected(),onCheckedChange:n=>s.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"title",header:"Job title"},{accessorKey:"",accessorFn:({department:s})=>s==null?void 0:s.name,header:"Department"},{accessorKey:"",accessorFn:({organization:s})=>s==null?void 0:s.name,header:"Organization"},{accessorKey:"",accessorFn:({designation:s})=>s==null?void 0:s.name,header:"Designation"},{accessorKey:"location",accessorFn:({location:s})=>s==null?void 0:s.name,header:"Location"},{accessorKey:"vacancy_requisition",accessorFn:({vacancy_requisition:s})=>s==null?void 0:s.name,header:"Vacancy requisition"},{accessorKey:"vacancy_number",header:"Vacancy number"},{accessorKey:"employment_status",accessorFn:({employment_status:s})=>s==null?void 0:s.name,header:"Employment status"},{accessorKey:"work_place",accessorFn:({work_place:s})=>s==null?void 0:s.name,header:"Work place"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:s})=>e.jsx(Te,{data:s.original})}],We=()=>{const[s,n]=k.useState(!1),[t,g]=Ce.useState({pageIndex:0,pageSize:10}),{data:a,isLoading:b}=Oe(`per_page=${t.pageSize}&page=${t.pageIndex+1}`),m=(a==null?void 0:a.data)||[],S=a==null?void 0:a.meta;return b?e.jsx(f,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(we,{title:"Job Post",description:"Manage job post for you business"}),e.jsxs(E,{onClick:()=>n(!0),size:"sm",children:[e.jsx(Pe,{className:"mr-2 h-4 w-4"})," Add Job Post"]})]}),e.jsx(Le,{}),m&&e.jsx("div",{children:e.jsx(Ve,{columns:ze,data:m,paginationInfo:S,pagination:t,setPagination:g})})]})}),s&&e.jsx(Y,{title:"Add Job Post",isOpen:s,toggleModal:()=>n(!1),className:"w-[90%] max-w-6xl",children:e.jsx(ce,{modalClose:()=>n(!1)})})]})};export{We as default};
