import{bB as je,aK as ae,aT as he,ba as te,E as me,G as ge,bC as be,a as e,aw as f,J as ye,K as r,N as x,Q as o,V as j,I as _,W as a,b3 as N,b4 as C,b5 as P,b6 as w,b8 as y,bx as J,X as M,ax as X,r as k,aB as U,aC as B,aD as H,aE as fe,aF as $,aV as Se,aG as _e,aH as Ne,aI as Y,aJ as le,R as Ce,aL as Pe,aM as we,aN as Le,aO as Ve}from"./index-9630b0bd.js";import{u as Ee}from"./index-7f08d42c.js";import{u as Me}from"./index-f883db0e.js";import{u as Je}from"./index-669f7b1e.js";import{S as ke}from"./switch-1711aed6.js";import{a as Fe,b as Ae,c as Oe,u as Ie}from"./index-98f6fc02.js";function ce({modalClose:s,data:n}){var Z,p,v,D,ee,ne,se;const[t,{isLoading:g}]=Fe(),[h,{isLoading:b}]=Ae(),{data:m,isLoading:S}=je("page=1&per_page=1000"),{data:V,isLoading:F}=ae("page=1&per_page=1000"),{data:E,isLoading:A}=he("page=1&per_page=1000"),{data:O,isLoading:de}=te("page=1&per_page=1000"),{data:I,isLoading:ie}=Ee("page=1&per_page=1000"),{data:R,isLoading:re}=Me(),{data:T,isLoading:xe}=Je(),K=(V==null?void 0:V.data)||[],z=(m==null?void 0:m.data)||[],G=(E==null?void 0:E.data)||[],u=(O==null?void 0:O.data)||[],Q=(I==null?void 0:I.data)||[],q=(R==null?void 0:R.data)||[],W=(T==null?void 0:T.data)||[],i=me({resolver:ge(be),defaultValues:{title:(n==null?void 0:n.title)||"",date:(n==null?void 0:n.date)||"",deadline:(n==null?void 0:n.deadline)||"",vacancy_number:(n==null?void 0:n.vacancy_number)||0,organization_id:((Z=n==null?void 0:n.organization)==null?void 0:Z.id)||1,department_id:((p=n==null?void 0:n.department)==null?void 0:p.id)||1,designation_id:((v=n==null?void 0:n.designation)==null?void 0:v.id)||1,location_id:((D=n==null?void 0:n.location)==null?void 0:D.id)||1,vacancy_requisition_id:((ee=n==null?void 0:n.vacancy_requisition)==null?void 0:ee.id)||1,employment_status_id:((ne=n==null?void 0:n.employment_status)==null?void 0:ne.id)||1,work_place_id:((se=n==null?void 0:n.work_place)==null?void 0:se.id)||1,min_age:(n==null?void 0:n.min_age)||18,max_age:(n==null?void 0:n.max_age)||60,responsibilities:(n==null?void 0:n.responsibilities)||"",education:(n==null?void 0:n.education)||"",experience:(n==null?void 0:n.experience)||"",skills:(n==null?void 0:n.skills)||"",show_salary:(n==null?void 0:n.show_salary)||0,min_salary:(n==null?void 0:n.min_salary)||0,max_salary:(n==null?void 0:n.max_salary)||0,status:(n==null?void 0:n.status)||"active"}});async function oe(l){try{n?(await h({jobPostId:n.id,updatedJobPost:l}),X.success("Job Post updated successfully"),s()):(await t(l),X.success("Job Post created successfully"),s())}catch(d){console.log(d)}}return e.jsx(e.Fragment,{children:g||b?e.jsx("div",{className:"h-56",children:e.jsx(f,{})}):e.jsx(ye,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(oe),className:" space-y-3 ",children:[e.jsx(r,{control:i.control,name:"title",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Title"}),e.jsx(j,{children:e.jsx(_,{placeholder:"Enter Title ",...l})}),e.jsx(a,{})]})}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsx(r,{control:i.control,name:"date",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Date"}),e.jsx(j,{children:e.jsx(_,{type:"date",placeholder:"Enter Date",...l})}),e.jsx(a,{})]})}),e.jsx(r,{control:i.control,name:"deadline",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Deadline"}),e.jsx(j,{children:e.jsx(_,{type:"date",placeholder:"Enter Deadline",...l})}),e.jsx(a,{})]})}),e.jsx(r,{control:i.control,name:"department_id",render:({field:l})=>{var d;return e.jsxs(x,{children:[e.jsx(o,{children:"Department name"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.department)!=null&&d.id?String(n.department.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Department"})})}),e.jsx(w,{children:F?e.jsx(f,{}):K==null?void 0:K.map(c=>e.jsx(y,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(a,{})]})}}),e.jsx(r,{control:i.control,name:"organization_id",render:({field:l})=>{var d;return e.jsxs(x,{children:[e.jsx(o,{children:"Organization name"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.organization)!=null&&d.id?String(n.organization.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Organization"})})}),e.jsx(w,{children:S?e.jsx(f,{}):z==null?void 0:z.map(c=>e.jsx(y,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(a,{})]})}}),e.jsx(r,{control:i.control,name:"designation_id",render:({field:l})=>{var d,c;return e.jsxs(x,{children:[e.jsx(o,{children:"Designation Name"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.designation)!=null&&d.id?String((c=n==null?void 0:n.designation)==null?void 0:c.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Designation"})})}),e.jsx(w,{children:A?e.jsx(f,{}):G==null?void 0:G.map(L=>e.jsx(y,{value:String(L.id),children:L.name},L.id))})]}),e.jsx(a,{})]})}}),e.jsx(r,{control:i.control,name:"location_id",render:({field:l})=>{var d;return e.jsxs(x,{children:[e.jsx(o,{children:"Location"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.location)!=null&&d.id?String(n==null?void 0:n.location.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Location"})})}),e.jsx(w,{children:de?e.jsx(f,{}):u==null?void 0:u.map(c=>e.jsx(y,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(a,{})]})}}),e.jsx(r,{control:i.control,name:"vacancy_requisition_id",render:({field:l})=>{var d;return e.jsxs(x,{children:[e.jsx(o,{children:"Vacancy Requisition"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.vacancy_requisition)!=null&&d.id?String(n==null?void 0:n.vacancy_requisition.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Vacancy Requisition"})})}),e.jsx(w,{children:ie?e.jsx(f,{}):Q==null?void 0:Q.map(c=>e.jsx(y,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(a,{})]})}}),e.jsx(r,{control:i.control,name:"vacancy_number",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Vacancy Number"}),e.jsx(j,{children:e.jsx(_,{type:"number",placeholder:"Enter requisition hour",...l})}),e.jsx(a,{})]})}),e.jsx(r,{control:i.control,name:"employment_status_id",render:({field:l})=>{var d;return e.jsxs(x,{children:[e.jsx(o,{children:"Employment Status"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.employment_status)!=null&&d.id?String(n.employment_status.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Employment Status"})})}),e.jsx(w,{children:re?e.jsx(f,{}):q==null?void 0:q.map(c=>e.jsx(y,{value:String(c.id),children:c.name},c.id))})]}),e.jsx(a,{})]})}}),e.jsx(r,{control:i.control,name:"work_place_id",render:({field:l})=>{var d,c;return e.jsxs(x,{children:[e.jsx(o,{children:"Work Place"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(d=n==null?void 0:n.work_place)!=null&&d.id?String((c=n==null?void 0:n.work_place)==null?void 0:c.id):void 0,children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:"Select Work Place"})})}),e.jsx(w,{children:xe?e.jsx(f,{}):W==null?void 0:W.map(L=>e.jsx(y,{value:String(L.id),children:L.name},L.id))})]}),e.jsx(a,{})]})}}),e.jsx(r,{control:i.control,name:"status",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Status"}),e.jsxs(N,{onValueChange:l.onChange,defaultValue:(n==null?void 0:n.status)||"Active",children:[e.jsx(j,{children:e.jsx(C,{children:e.jsx(P,{placeholder:""})})}),e.jsxs(w,{children:[e.jsx(y,{value:"Active",children:"Active"}),e.jsx(y,{value:"Inactive",children:"Inactive"})]})]}),e.jsx(a,{})]})}),e.jsx(r,{control:i.control,name:"responsibilities",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Responsibilities"}),e.jsx(j,{children:e.jsx(J,{placeholder:"Enter responsibilities name",...l})}),e.jsx(a,{})]})}),e.jsx(r,{control:i.control,name:"education",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Education"}),e.jsx(j,{children:e.jsx(J,{placeholder:"Enter education",...l})}),e.jsx(a,{})]})}),e.jsx(r,{control:i.control,name:"experience",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Experience"}),e.jsx(j,{children:e.jsx(J,{placeholder:"Enter experience",...l})}),e.jsx(a,{})]})}),e.jsx(r,{control:i.control,name:"skills",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Skills"}),e.jsx(j,{children:e.jsx(J,{placeholder:"Enter skills",...l})}),e.jsx(a,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(r,{control:i.control,name:"min_age",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Minimum Age"}),e.jsx(j,{children:e.jsx(_,{type:"number",placeholder:"Enter minimum age limit",...l})}),e.jsx(a,{})]})}),e.jsx(r,{control:i.control,name:"max_age",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Maximum Age"}),e.jsx(j,{children:e.jsx(_,{type:"number",placeholder:"Enter maximum age limit",...l})}),e.jsx(a,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(r,{control:i.control,name:"min_salary",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Minimum Salary"}),e.jsx(j,{children:e.jsx(_,{type:"number",placeholder:"Enter minimum salary limit",...l})}),e.jsx(a,{})]})}),e.jsx(r,{control:i.control,name:"max_salary",render:({field:l})=>e.jsxs(x,{children:[e.jsx(o,{children:"Maximum Salary"}),e.jsx(j,{children:e.jsx(_,{type:"number",placeholder:"Enter maximum salary limit",...l})}),e.jsx(a,{})]})}),e.jsx(r,{control:i.control,name:"show_salary",render:({field:l})=>e.jsxs(x,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(o,{children:"Show Salary"})}),e.jsx(j,{children:e.jsx(ke,{checked:l.value===1,onCheckedChange:d=>l.onChange(d?1:0)})})]})})]}),e.jsx("div",{children:e.jsx(M,{variant:"default",type:"submit",className:"w-full mt-4",children:n?"Update":"Add"})})]})})})}const Re=({data:s})=>{var n,t,g,h,b,m,S;return e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Title:"}),e.jsx("div",{children:s.title})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Date:"}),e.jsx("div",{children:s.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Deadline:"}),e.jsx("div",{children:s.deadline})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Department:"}),e.jsx("div",{children:(n=s.department)==null?void 0:n.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Organization:"}),e.jsx("div",{children:(t=s.organization)==null?void 0:t.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Designation:"}),e.jsx("div",{children:(g=s.designation)==null?void 0:g.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Location:"}),e.jsx("div",{children:(h=s.location)==null?void 0:h.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Vacancy Requisition:"}),e.jsx("div",{children:(b=s.vacancy_requisition)==null?void 0:b.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Vacancy Number:"}),e.jsx("div",{children:s.vacancy_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Employment Status:"}),e.jsx("div",{children:(m=s.employment_status)==null?void 0:m.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Work Place:"}),e.jsx("div",{children:(S=s.work_place)==null?void 0:S.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Status:"}),e.jsx("div",{children:s.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Responsibilities:"}),e.jsx("div",{children:s.responsibilities})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Education:"}),e.jsx("div",{children:s.education})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Experience:"}),e.jsx("div",{children:s.experience})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Skills:"}),e.jsx("div",{children:s.skills})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Minimum Age:"}),e.jsx("div",{children:s.min_age})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Maximum Age:"}),e.jsx("div",{children:s.max_age})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Minimum Salary:"}),e.jsx("div",{children:s.min_salary})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Maximum Salary:"}),e.jsx("div",{children:s.max_salary})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Show Salary:"}),e.jsx("div",{children:s.show_salary===1?"Yes":"No"})]})]})})};function Te({data:s}){const[n,t]=k.useState(!1),[g,h]=k.useState(!1),[b,m]=k.useState(!1),[S,{isLoading:V}]=Oe(),F=async E=>{try{await S(E),X.success("Job deleted successfully"),t(!1)}catch(A){console.log(A)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(U,{children:e.jsxs(B,{children:[e.jsx(H,{asChild:!0,children:e.jsx(M,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>h(!0),children:e.jsx(fe,{className:"h-4 w-4 text-foreground"})})}),e.jsx($,{children:e.jsx("p",{children:"Update Job Post"})})]})}),e.jsx(U,{children:e.jsxs(B,{children:[e.jsx(H,{asChild:!0,children:e.jsx(M,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{m(!0)},children:e.jsx(Se,{className:"h-4 w-4 text-foreground"})})}),e.jsx($,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(U,{children:e.jsxs(B,{children:[e.jsx(H,{asChild:!0,children:e.jsx(M,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{t(!0)},children:e.jsx(_e,{className:"h-4 w-4 text-foreground"})})}),e.jsx($,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(Ne,{title:"Are you sure?",description:"This action cannot be undone.",name:s.title,isOpen:n,onClose:()=>t(!1),onConfirm:()=>F(s.id),loading:V}),g&&e.jsx(Y,{title:"Update Job",isOpen:g,toggleModal:()=>h(!1),className:"w-[90%] max-w-6xl",children:e.jsx(ce,{data:s,modalClose:()=>h(!1)})}),b&&e.jsx(Y,{title:"Job Details",isOpen:b,toggleModal:()=>m(!1),className:"w-[90%] max-w-6xl",children:e.jsx(Re,{data:s})})]})}const Ke=[{id:"select",header:({table:s})=>e.jsx(le,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>s.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:s})=>e.jsx(le,{checked:s.getIsSelected(),onCheckedChange:n=>s.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"title",header:"Job title"},{accessorKey:"",accessorFn:({department:s})=>s==null?void 0:s.name,header:"Department"},{accessorKey:"",accessorFn:({organization:s})=>s==null?void 0:s.name,header:"Organization"},{accessorKey:"",accessorFn:({designation:s})=>s==null?void 0:s.name,header:"Designation"},{accessorKey:"location",accessorFn:({location:s})=>s==null?void 0:s.name,header:"Location"},{accessorKey:"vacancy_requisition",accessorFn:({vacancy_requisition:s})=>s==null?void 0:s.name,header:"Vacancy requisition"},{accessorKey:"vacancy_number",header:"Vacancy number"},{accessorKey:"employment_status",accessorFn:({employment_status:s})=>s==null?void 0:s.name,header:"Employment status"},{accessorKey:"work_place",accessorFn:({work_place:s})=>s==null?void 0:s.name,header:"Work place"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:s})=>e.jsx(Te,{data:s.original})}],Ue=()=>{const[s,n]=k.useState(!1),[t,g]=Ce.useState({pageIndex:0,pageSize:10}),{data:h,isLoading:b}=Ie(`per_page=${t.pageSize}&page=${t.pageIndex+1}`),m=(h==null?void 0:h.data)||[],S=h==null?void 0:h.meta;return b?e.jsx(f,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Pe,{title:"Job Post",description:"Manage job post for you business"}),e.jsxs(M,{onClick:()=>n(!0),size:"sm",children:[e.jsx(we,{className:"mr-2 h-4 w-4"})," Add Job Post"]})]}),e.jsx(Le,{}),m&&e.jsx("div",{children:e.jsx(Ve,{columns:Ke,data:m,paginationInfo:S,pagination:t,setPagination:g})})]})}),s&&e.jsx(Y,{title:"Add Job Post",isOpen:s,toggleModal:()=>n(!1),className:"w-[90%] max-w-6xl",children:e.jsx(ce,{modalClose:()=>n(!1)})})]})};export{Ue as default};
