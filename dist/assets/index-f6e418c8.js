import{c as on,W as de,X as se,aj as xn,a as e,Z as E,_ as ce,N as be,Q as Ee,$ as r,a0 as d,a1 as s,a2 as c,I as m,a3 as t,ak as G,al as T,am as K,an as R,ao as V,B as k,a4 as B,r as U,a6 as _e,a7 as fe,a8 as Se,a9 as Ce,aa as Ne,ad as ae,ae as le,ap as hn,ah as we,aq as jn,ar as Qe,as as qe,at as mn,au as Je,av as $e,aw as Oe,ax as ge,ay as gn,az as an,aA as yn,aB as _n,aC as He,G as fn,H as Sn,J as he,K as je,M as ne,U as me,a5 as Nn,aD as We,aE as bn,ab as En,ac as Xe,aF as Cn,y as wn,z as An,D as Be,aG as Ln,E as Pn,F as Fn,aH as D,R as Mn,aI as Vn,af as In,t as Gn,aJ as Tn,aK as Kn}from"./index-8ba5d1aa.js";import{u as Rn,a as Un,b as Ze,c as Ye,d as On,e as kn,f as Bn,g as zn,h as Qn,i as qn,j as Jn,k as pe}from"./index-41baf200.js";import{u as ke}from"./index-7730e418.js";import{u as $n}from"./index-e0aca8c2.js";import{c as ue}from"./index-088212cf.js";import{c as ve}from"./index-aa1b3b7e.js";import{u as De}from"./index-eb52feb2.js";import{u as en}from"./index-03c0d74f.js";import{u as nn}from"./index-34ef51d1.js";import{u as ln}from"./index-1636c4b0.js";import{S as Hn}from"./switch-81b0e9c9.js";import{u as Wn}from"./index-23445334.js";import{C as Xn}from"./circle-dollar-sign-02ace506.js";import{u as Zn,e as Yn}from"./attendance-policy-mapping-194c4973.js";import{u as pn}from"./index-7059b560.js";/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=on("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);function ze({previousData:l,modelId:n,title:a,addressType:f}){const[C,{isLoading:i}]=Rn(),[y,{isLoading:g}]=Un(),{data:N,isLoading:o}=Ze(),{data:_,isLoading:w}=Ye(),L=(N==null?void 0:N.data)||[],S=(_==null?void 0:_.data)||[],b=de({resolver:se(xn),defaultValues:{model_type:"App\\Models\\Employee\\Employee",model_id:n,country_id:(l==null?void 0:l.country.id)||1,city_id:(l==null?void 0:l.city.id)||1,post_code:(l==null?void 0:l.post_code)||"",address:(l==null?void 0:l.address)||"",type:f}});async function I(F){try{l!=null&&l.id?(await y({addressId:l==null?void 0:l.id,updatedAddress:F}),B.success("Job Post updated successfully")):(await C(F),B.success("Job Post created successfully"))}catch(O){console.log(O)}}return e.jsx(e.Fragment,{children:i||g?e.jsx("div",{className:"h-[535px]",children:e.jsx(E,{})}):e.jsxs(ce,{...b,children:[e.jsx(be,{className:"pl-0",children:e.jsxs(Ee,{className:"text-xl",children:[a," "]})}),e.jsxs("form",{onSubmit:b.handleSubmit(I),className:"space-y-3",children:[e.jsx(r,{control:b.control,name:"address",render:({field:F})=>e.jsxs(d,{children:[e.jsx(s,{children:"Address"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter address",...F})}),e.jsx(t,{})]})}),e.jsx(r,{control:b.control,name:"post_code",render:({field:F})=>e.jsxs(d,{children:[e.jsx(s,{children:"Post Code"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter post code",...F})}),e.jsx(t,{})]})}),e.jsx(r,{control:b.control,name:"country_id",render:({field:F})=>{var O,Q;return e.jsxs(d,{children:[e.jsx(s,{children:"Country"}),e.jsxs(G,{onValueChange:F.onChange,defaultValue:(O=l==null?void 0:l.country)!=null&&O.id?String((Q=l.country)==null?void 0:Q.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Country"})})}),e.jsx(R,{children:o?e.jsx(E,{}):L==null?void 0:L.map(q=>e.jsx(V,{value:String(q.id),children:q.name},q.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:b.control,name:"city_id",render:({field:F})=>{var O,Q;return e.jsxs(d,{children:[e.jsx(s,{children:"City"}),e.jsxs(G,{onValueChange:F.onChange,defaultValue:(O=l==null?void 0:l.city)!=null&&O.id?String((Q=l.city)==null?void 0:Q.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select City"})})}),e.jsx(R,{children:w?e.jsx(E,{}):S==null?void 0:S.map(q=>e.jsx(V,{value:String(q.id),children:q.name},q.id))})]}),e.jsx(t,{})]})}}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(k,{variant:"default",type:"submit",size:"sm",className:"mt-4",children:l!=null&&l.id?"Update":"Add"})})]})]})})}function vn({data:l}){const[n,a]=U.useState(!1);return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(_e,{children:e.jsxs(fe,{children:[e.jsx(Se,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>a(!0),children:e.jsx(Ce,{className:"h-4 w-4 text-foreground"})})}),e.jsx(Ne,{children:e.jsx("p",{children:"Update Education"})})]})}),n&&e.jsx(ae,{title:"Update Education",isOpen:n,toggleModal:()=>a(!1),className:"w-[90%] max-w-6xl",children:e.jsx(dn,{data:l,modelClose:()=>a(!1)})})]})}const Dn=[{id:"select",header:({table:l})=>e.jsx(le,{checked:l.getIsAllPageRowsSelected()||l.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>l.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:l})=>e.jsx(le,{checked:l.getIsSelected(),onCheckedChange:n=>l.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"type",header:"Education Type"},{accessorKey:"academy",header:"Academy"},{accessorKey:"grade",header:"Grade"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:l})=>e.jsx(vn,{data:l.original})}];function dn({previousData:l,data:n,modelClose:a}){const[f,{isLoading:C}]=On(),[i,{isLoading:y}]=kn(),g=de({resolver:se(hn),defaultValues:{model_type:"App\\Models\\Employee\\Employee",model_id:l==null?void 0:l.id,type:(n==null?void 0:n.type)||"",academy:(n==null?void 0:n.academy)||"",title:(n==null?void 0:n.title)||"",degree:(n==null?void 0:n.degree)||"",start_date:(n==null?void 0:n.start_date)||"",end_date:(n==null?void 0:n.end_date)||"",grade:(n==null?void 0:n.grade)||"",sorting_index:(n==null?void 0:n.sorting_index)||0}});async function N(o){try{n!=null&&n.id?(await i({educationId:n==null?void 0:n.id,updatedEducation:o}),B.success("Job Post updated successfully"),a&&a()):(await f(o),B.success("Job Post created successfully"),g.reset())}catch(_){console.log(_)}}return e.jsx(e.Fragment,{children:C||y?e.jsx("div",{className:"h-[535px]",children:e.jsx(E,{})}):e.jsxs("div",{className:"flex  h-[535px] gap-x-4",children:[e.jsx("div",{className:`${l?"w-1/2":"w-full"} `,children:e.jsxs(ce,{...g,children:[e.jsx(be,{children:e.jsx(Ee,{className:"text-center",children:"Education "})}),e.jsxs("form",{onSubmit:g.handleSubmit(N),className:"",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(r,{control:g.control,name:"type",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"Education Type"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter education type(HSC/SSC)",...o})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"academy",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"Academy"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Academy",...o})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"title",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"Title"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Title",...o})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"degree",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"Degree"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter degree",...o})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"start_date",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"Start Date"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter Start Date",...o})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"end_date",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"End Date (Optional)"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter End Date",...o})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"grade",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"Grade"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Grade",...o})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"sorting_index",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"String"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"Enter sorting",...o})}),e.jsx(t,{})]})})]}),e.jsx("div",{children:e.jsx(k,{variant:"default",type:"submit",className:"w-full mt-4",children:n!=null&&n.id?"Update":"Add"})})]})]})}),!(n!=null&&n.id)&&e.jsx("div",{className:"w-1/2 mt-4",children:e.jsx("div",{children:e.jsx(we,{columns:Dn,data:(l==null?void 0:l.educations)||[]})})})]})})}function el({data:l}){const[n,a]=U.useState(!1);return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(_e,{children:e.jsxs(fe,{children:[e.jsx(Se,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>a(!0),children:e.jsx(Ce,{className:"h-4 w-4 text-foreground"})})}),e.jsx(Ne,{children:e.jsx("p",{children:"Update Experience"})})]})}),n&&e.jsx(ae,{title:"Update Experience",isOpen:n,toggleModal:()=>a(!1),className:"w-[90%] max-w-6xl",children:e.jsx(sn,{data:l,modelClose:()=>a(!1)})})]})}const nl=[{id:"select",header:({table:l})=>e.jsx(le,{checked:l.getIsAllPageRowsSelected()||l.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>l.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:l})=>e.jsx(le,{checked:l.getIsSelected(),onCheckedChange:n=>l.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"institution",header:"Institution"},{accessorKey:"designation",header:"Designation"},{accessorKey:"start_date",header:"Start date"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:l})=>e.jsx(el,{data:l.original})}];function sn({previousData:l,data:n,modelClose:a}){var L;const[f,{isLoading:C}]=Bn(),[i,{isLoading:y}]=zn(),{data:g,isLoading:N}=ke(),o=(g==null?void 0:g.data)||[],_=de({resolver:se(jn),defaultValues:{model_type:"App\\Models\\Employee\\Employee",model_id:l==null?void 0:l.id,institution:(n==null?void 0:n.institution)||"",employment_status_id:((L=n==null?void 0:n.employment_status)==null?void 0:L.id)||2,start_date:(n==null?void 0:n.start_date)||"",end_date:(n==null?void 0:n.end_date)||null,description:(n==null?void 0:n.description)||"",designation:(n==null?void 0:n.designation)||"",sorting_index:(n==null?void 0:n.sorting_index)||0}});async function w(S){try{n!=null&&n.id?(await i({experienceId:n==null?void 0:n.id,updatedExperience:S}),B.success("Job Post updated successfully"),a&&a()):(await f(S),B.success("Job Post created successfully"),_.reset())}catch(b){console.log(b)}}return e.jsx(e.Fragment,{children:C||y?e.jsx("div",{className:"h-[535px]",children:e.jsx(E,{})}):e.jsxs("div",{className:"flex  h-[535px] gap-x-4",children:[e.jsx("div",{className:`${l?"w-1/2":"w-full"} `,children:e.jsxs(ce,{..._,children:[e.jsx(be,{children:e.jsx(Ee,{className:"text-center",children:"Experience "})}),e.jsxs("form",{onSubmit:_.handleSubmit(w),className:"",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(r,{control:_.control,name:"institution",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"Institution"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter institution",...S})}),e.jsx(t,{})]})}),e.jsx(r,{control:_.control,name:"employment_status_id",render:({field:S})=>{var b;return e.jsxs(d,{children:[e.jsx(s,{children:"Employment Status"}),e.jsxs(G,{onValueChange:S.onChange,defaultValue:(b=n==null?void 0:n.employment_status)!=null&&b.id?String(n.employment_status.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Employment Status"})})}),e.jsx(R,{children:N?e.jsx(E,{}):o==null?void 0:o.map(I=>e.jsx(V,{value:String(I.id),children:I.name},I.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:_.control,name:"designation",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"Designation"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Designation",...S})}),e.jsx(t,{})]})}),e.jsx(r,{control:_.control,name:"description",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"Description (optional)"}),e.jsx(c,{children:e.jsx(Qe,{placeholder:"Enter Description",value:S.value||"",onChange:b=>S.onChange(b.target.value)})}),e.jsx(t,{})]})}),e.jsx(r,{control:_.control,name:"start_date",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"Start Date"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter Start Date",...S})}),e.jsx(t,{})]})}),e.jsx(r,{control:_.control,name:"end_date",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"End Date (optional)"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter End Date",value:S.value||"",onChange:b=>S.onChange(b.target.value)})}),e.jsx(t,{})]})}),e.jsx(r,{control:_.control,name:"sorting_index",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"String"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"Enter sorting",...S})}),e.jsx(t,{})]})})]}),e.jsx("div",{children:e.jsx(k,{variant:"default",type:"submit",className:"w-full mt-4",children:n!=null&&n.id?"Update":"Add"})})]})]})}),!(n!=null&&n.id)&&e.jsx("div",{className:"w-1/2 mt-4",children:e.jsx("div",{children:e.jsx(we,{columns:nl,data:(l==null?void 0:l.experiences)||[]})})})]})})}const ll=qe.injectEndpoints({endpoints:l=>({getBloodGroups:l.query({query:()=>"blood-groups",providesTags:["blood-groups"]})}),overrideExisting:!1}),{useGetBloodGroupsQuery:dl}=ll,sl=mn.injectEndpoints({endpoints:l=>({getRoles:l.query({query:()=>"roles",providesTags:["roles"]})}),overrideExisting:!1}),{useGetRolesQuery:cl}=sl;function rl({previousData:l}){const[n,{isLoading:a}]=Je(),f=de({resolver:se($e),defaultValues:{card_id:(l==null?void 0:l.card_id)||null,machine_id:(l==null?void 0:l.machine_id)||null,is_head_of_dept:(l==null?void 0:l.is_head_of_dept)||0,sorting_index:(l==null?void 0:l.sorting_index)||0,nid_number:(l==null?void 0:l.nid_number)||null,fathers_name:(l==null?void 0:l.fathers_name)||null,mothers_name:(l==null?void 0:l.mothers_name)||null,payment_type:(l==null?void 0:l.payment_type)||"Cash",account_number:(l==null?void 0:l.account_number)||null,bank_name:(l==null?void 0:l.bank_name)||null,bank_branch:(l==null?void 0:l.bank_branch)||null,marital_status:(l==null?void 0:l.marital_status)||"Married",birth_date:(l==null?void 0:l.birth_date)||null,tin_number:(l==null?void 0:l.tin_number)||null,employee_unique_id:(l==null?void 0:l.employee_unique_id)||"",first_name:(l==null?void 0:l.first_name)||"",last_name:(l==null?void 0:l.last_name)||"",phone:(l==null?void 0:l.phone)||"",corporate_phone:(l==null?void 0:l.corporate_phone)||"",email:(l==null?void 0:l.email)||"",joining_date:(l==null?void 0:l.joining_date)||"",status:(l==null?void 0:l.status)||"Active",location_id:(l==null?void 0:l.location_id)||1,organization_id:(l==null?void 0:l.organization_id)||1,work_place_id:(l==null?void 0:l.work_place_id)||1,department_id:(l==null?void 0:l.department_id)||1,section_id:(l==null?void 0:l.section_id)||1,designation_id:(l==null?void 0:l.designation_id)||1,schedule_id:(l==null?void 0:l.schedule_id)||1,employee_class_id:(l==null?void 0:l.employee_class_id)||1,employee_grade_id:(l==null?void 0:l.employee_grade_id)||1,employment_status_id:(l==null?void 0:l.employment_status_id)||1,password:null,gender_id:(l==null?void 0:l.gender_id)||1,religion_id:(l==null?void 0:l.religion_id)||1,blood_group_id:(l==null?void 0:l.blood_group_id)||1,role_id:(l==null?void 0:l.role_id)||1}});async function C(i){try{l&&(await n({employeeId:l.id,updatedEmployee:i}),B.success("Employee updated successfully"))}catch(y){console.log(y)}}return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:"h-[525px]",children:e.jsx(E,{})}):e.jsx("div",{className:"",children:e.jsx(ce,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(C),className:"pt-4",children:[e.jsxs("div",{className:"space-y-2 grid grid-cols-5 gap-3 items-end",children:[e.jsx(r,{control:f.control,name:"sorting_index",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Sorting"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"Enter sorting index",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"card_id",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Card Id"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Card Id",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"machine_id",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Machine Id"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Machine Id",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"is_head_of_dept",render:({field:i})=>e.jsxs(d,{className:"flex items-center justify-between rounded-lg border px-3 py-2 shadow-sm col-span-2",children:[e.jsx(s,{children:"Head Of Department"}),e.jsx(c,{className:"!mt-0",children:e.jsx(Hn,{checked:i.value===1,onCheckedChange:y=>i.onChange(y?1:0)})})]})}),e.jsx(r,{control:f.control,name:"nid_number",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"NID Number"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter NID Number",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"fathers_name",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Father's Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Father's Name",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"mothers_name",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Mother's Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Mother's Name",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"payment_type",render:({field:i})=>{var y;return e.jsxs(d,{className:"space-y-4 col-span-2 !mb-3",children:[e.jsx(s,{children:"Payment Type"}),e.jsx(c,{children:e.jsxs(Oe,{onValueChange:i.onChange,defaultValue:(y=i.value)==null?void 0:y.toString(),className:"flex items-center space-y-0 space-x-3",children:[e.jsxs(d,{className:"space-y-0 space-x-2 flex items-center",children:[e.jsx(c,{children:e.jsx(ge,{value:"Bank"})}),e.jsx(s,{className:"font-normal cursor-pointer",children:"Bank Payment"})]}),e.jsxs(d,{className:"space-y-0 space-x-2 flex items-center",children:[e.jsx(c,{children:e.jsx(ge,{value:"Cash"})}),e.jsx(s,{className:"font-normal cursor-pointer",children:"Cash Payment"})]})]})}),e.jsx(t,{})]})}}),e.jsx(r,{control:f.control,name:"account_number",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Account Number"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Account Number",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"bank_name",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Bank Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Bank Name",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"bank_branch",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Bank branch"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Bank branch",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"birth_date",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Birth Date"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter Birth date",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"tin_number",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"TIN Number"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter TIN Number",...i,value:i.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:f.control,name:"marital_status",render:({field:i})=>{var y;return e.jsxs(d,{className:"space-y-3",children:[e.jsx(s,{children:"Marital Status"}),e.jsx(c,{children:e.jsxs(Oe,{onValueChange:i.onChange,defaultValue:(y=i.value)==null?void 0:y.toString(),className:"flex items-center space-y-1 space-x-3",children:[e.jsxs(d,{className:"flex items-center space-x-2 space-y-0",children:[e.jsx(c,{children:e.jsx(ge,{value:"Married"})}),e.jsx(s,{className:"font-normal cursor-pointer",children:"Married"})]}),e.jsxs(d,{className:"flex items-center space-x-2 space-y-0",children:[e.jsx(c,{children:e.jsx(ge,{value:"Unmarried"})}),e.jsx(s,{className:"font-normal cursor-pointer",children:"Unmarried"})]})]})}),e.jsx(t,{})]})}})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(k,{variant:"default",size:"sm",type:"submit",className:"mt-4",children:l?"Update":"Save"})})]})})})})}function tl({data:l}){const[n,a]=U.useState(!1);return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(_e,{children:e.jsxs(fe,{children:[e.jsx(Se,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>a(!0),children:e.jsx(Ce,{className:"h-4 w-4 text-foreground"})})}),e.jsx(Ne,{children:e.jsx("p",{children:"Update Experience"})})]})}),n&&e.jsx(ae,{title:"Update Experience",isOpen:n,toggleModal:()=>a(!1),className:"w-[90%] max-w-6xl",children:e.jsx(cn,{data:l,modelClose:()=>a(!1)})})]})}const il=[{id:"select",header:({table:l})=>e.jsx(le,{checked:l.getIsAllPageRowsSelected()||l.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>l.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:l})=>e.jsx(le,{checked:l.getIsSelected(),onCheckedChange:n=>l.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:"Skill Name"},{accessorKey:"type",header:"Proficiency level"},{accessorKey:"description",header:"Description"},{accessorKey:"start_date",header:"Start date"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:l})=>e.jsx(tl,{data:l.original})}];function cn({previousData:l,data:n,modelClose:a}){const[f,{isLoading:C}]=Qn(),[i,{isLoading:y}]=qn(),g=de({resolver:se(gn),defaultValues:{model_type:"App\\Models\\Employee\\Employee",model_id:l==null?void 0:l.id,name:(n==null?void 0:n.name)||"",type:(n==null?void 0:n.type)||"",start_date:(n==null?void 0:n.start_date)||"",end_date:(n==null?void 0:n.end_date)||"",description:(n==null?void 0:n.description)||"",sorting_index:(n==null?void 0:n.sorting_index)||0}});async function N(o){try{n!=null&&n.id?(await i({skillId:n==null?void 0:n.id,updatedSkill:o}),B.success("Skill updated successfully"),a&&a()):(await f(o),B.success("Skill created successfully"),g.reset())}catch(_){console.log(_)}}return e.jsx(e.Fragment,{children:C||y?e.jsx("div",{className:"h-[535px]",children:e.jsx(E,{})}):e.jsxs("div",{className:"flex  h-[535px] gap-x-4",children:[e.jsx("div",{className:`${l?"w-1/2":"w-full"} `,children:e.jsxs(ce,{...g,children:[e.jsx(be,{children:e.jsx(Ee,{className:"text-center",children:"Skill "})}),e.jsxs("form",{onSubmit:g.handleSubmit(N),className:"",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(r,{control:g.control,name:"name",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"Skill Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter institution",...o})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"type",render:({field:o})=>e.jsxs(d,{className:"space-y-3",children:[e.jsx(s,{children:"Proficiency Level"}),e.jsx(c,{children:e.jsxs(Oe,{onValueChange:o.onChange,defaultValue:o.value,className:"flex items-center space-y-1",children:[e.jsxs(d,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(c,{children:e.jsx(ge,{value:"Basic"})}),e.jsx(s,{className:"font-normal",children:"Basic"})]}),e.jsxs(d,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(c,{children:e.jsx(ge,{value:"Medium"})}),e.jsx(s,{className:"font-normal",children:"Medium"})]}),e.jsxs(d,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(c,{children:e.jsx(ge,{value:"Expert"})}),e.jsx(s,{className:"font-normal",children:"Expert"})]})]})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"description",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"Description (optional)"}),e.jsx(c,{children:e.jsx(Qe,{placeholder:"Enter Description",value:o.value||"",onChange:_=>o.onChange(_.target.value)})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"start_date",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"Start Date"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter Start Date",...o})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"end_date",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"End Date (optional)"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter End Date",value:o.value||"",onChange:_=>o.onChange(_.target.value)})}),e.jsx(t,{})]})}),e.jsx(r,{control:g.control,name:"sorting_index",render:({field:o})=>e.jsxs(d,{children:[e.jsx(s,{children:"String"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"Enter sorting",...o})}),e.jsx(t,{})]})})]}),e.jsx("div",{children:e.jsx(k,{variant:"default",type:"submit",className:"w-full mt-4",children:n!=null&&n.id?"Update":"Add"})})]})]})}),!(n!=null&&n.id)&&e.jsx("div",{className:"w-1/2 mt-4",children:e.jsx("div",{children:e.jsx(we,{columns:il,data:(l==null?void 0:l.skills)||[]})})})]})})}const ol=qe.injectEndpoints({endpoints:l=>({getNominees:l.query({query:()=>"employee-nominee",providesTags:["nominees"]}),createNominee:l.mutation({query:n=>({url:"employee-nominee",method:"POST",body:n}),invalidatesTags:["nominees","employees"]}),removeNominee:l.mutation({query:n=>({url:`employee-nominee/${n}`,method:"DELETE"}),invalidatesTags:["nominees"]}),updateNominee:l.mutation({query:({nomineeId:n,updatedNominee:a})=>({url:`employee-nominee/${n}`,method:"PUT",body:a}),invalidatesTags:["nominees","employees"]})}),overrideExisting:!1}),{useGetNomineesQuery:Kl,useCreateNomineeMutation:xl,useRemoveNomineeMutation:Rl,useUpdateNomineeMutation:hl}=ol;function jl({previousData:l}){var S,b,I,F,O,Q,q,W,re,X,te,Z,ie,Y,oe,ee,ye,z;const[n,{isLoading:a}]=xl(),[f,{isLoading:C}]=hl(),{data:i,isLoading:y}=Ze(),{data:g,isLoading:N}=Ye(),o=(i==null?void 0:i.data)||[],_=(g==null?void 0:g.data)||[],w=de({resolver:se(an),defaultValues:{employee_id:l==null?void 0:l.id,gender_id:((b=(S=l==null?void 0:l.employee_nominee)==null?void 0:S.gender)==null?void 0:b.id)||1,name:((I=l==null?void 0:l.employee_nominee)==null?void 0:I.name)||"",fathers_name:((F=l==null?void 0:l.employee_nominee)==null?void 0:F.fathers_name)||"",mothers_name:((O=l==null?void 0:l.employee_nominee)==null?void 0:O.mothers_name)||"",relation:((Q=l==null?void 0:l.employee_nominee)==null?void 0:Q.relation)||"",phone_number:((q=l==null?void 0:l.employee_nominee)==null?void 0:q.phone_number)||"",present_address:{country_id:((X=(re=(W=l==null?void 0:l.employee_nominee)==null?void 0:W.present_address)==null?void 0:re.country)==null?void 0:X.id)||1,city_id:((ie=(Z=(te=l==null?void 0:l.employee_nominee)==null?void 0:te.present_address)==null?void 0:Z.city)==null?void 0:ie.id)||1,post_code:((oe=(Y=l==null?void 0:l.employee_nominee)==null?void 0:Y.present_address)==null?void 0:oe.post_code)||"",address:((ye=(ee=l==null?void 0:l.employee_nominee)==null?void 0:ee.present_address)==null?void 0:ye.address)||""}}});console.log(l==null?void 0:l.employee_nominee);async function L(A){var J,p;try{(J=l==null?void 0:l.employee_nominee)!=null&&J.id?(await f({nomineeId:(p=l==null?void 0:l.employee_nominee)==null?void 0:p.id,updatedNominee:A}),B.success("Nominee updated successfully")):(await n(A),B.success("Nominee created successfully"))}catch($){console.log($)}}return e.jsx(e.Fragment,{children:a||C?e.jsx("div",{className:"h-[535px]",children:e.jsx(E,{})}):e.jsx("div",{className:"",children:e.jsxs(ce,{...w,children:[e.jsx(be,{children:e.jsx(Ee,{className:"text-center",children:"Employee Nominee "})}),e.jsxs("form",{onSubmit:w.handleSubmit(L),className:"",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-center font-bold",children:"Nominee Basic Info"}),e.jsx(r,{control:w.control,name:"name",render:({field:A})=>e.jsxs(d,{children:[e.jsx(s,{children:"Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter name",...A})}),e.jsx(t,{})]})}),e.jsx(r,{control:w.control,name:"fathers_name",render:({field:A})=>e.jsxs(d,{children:[e.jsx(s,{children:"Fathers Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter fathers name",...A})}),e.jsx(t,{})]})}),e.jsx(r,{control:w.control,name:"mothers_name",render:({field:A})=>e.jsxs(d,{children:[e.jsx(s,{children:"Mothers Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter mothers name",...A})}),e.jsx(t,{})]})}),e.jsx(r,{control:w.control,name:"relation",render:({field:A})=>e.jsxs(d,{children:[e.jsx(s,{children:"Relation"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter relation name",...A})}),e.jsx(t,{})]})}),e.jsx(r,{control:w.control,name:"phone_number",render:({field:A})=>e.jsxs(d,{children:[e.jsx(s,{children:"Phone Number"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter phone number",...A})}),e.jsx(t,{})]})}),e.jsx(r,{control:w.control,name:"nid_number",render:({field:A})=>e.jsxs(d,{children:[e.jsx(s,{children:"NID Number"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"Enter nid number",...A})}),e.jsx(t,{})]})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-center font-bold",children:" Address"}),e.jsx(r,{control:w.control,name:"present_address.country_id",render:({field:A})=>{var J,p,$,xe,u,v;return e.jsxs(d,{children:[e.jsx(s,{children:"Country"}),e.jsxs(G,{onValueChange:A.onChange,defaultValue:($=(p=(J=l==null?void 0:l.employee_nominee)==null?void 0:J.present_address)==null?void 0:p.country)!=null&&$.id?String((v=(u=(xe=l==null?void 0:l.employee_nominee)==null?void 0:xe.present_address)==null?void 0:u.country)==null?void 0:v.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Country"})})}),e.jsx(R,{children:y?e.jsx(E,{}):o==null?void 0:o.map(H=>e.jsx(V,{value:String(H.id),children:H.name},H.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:w.control,name:"present_address.city_id",render:({field:A})=>{var J,p,$,xe,u,v;return e.jsxs(d,{children:[e.jsx(s,{children:"City"}),e.jsxs(G,{onValueChange:A.onChange,defaultValue:($=(p=(J=l==null?void 0:l.employee_nominee)==null?void 0:J.present_address)==null?void 0:p.city)!=null&&$.id?String((v=(u=(xe=l==null?void 0:l.employee_nominee)==null?void 0:xe.present_address)==null?void 0:u.city)==null?void 0:v.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select City"})})}),e.jsx(R,{children:N?e.jsx(E,{}):_==null?void 0:_.map(H=>e.jsx(V,{value:String(H.id),children:H.name},H.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:w.control,name:"present_address.post_code",render:({field:A})=>e.jsxs(d,{children:[e.jsx(s,{children:"Post Code"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter post code",...A})}),e.jsx(t,{})]})}),e.jsx(r,{control:w.control,name:"present_address.address",render:({field:A})=>e.jsxs(d,{children:[e.jsx(s,{children:"Address"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter address",...A})}),e.jsx(t,{})]})})]})]}),e.jsx("div",{children:e.jsx(k,{variant:"default",type:"submit",className:"w-full mt-4",children:(z=l==null?void 0:l.employee_nominee)!=null&&z.id?"Update":"Add"})})]})]})})})}function rn({modalClose:l,data:n}){const[a,{isLoading:f}]=yn(),[C,{isLoading:i}]=Je(),{data:y,isLoading:g}=Jn(),{data:N,isLoading:o}=_n(),{data:_,isLoading:w}=$n(),{data:L,isLoading:S}=ue("page=1&per_page=1000"),{data:b,isLoading:I}=ve("page=1&per_page=1000"),{data:F,isLoading:O}=en("page=1&per_page=1000"),{data:Q,isLoading:q}=De("page=1&per_page=1000"),{data:W,isLoading:re}=pe(),{data:X,isLoading:te}=He("page=1&per_page=1000"),{data:Z,isLoading:ie}=nn("page=1&per_page=1000"),{data:Y,isLoading:oe}=ln("page=1&per_page=1000"),{data:ee,isLoading:ye}=ke(),{data:z,isLoading:A}=dl(),{data:J,isLoading:p}=cl(),{data:$,isLoading:xe}=Wn("per_page=10&page=1"),u=($==null?void 0:$.data)||[],v=(X==null?void 0:X.data)||[],H=(y==null?void 0:y.data)||[],Ae=(W==null?void 0:W.data)||[],Le=(N==null?void 0:N.data)||[],Pe=(_==null?void 0:_.data)||[],Fe=(L==null?void 0:L.data)||[],Me=(b==null?void 0:b.data)||[],Ve=(Q==null?void 0:Q.data)||[],Ie=(F==null?void 0:F.data)||[],Ge=(Z==null?void 0:Z.data)||[],Te=(Y==null?void 0:Y.data)||[],Ke=(ee==null?void 0:ee.data)||[],Re=(z==null?void 0:z.data)||[],Ue=(J==null?void 0:J.data)||[],P=de({resolver:se($e),defaultValues:{employee_unique_id:(n==null?void 0:n.employee_unique_id)||"",first_name:(n==null?void 0:n.first_name)||"",last_name:(n==null?void 0:n.last_name)||"",phone:(n==null?void 0:n.phone)||"",corporate_phone:(n==null?void 0:n.corporate_phone)||"",email:(n==null?void 0:n.email)||"",joining_date:(n==null?void 0:n.joining_date)||"",status:(n==null?void 0:n.status)||"Active",location_id:(n==null?void 0:n.location_id)||1,organization_id:(n==null?void 0:n.organization_id)||1,work_place_id:(n==null?void 0:n.work_place_id)||1,department_id:(n==null?void 0:n.department_id)||1,section_id:(n==null?void 0:n.section_id)||1,designation_id:(n==null?void 0:n.designation_id)||1,schedule_id:(n==null?void 0:n.schedule_id)||1,employee_class_id:(n==null?void 0:n.employee_class_id)||1,employee_grade_id:(n==null?void 0:n.employee_grade_id)||1,employment_status_id:(n==null?void 0:n.employment_status_id)||1,password:null,gender_id:(n==null?void 0:n.gender_id)||1,religion_id:(n==null?void 0:n.religion_id)||1,blood_group_id:(n==null?void 0:n.blood_group_id)||1,role_id:(n==null?void 0:n.role_id)||1,leave_group_id:(n==null?void 0:n.leave_group_id)||1,card_id:(n==null?void 0:n.card_id)||null,machine_id:(n==null?void 0:n.machine_id)||null,is_head_of_dept:(n==null?void 0:n.is_head_of_dept)||0,sorting_index:(n==null?void 0:n.sorting_index)||0,nid_number:(n==null?void 0:n.nid_number)||null,fathers_name:(n==null?void 0:n.fathers_name)||null,mothers_name:(n==null?void 0:n.mothers_name)||null,payment_type:(n==null?void 0:n.payment_type)||"Cash",account_number:(n==null?void 0:n.account_number)||null,bank_name:(n==null?void 0:n.bank_name)||null,bank_branch:(n==null?void 0:n.bank_branch)||null,marital_status:(n==null?void 0:n.marital_status)||"Married",birth_date:(n==null?void 0:n.birth_date)||null,tin_number:(n==null?void 0:n.tin_number)||null}});async function tn(x){try{n?(await C({employeeId:n.id,updatedEmployee:x}).unwrap(),B.success("Job Post updated successfully"),l()):(await a(x).unwrap(),B.success("Job Post created successfully"),l())}catch(j){console.log(j),Nn(j)}}return e.jsx(e.Fragment,{children:f||i?e.jsx("div",{className:"",children:e.jsx(E,{})}):e.jsx("div",{children:e.jsxs(fn,{defaultValue:"basic-info",className:"",children:[e.jsxs(Sn,{className:"grid w-full grid-cols-7",children:[e.jsx(he,{value:"basic-info",children:"Basic Info"}),e.jsx(he,{disabled:!n,value:"additional-info",children:"Additional Info"}),e.jsx(he,{disabled:!n,value:"address",children:"Address"}),e.jsx(he,{disabled:!n,value:"education",children:"Education"}),e.jsx(he,{disabled:!n,value:"experience",children:"Experience"}),e.jsx(he,{disabled:!n,value:"skill",children:"Skill"}),e.jsx(he,{disabled:!n,value:"nominee",children:"Nominee"})]}),e.jsx(je,{value:"basic-info",children:e.jsx(ne,{children:e.jsx(me,{className:"space-y-2 pt-3",children:e.jsx(ce,{...P,children:e.jsxs("form",{onSubmit:P.handleSubmit(tn),className:"",children:[e.jsxs("div",{className:"space-y-2 grid grid-cols-5 gap-3 items-end",children:[e.jsx(r,{control:P.control,name:"employee_unique_id",render:({field:x})=>e.jsxs(d,{children:[e.jsx(s,{children:"Employee Unique Id"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Employee Unique Id",...x})}),e.jsx(t,{})]})}),e.jsx(r,{control:P.control,name:"first_name",render:({field:x})=>e.jsxs(d,{children:[e.jsx(s,{children:"First Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter First Name",...x})}),e.jsx(t,{})]})}),e.jsx(r,{control:P.control,name:"last_name",render:({field:x})=>e.jsxs(d,{children:[e.jsx(s,{children:"Last Name (optional)"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Last Name",...x,value:x.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:P.control,name:"phone",render:({field:x})=>e.jsxs(d,{children:[e.jsx(s,{children:"Phone"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Phone",...x})}),e.jsx(t,{})]})}),e.jsx(r,{control:P.control,name:"corporate_phone",render:({field:x})=>e.jsxs(d,{children:[e.jsx(s,{children:"Corporate Phone (optional)"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Corporate Phone",...x,value:x.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:P.control,name:"email",render:({field:x})=>e.jsxs(d,{children:[e.jsx(s,{children:"Email"}),e.jsx(c,{children:e.jsx(m,{type:"email",placeholder:"Enter Email",...x})}),e.jsx(t,{})]})}),e.jsx(r,{control:P.control,name:"joining_date",render:({field:x})=>e.jsxs(d,{children:[e.jsx(s,{children:"Joining Date"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter joining date",...x})}),e.jsx(t,{})]})}),!n&&e.jsx(r,{control:P.control,name:"password",render:({field:x})=>e.jsxs(d,{children:[e.jsx(s,{children:"Password (optional)"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Password",...x,value:x.value||""})}),e.jsx(t,{})]})}),e.jsx(r,{control:P.control,name:"status",render:({field:x})=>e.jsxs(d,{children:[e.jsx(s,{children:"Status"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(n==null?void 0:n.status)||"Active",children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:""})})}),e.jsxs(R,{children:[e.jsx(V,{value:"Active",children:"Active"}),e.jsx(V,{value:"Inactive",children:"Inactive"})]})]}),e.jsx(t,{})]})}),e.jsx(r,{control:P.control,name:"location_id",render:({field:x})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Location"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.location)!=null&&j.id?String(n==null?void 0:n.location.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Location"})})}),e.jsx(R,{children:te?e.jsx(E,{}):v==null?void 0:v.map(h=>e.jsx(V,{value:String(h.id),children:h.name},h.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"organization_id",render:({field:x})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Organization name"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.organization)!=null&&j.id?String(n.organization.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Organization"})})}),e.jsx(R,{children:o?e.jsx(E,{}):Le==null?void 0:Le.map(h=>e.jsx(V,{value:String(h.id),children:h.name},h.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"work_place_id",render:({field:x})=>{var j,h;return e.jsxs(d,{children:[e.jsx(s,{children:"Work Place"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.work_place)!=null&&j.id?String((h=n==null?void 0:n.work_place)==null?void 0:h.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Work Place"})})}),e.jsx(R,{children:w?e.jsx(E,{}):Pe==null?void 0:Pe.map(M=>e.jsx(V,{value:String(M.id),children:M.name},M.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"department_id",render:({field:x})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Department name"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.department)!=null&&j.id?String(n.department.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Department"})})}),e.jsx(R,{children:S?e.jsx(E,{}):Fe==null?void 0:Fe.map(h=>e.jsx(V,{value:String(h.id),children:h.name},h.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"designation_id",render:({field:x})=>{var j,h;return e.jsxs(d,{children:[e.jsx(s,{children:"Designation Name"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.designation)!=null&&j.id?String((h=n==null?void 0:n.designation)==null?void 0:h.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Designation"})})}),e.jsx(R,{children:I?e.jsx(E,{}):Me==null?void 0:Me.map(M=>e.jsx(V,{value:String(M.id),children:M.name},M.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"section_id",render:({field:x})=>{var j,h;return e.jsxs(d,{children:[e.jsx(s,{children:"Section"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.section)!=null&&j.id?String((h=n==null?void 0:n.section)==null?void 0:h.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Section"})})}),e.jsx(R,{children:q?e.jsx(E,{}):Ve==null?void 0:Ve.map(M=>e.jsx(V,{value:String(M.id),children:M.name},M.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"schedule_id",render:({field:x})=>{var j,h;return e.jsxs(d,{children:[e.jsx(s,{children:"Schedule"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.schedule)!=null&&j.id?String((h=n==null?void 0:n.schedule)==null?void 0:h.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Schedule"})})}),e.jsx(R,{children:O?e.jsx(E,{}):Ie==null?void 0:Ie.map(M=>e.jsx(V,{value:String(M.id),children:M.name},M.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"employee_class_id",render:({field:x})=>{var j,h;return e.jsxs(d,{children:[e.jsx(s,{children:"Employee Class"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.employee_class)!=null&&j.id?String((h=n==null?void 0:n.employee_class)==null?void 0:h.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Employee Class"})})}),e.jsx(R,{children:ie?e.jsx(E,{}):Ge==null?void 0:Ge.map(M=>e.jsx(V,{value:String(M.id),children:M.name},M.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"employee_grade_id",render:({field:x})=>{var j,h;return e.jsxs(d,{children:[e.jsx(s,{children:"Employee Grade"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.employee_grade)!=null&&j.id?String((h=n==null?void 0:n.employee_grade)==null?void 0:h.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Employee Class"})})}),e.jsx(R,{children:oe?e.jsx(E,{}):Te==null?void 0:Te.map(M=>e.jsx(V,{value:String(M.id),children:M.name},M.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"employment_status_id",render:({field:x})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Employment Status"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.employment_status)!=null&&j.id?String(n==null?void 0:n.employment_status.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Employment Status"})})}),e.jsx(R,{children:ye?e.jsx(E,{}):Ke==null?void 0:Ke.map(h=>e.jsx(V,{value:String(h.id),children:h.name},h.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"blood_group_id",render:({field:x})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Blood Group"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.blood_group)!=null&&j.id?String(n==null?void 0:n.blood_group.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Blood Group"})})}),e.jsx(R,{children:A?e.jsx(E,{}):Re==null?void 0:Re.map(h=>e.jsx(V,{value:String(h.id),children:h.name},h.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"religion_id",render:({field:x})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Religion"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.religion)!=null&&j.id?String(n.religion.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Religion"})})}),e.jsx(R,{children:g?e.jsx(E,{}):H==null?void 0:H.map(h=>e.jsx(V,{value:String(h.id),children:h.name},h.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"gender_id",render:({field:x})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Gender"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.gender)!=null&&j.id?String(n.gender.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Gender"})})}),e.jsx(R,{children:re?e.jsx(E,{}):Ae==null?void 0:Ae.map(h=>e.jsx(V,{value:String(h.id),children:h.name},h.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"role_id",render:({field:x})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Role"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:(j=n==null?void 0:n.role)!=null&&j.id?String(n.role.id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Role"})})}),e.jsx(R,{children:p?e.jsx(E,{}):Ue==null?void 0:Ue.map(h=>e.jsx(V,{value:String(h.id),children:h.name},h.id))})]}),e.jsx(t,{})]})}}),e.jsx(r,{control:P.control,name:"leave_group_id",render:({field:x})=>e.jsxs(d,{children:[e.jsx(s,{children:"Leave Group"}),e.jsxs(G,{onValueChange:x.onChange,defaultValue:n!=null&&n.leave_group_id?String(n.leave_group_id):void 0,children:[e.jsx(c,{children:e.jsx(T,{children:e.jsx(K,{placeholder:"Select Leave Group"})})}),e.jsx(R,{children:xe?e.jsx(E,{}):u==null?void 0:u.map(j=>e.jsx(V,{value:String(j.id),children:j.name},j.id))})]}),e.jsx(t,{})]})})]}),e.jsx("div",{className:"mt-6 flex justify-end gap-4",children:e.jsx(k,{variant:"default",type:"submit",className:"mt-4",size:"sm",children:n?"Update":"Save"})})]})})})})}),e.jsx(je,{value:"additional-info",children:e.jsx(ne,{children:e.jsx(me,{className:"",children:e.jsx(rl,{previousData:n})})})}),e.jsx(je,{value:"address",children:e.jsx(ne,{children:e.jsx(me,{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-x-6",children:[e.jsx("div",{className:"w-1/2",children:e.jsx(ze,{previousData:n==null?void 0:n.present_address,modelId:n==null?void 0:n.id,addressType:"Present",title:"Present Address"})}),e.jsx("div",{className:"w-1/2",children:e.jsx(ze,{previousData:n==null?void 0:n.permanent_address,modelId:n==null?void 0:n.id,addressType:"Permanent",title:"Permanent Address"})})]})})})}),e.jsx(je,{value:"education",children:e.jsx(ne,{children:e.jsx(me,{className:"space-y-2",children:e.jsx(dn,{previousData:n})})})}),e.jsx(je,{value:"experience",children:e.jsx(ne,{children:e.jsx(me,{className:"space-y-2",children:e.jsx(sn,{previousData:n})})})}),e.jsx(je,{value:"skill",children:e.jsx(ne,{children:e.jsx(me,{className:"space-y-2",children:e.jsx(cn,{previousData:n})})})}),e.jsx(je,{value:"nominee",children:e.jsx(ne,{children:e.jsx(me,{className:"space-y-2",children:e.jsx(jl,{previousData:n})})})})]})})})}const ml=()=>e.jsx("div",{});function gl({data:l}){const[n,a]=U.useState(!1),[f,C]=U.useState(!1),[i,y]=U.useState(!1),g=We(),[N,{isLoading:o}]=bn(),_=async w=>{try{await N(w),B.success("Job Candidate deleted successfully"),a(!1)}catch(L){console.log(L)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(_e,{children:e.jsxs(fe,{children:[e.jsx(Se,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",onClick:()=>g(`/hrm/salary-setup/${l.id}`),className:"hover:bg-secondary",children:e.jsx(Xn,{className:"h-4 w-4 text-foreground"})})}),e.jsx(Ne,{children:e.jsx("p",{children:"Update Employee Salary Setup"})})]})}),e.jsx(_e,{children:e.jsxs(fe,{children:[e.jsx(Se,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>C(!0),children:e.jsx(Ce,{className:"h-4 w-4 text-foreground"})})}),e.jsx(Ne,{children:e.jsx("p",{children:"Update Employee"})})]})}),e.jsx(_e,{children:e.jsxs(fe,{children:[e.jsx(Se,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{a(!0)},children:e.jsx(En,{className:"h-4 w-4 text-foreground"})})}),e.jsx(Ne,{children:e.jsx("p",{children:"Delete employee"})})]})}),e.jsx(Xe,{title:"Are you sure?",description:"This action cannot be undone.",name:l.first_name,isOpen:n,onClose:()=>a(!1),onConfirm:()=>_(l.id),loading:o}),f&&e.jsx(ae,{title:"Update Job",isOpen:f,toggleModal:()=>C(!1),className:"w-[90%] max-w-6xl",children:e.jsx(rn,{data:l,modalClose:()=>C(!1)})}),i&&e.jsx(ae,{title:"Job Details",isOpen:i,toggleModal:()=>y(!1),className:"w-[90%] max-w-6xl",children:e.jsx(ml,{})})]})}const al=[{id:"select",header:({table:l})=>e.jsx(le,{checked:l.getIsAllPageRowsSelected()||l.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>l.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:l})=>e.jsx(le,{checked:l.getIsSelected(),onCheckedChange:n=>l.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"first_name",header:"First name"},{accessorKey:"last_name",header:"Last name"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"",accessorFn:({department:l})=>l==null?void 0:l.name,header:"Department"},{accessorKey:"location",accessorFn:({location:l})=>l==null?void 0:l.name,header:"Location"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:l})=>e.jsx(gl,{data:l.original})}];function yl({payload:l,modelClose:n}){const[a,f]=U.useState(!1),[C,{isLoading:i}]=Zn(),[y,g]=U.useState(null),N=We(),{data:o,isLoading:_}=pn("per_page=1000&page=1"),w=(o==null?void 0:o.data)||[],L=de({resolver:se(Yn),defaultValues:{employee_ids:l==null?void 0:l.map(I=>I.id),effective_date:new Date().toISOString().split("T")[0]}}),S=I=>{I&&(g(I),L.setValue("effective_date",`${Be(I,"yyyy-MM-dd")}`),f(!1))};async function b(I){const F={...I,employee_ids:(l==null?void 0:l.map(O=>O.id))||[]};try{await C(F),B.success("Employee Attendance Policy created successfully"),n&&n(),N("/hrm/attendance-policy-mapping")}catch(O){console.log(O)}}return e.jsx(e.Fragment,{children:i?e.jsx("div",{className:"h-[535px]",children:e.jsx(E,{})}):e.jsx("div",{className:"flex gap-x-4",children:e.jsx("div",{className:" w-full ",children:e.jsx(ce,{...L,children:e.jsxs("form",{onSubmit:L.handleSubmit(b),className:"",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(Cn,{loading:_,data:w,displayField:"name",valueField:"id",form:L,name:"attendance_policy_id",title:"Attendance Policy",className:"w-[460px]"})}),e.jsx(r,{control:L.control,name:"effective_date",render:()=>e.jsxs(d,{children:[e.jsx(s,{children:"Effective Date"}),e.jsxs(wn,{open:a,onOpenChange:f,children:[e.jsx(An,{asChild:!0,className:"",children:e.jsxs(k,{variant:"outline",className:`w-full justify-start text-left font-normal ${!y&&"text-muted-foreground"}`,children:[y?Be(y,"PP"):"Pick a date",e.jsx(Ln,{className:"ml-auto h-4 w-4 opacity-50"})]})}),e.jsx(Pn,{className:"w-auto p-0",align:"start",children:e.jsx(Fn,{mode:"single",selected:y??void 0,onSelect:S,initialFocus:!0})})]})]})})]}),e.jsx("div",{children:e.jsx(k,{variant:"default",type:"submit",className:"w-full mt-4",children:"Save"})})]})})})})})}function _l({setFilterParams:l}){const{data:n}=ue("per_page=1000"),{data:a}=ve("per_page=1000"),{data:f}=De("per_page=1000"),{data:C}=He("per_page=1000"),{data:i}=ke(),{data:y}=en("per_page=1000"),{data:g}=pe(),{data:N}=nn("per_page=1000"),{data:o}=ln("per_page=1000"),[_,w]=U.useState(void 0),[L,S]=U.useState(void 0),[b,I]=U.useState(void 0),[F,O]=U.useState(void 0),[Q,q]=U.useState(void 0),[W,re]=U.useState(void 0),[X,te]=U.useState(void 0),[Z,ie]=U.useState(void 0),[Y,oe]=U.useState(void 0),ee=()=>{const z=new URLSearchParams;_&&z.append("department_id",_.id.toString()),L&&z.append("designation_id",L.id.toString()),b&&z.append("location_id",b.id.toString()),F&&z.append("section_id",F.id.toString()),Q&&z.append("employment_status_id",Q.id.toString()),W&&z.append("schedule_id",W.id.toString()),X&&z.append("gender_id",X.id.toString()),Z&&z.append("employee_class_id",Z.id.toString()),Y&&z.append("employee_grade_id",Y.id.toString());const A=z.toString();console.log(A),l(A),B.success("Filters applied successfully")},ye=()=>{w(void 0),S(void 0),I(void 0),O(void 0),q(void 0),re(void 0),te(void 0),ie(void 0),oe(void 0),l(""),B.success("Filters reset successfully")};return e.jsxs(ne,{className:"w-full p-5",children:[e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsx(D,{items:(n==null?void 0:n.data)||[],labelKey:"name",valueKey:"id",value:_,placeholder:"Select Department",onSelect:w}),e.jsx(D,{items:(a==null?void 0:a.data)||[],labelKey:"name",valueKey:"id",value:L,placeholder:"Select Designation",onSelect:S}),e.jsx(D,{items:(C==null?void 0:C.data)||[],labelKey:"name",valueKey:"id",value:b,placeholder:"Select Branch",onSelect:I}),e.jsx(D,{items:(f==null?void 0:f.data)||[],labelKey:"name",valueKey:"id",value:F,placeholder:"Select Section",onSelect:O}),e.jsx(D,{items:(i==null?void 0:i.data)||[],labelKey:"name",valueKey:"id",value:Q,placeholder:"Select Status",onSelect:q}),e.jsx(D,{items:(y==null?void 0:y.data)||[],labelKey:"name",valueKey:"id",value:W,placeholder:"Select Shift",onSelect:re}),e.jsx(D,{items:(g==null?void 0:g.data)||[],labelKey:"name",valueKey:"id",value:X,placeholder:"Select Gender",onSelect:te}),e.jsx(D,{items:(N==null?void 0:N.data)||[],labelKey:"name",valueKey:"id",value:Z,placeholder:"Select Class",onSelect:ie}),e.jsx(D,{items:(o==null?void 0:o.data)||[],labelKey:"name",valueKey:"id",value:Y,placeholder:"Select Grade",onSelect:oe})]}),e.jsxs("div",{className:"mt-4 flex justify-end gap-4",children:[e.jsx(k,{variant:"outline",size:"sm",onClick:ye,children:"Reset Filters"}),e.jsxs(k,{variant:"default",size:"sm",onClick:ee,children:[e.jsx(un,{className:"mr-2 h-4 w-4"}),"Apply Filters"]})]})]})}const fl=[{label:"Enable Roster",value:"enable-roster"},{label:"Attendance Policy Mapping",value:"attendance-policy-mapping"},{label:"Delete Selected",value:"delete-selected"}],Ul=()=>{const[l,n]=U.useState(!1),[a,f]=U.useState(""),[C,i]=Mn.useState({pageIndex:0,pageSize:10}),{data:y,isLoading:g}=Vn(`per_page=${C.pageSize}&page=${C.pageIndex+1}${a}{}`),[N,o]=U.useState({action:"",payload:[]}),_=(y==null?void 0:y.data)||[],w=y==null?void 0:y.meta,L=()=>{console.log("Handle Employee Roster Change"),console.log(N),B.success("Employee roster updated successfully"),o({action:"",payload:[]})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(In,{title:"Employees",description:"Manage employees for you business"}),e.jsxs(k,{onClick:()=>n(!0),size:"sm",children:[e.jsx(Gn,{className:"mr-2 h-4 w-4"})," Add Employee"]})]}),e.jsx(Tn,{}),e.jsx(_l,{setFilterParams:f}),g&&e.jsx(Kn,{}),_&&!g&&e.jsx("div",{children:e.jsx(we,{columns:al,data:_,bulkActions:fl,onBulkSelectChange:o,paginationInfo:w,pagination:C,setPagination:i})})]})}),e.jsx(ae,{title:"Add Employee",isOpen:l,toggleModal:()=>n(!1),className:"w-[90%] max-w-6xl",children:e.jsx(rn,{modalClose:()=>n(!1)})}),N.action==="enable-roster"&&e.jsx(Xe,{title:"Enable Employee Roster?",description:"This action can be changed later",alertMessage:"Are you sure you want to update employee roster status?",type:"default",isOpen:N.action==="enable-roster",onClose:()=>o({action:"",payload:[]}),onConfirm:L}),N.action==="attendance-policy-mapping"&&e.jsx(ae,{title:"Attendance Policy Mapping",toggleModal:()=>o({action:"",payload:[]}),isOpen:N.action==="attendance-policy-mapping",className:"!h-fit",children:e.jsx(yl,{payload:N.payload,modelClose:()=>o({action:"",payload:[]})})})]})};export{Ul as default};
