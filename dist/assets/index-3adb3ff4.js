import{as as p,a as s,M as N,aS as T,aT as S,aU as j,aV as u,aW as b,aX as o,R as f,cn as L,r as v,Z as k,co as P,cp as y}from"./index-767712dc.js";const E=p.injectEndpoints({endpoints:n=>({getLeaveSummary:n.query({query:r=>`leave-reports/summary?${r}`,providesTags:["leave-summary"]})}),overrideExisting:!1}),{useGetLeaveSummaryQuery:$}=E,C=({tableData:n,leaveTypeSummary:r})=>s.jsxs(N,{children:[" ",s.jsxs(T,{className:"",children:[s.jsx(S,{children:s.jsxs(j,{children:[s.jsx(u,{children:"Employee Id"}),s.jsx(u,{children:"Employee Name"}),r==null?void 0:r.map(a=>s.jsxs(u,{children:[a.leave_type_name," Taken"]},a==null?void 0:a.leave_type_id)),s.jsx(u,{children:"Total Leave Taken"})]})}),s.jsxs(b,{className:"",children:[n&&n.map(a=>{var h,l,x,d,c;return s.jsxs(j,{className:"",children:[s.jsx(o,{className:"",children:a==null?void 0:a.employee_unique_id}),s.jsxs(o,{className:"",children:[a==null?void 0:a.first_name," ",a==null?void 0:a.last_name]}),(h=a==null?void 0:a.leave_types)==null?void 0:h.map(e=>{var _,g,i,t;return s.jsx(f.Fragment,{children:s.jsxs(o,{className:"",children:[(_=e==null?void 0:e.used)==null?void 0:_.total_days," ",((g=e==null?void 0:e.used)==null?void 0:g.total_days)>1?"days":"day",((i=e==null?void 0:e.used)==null?void 0:i.total_hours)>0?` (${(t=e==null?void 0:e.used)==null?void 0:t.total_hours} hours)`:""]})},e==null?void 0:e.id)}),s.jsxs(o,{className:"",children:[(l=a==null?void 0:a.leave_taken)==null?void 0:l.total_days," ",((x=a==null?void 0:a.leave_taken)==null?void 0:x.total_days)>1?"days":"day",((d=a==null?void 0:a.leave_taken)==null?void 0:d.total_hours)>0?` (${(c=a==null?void 0:a.leave_taken)==null?void 0:c.total_hours} hours)`:""]})]},a.id)}),s.jsxs(j,{children:[s.jsx(o,{colSpan:2,children:"Total"}),r&&r.map(a=>s.jsxs(o,{className:"",children:[a.total_days," ",a.total_days>1?"days":"day",a.total_hours>0?` (${a.total_hours} hours)`:""]},a.leave_type_id))]})]}),s.jsx(L,{})]})]}),F=()=>{const[n,r]=v.useState(1),[a,h]=v.useState(10),{data:l,isLoading:x}=$(`per_page=${a}&page=${n}`),d=(l==null?void 0:l.data)||[],c=l==null?void 0:l.leaves_type_summary,e=l==null?void 0:l.meta;return x?s.jsx(k,{}):s.jsx(s.Fragment,{children:s.jsxs(N,{children:[s.jsxs(P,{className:"space-y-4",fileName:"leave-summary-report",children:[s.jsx("div",{className:"flex-1 space-y-4 my-4",children:s.jsxs("div",{className:"text-center  ",children:[s.jsx("h2",{children:"Akaar IT"}),s.jsx("h3",{className:"text-xl",children:"Leave Summary"})]})}),d&&c?s.jsx(C,{tableData:d,leaveTypeSummary:c}):null]}),e&&s.jsx(y,{className:"print:hidden hide-in-pdf px-4 pb-4",meta:e,dataCount:d.length,onPageChange:r,onPageSizeChange:h})]})})};export{F as default};
