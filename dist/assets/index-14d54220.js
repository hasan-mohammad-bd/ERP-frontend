import{a,Z as N,be as p,bf as f,bg as g,bh as i,bi as m,bj as d,R as v,cw as P,v as S,r as b,ax as L,aM as T,bp as k,cx as E}from"./index-2840c12f.js";import{E as F}from"./employee-filters-f1490999.js";import{a as $}from"./leave-summay-470e3276.js";import"./index-e36133ed.js";import"./index-dbf2bca6.js";import"./index-4e73f19c.js";import"./index-831e2d57.js";const y=({tableData:n,leaveTypeSummary:r})=>a.jsxs(N,{children:[" ",a.jsxs(p,{className:"",children:[a.jsx(f,{children:a.jsxs(g,{children:[a.jsx(i,{children:"Employee Id"}),a.jsx(i,{children:"Employee Name"}),r==null?void 0:r.map(s=>a.jsxs(i,{children:[s.leave_type_name," Taken"]},s==null?void 0:s.leave_type_id)),a.jsx(i,{children:"Total Leave Taken"})]})}),a.jsxs(m,{className:"",children:[n&&n.map(s=>{var j,u,_,t,l;return a.jsxs(g,{className:"",children:[a.jsx(d,{className:"",children:s==null?void 0:s.employee_unique_id}),a.jsxs(d,{className:"",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]}),(j=s==null?void 0:s.leave_types)==null?void 0:j.map(e=>{var o,c,h,x;return a.jsx(v.Fragment,{children:a.jsxs(d,{className:"",children:[(o=e==null?void 0:e.used)==null?void 0:o.total_days," ",((c=e==null?void 0:e.used)==null?void 0:c.total_days)>1?"days":"day",((h=e==null?void 0:e.used)==null?void 0:h.total_hours)>0?` (${(x=e==null?void 0:e.used)==null?void 0:x.total_hours} hours)`:""]})},e==null?void 0:e.id)}),a.jsxs(d,{className:"",children:[(u=s==null?void 0:s.leave_taken)==null?void 0:u.total_days," ",((_=s==null?void 0:s.leave_taken)==null?void 0:_.total_days)>1?"days":"day",((t=s==null?void 0:s.leave_taken)==null?void 0:t.total_hours)>0?` (${(l=s==null?void 0:s.leave_taken)==null?void 0:l.total_hours} hours)`:""]})]},s.id)}),a.jsxs(g,{children:[a.jsx(d,{colSpan:2,children:"Total"}),r&&r.map(s=>a.jsxs(d,{className:"",children:[s.total_days," ",s.total_days>1?"days":"day",s.total_hours>0?` (${s.total_hours} hours)`:""]},s.leave_type_id))]})]}),a.jsx(P,{})]})]}),q=()=>{var x;const{user:n}=S(),[r,s]=b.useState(1),[j,u]=b.useState(10),[_,t]=b.useState(""),{data:l,isLoading:e}=$(`per_page=${j}&page=${r}&${_}`),o=(l==null?void 0:l.data)||[],c=l==null?void 0:l.leaves_type_summary,h=l==null?void 0:l.meta;return e?a.jsx(L,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-5 space-y-5",children:[a.jsx(T,{title:"Leave Summary",description:"Manage employees for you business"}),a.jsx(F,{setFilterParams:t})]}),a.jsxs(N,{children:[a.jsxs(k,{className:"space-y-4",fileName:"leave-summary-report",children:[a.jsx("div",{className:"flex-1 space-y-4 my-4",children:a.jsxs("div",{className:"text-center  ",children:[a.jsx("h2",{children:(x=n==null?void 0:n.organization)==null?void 0:x.name}),a.jsx("h3",{className:"text-xl",children:"Leave Summary"})]})}),o&&c?a.jsx(y,{tableData:o,leaveTypeSummary:c}):null]}),h&&a.jsx(E,{className:"print:hidden hide-in-pdf px-4 pb-4",meta:h,dataCount:o.length,onPageChange:s,onPageSizeChange:u})]})]})};export{q as default};
