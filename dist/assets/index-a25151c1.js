import{a as e,V as T,b$ as F,r as x,Z as I,_ as p,$ as h,a0 as u,a1 as j,I as f,a2 as g,aj as E,ak as O,al as P,am as D,an as C,aa as L,B as d,t as A,a5 as v,a6 as y,a7 as _,a8 as R,a9 as b,ab as z,ac as N,a3 as J,ad as S,R as G,Y as $,ae as K,af as U,ag as V}from"./index-248274e5.js";import{c as Z,d as q}from"./index-4a98322d.js";import{Z as B}from"./zoom-in-13c115a3.js";const H=({data:s})=>e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("p",{className:"font-semibold",children:"Status:"}),e.jsx("div",{children:s.policy_name})]})});function w({modalClose:s,data:t}){const a=T({defaultValues:{policy_name:"",in_time:"",working_hours:"",delay_buffer:"",ex_delay_buffer:"",break_time:"",effect_from:""}});async function c(n){console.log("Form Submitted:",n),s()}const{fields:l,append:o,remove:i}=F({control:a.control,name:"details_leave_type"});return x.useEffect(()=>{l.length===0&&o("")},[l,o]),e.jsx(e.Fragment,{children:e.jsx(I,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-1",children:[e.jsx(p,{control:a.control,name:"leave_group_name",render:({field:n})=>e.jsxs(h,{children:[e.jsx(u,{children:"Leave Group Name"}),e.jsx(j,{children:e.jsx(f,{className:"",placeholder:"Enter Leave Group Name",...n})}),e.jsx(g,{})]})}),l.map((n,r)=>e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx("div",{className:"mr-2 w-full",children:e.jsx(p,{control:a.control,name:`details_leave_type.${r}.leave_type`,render:({field:m})=>e.jsxs(h,{children:[r===0?e.jsx(u,{children:"Leave Type"}):null,e.jsxs(E,{onValueChange:m.onChange,children:[e.jsx(j,{children:e.jsx(O,{children:e.jsx(P,{placeholder:"Select Leave Type"})})}),e.jsxs(D,{children:[e.jsx(C,{value:"1",children:"Leave Type 1"}),e.jsx(C,{value:"2",children:"Leave Type 2"})]})]}),e.jsx(g,{})]})},n.id)}),e.jsx("div",{children:e.jsx(p,{control:a.control,name:`details_leave_type.${r}.leave_count`,render:({field:m})=>e.jsxs(h,{children:[r===0?e.jsx(u,{children:"Leave Count"}):null,e.jsx(j,{children:e.jsx(f,{type:"number",className:"",placeholder:"Enter Leave Count",...m})}),e.jsx(g,{})]})},n.id)}),e.jsx("span",{className:"mt-auto mb-3",onClick:()=>i(r),children:e.jsx(L,{size:16,color:"red",className:"ml-2"})})]},r)),e.jsxs(d,{variant:"outline",className:"border border-dashed border-gray-700 w-full",type:"button",onClick:()=>o({leave_type:"",leave_count:0}),children:[e.jsx(A,{size:16})," ",e.jsx("span",{className:"ml-2",children:"Add Line"})]}),e.jsx(p,{control:a.control,name:"employee_count",render:({field:n})=>e.jsxs(h,{children:[e.jsx(u,{children:"Employee Count"}),e.jsx(j,{children:e.jsx(f,{type:"number",className:"",placeholder:"Enter Employee Count",...n})}),e.jsx(g,{})]})})]}),e.jsx("div",{className:"text-right",children:e.jsx(d,{variant:"default",type:"submit",className:"w-fit mt-4",children:t?"Update":"Add"})})]})})})}function Q({data:s}){const[t,a]=x.useState(!1),[c,l]=x.useState(!1),[o,i]=x.useState(!1),[n,{isLoading:r}]=Z(),m=async k=>{try{await n(k),J.success("Job deleted successfully"),a(!1)}catch(M){console.log(M)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(v,{children:e.jsxs(y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>l(!0),children:e.jsx(R,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Update Job Post"})})]})}),e.jsx(v,{children:e.jsxs(y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{i(!0)},children:e.jsx(B,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(v,{children:e.jsxs(y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{a(!0)},children:e.jsx(L,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(z,{title:"Are you sure?",description:"This action cannot be undone.",name:s.policy_name,isOpen:t,onClose:()=>a(!1),onConfirm:()=>m(s.id),loading:r}),c&&e.jsx(N,{title:"Update Job",isOpen:c,toggleModal:()=>l(!1),className:"w-[90%] max-w-6xl",children:e.jsx(w,{data:s,modalClose:()=>l(!1)})}),o&&e.jsx(N,{title:"Job Details",isOpen:o,toggleModal:()=>i(!1),className:"w-[90%] max-w-6xl",children:e.jsx(H,{data:s})})]})}const Y=[{id:"select",header:({table:s})=>e.jsx(S,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>s.toggleAllPageRowsSelected(!!t),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:s})=>e.jsx(S,{checked:s.getIsSelected(),onCheckedChange:t=>s.toggleSelected(!!t),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"leave_group_name",header:"Leave group name"},{accessorKey:"number_of_leave_type",header:"Number of leave type"},{accessorKey:"total_leave",header:"Total Leave"},{accessorKey:"employee_count",header:"Employee Count"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:s})=>e.jsx(Q,{data:s.original})}],W=[{leave_group_name:"Eidul Adha",number_of_leave_type:"10",total_leave:"20",employee_count:"5"},{leave_group_name:"Eidul Adha",number_of_leave_type:"10",total_leave:"20",employee_count:"5"}],ae=()=>{const[s,t]=x.useState(!1),[a,c]=G.useState({pageIndex:0,pageSize:10}),{data:l,isLoading:o}=q(`per_page=${a.pageSize}&page=${a.pageIndex+1}`),i=(l==null?void 0:l.data)||[],n=l==null?void 0:l.meta;return o?e.jsx($,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{title:"Leave Group",description:"Manage job apply for you business"}),e.jsxs(d,{onClick:()=>t(!0),size:"sm",children:[e.jsx(A,{className:"mr-2 h-4 w-4"})," Add Leave Group"]})]}),e.jsx(U,{}),i&&e.jsx("div",{children:e.jsx(V,{columns:Y,data:W,paginationInfo:n,pagination:a,setPagination:c})})]})}),s&&e.jsx(N,{title:"Add Leave Group",isOpen:s,toggleModal:()=>t(!1),className:"",children:e.jsx(w,{modalClose:()=>t(!1)})})]})};export{ae as default};
