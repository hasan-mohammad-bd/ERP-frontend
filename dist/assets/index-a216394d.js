import{a as e,V as M,Y as k,Z as c,_ as d,$ as h,a0 as m,I as y,a1 as b,B as o,r as x,a5 as p,a6 as u,a7 as g,a8 as F,a9 as f,aa as T,ab as D,ac as v,a3 as I,ad as N,R as O,X as P,ae as R,t as E,af as J,ag as z}from"./index-9bb88491.js";import{u as U,a as K}from"./index-d3722466.js";import{S as C}from"./switch-cfaa4678.js";import{Z}from"./zoom-in-5d7393c6.js";const $=({data:a})=>e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("p",{className:"font-semibold",children:"Status:"}),e.jsx("div",{children:a.policy_name})]})});function S({modalClose:a,data:n}){const l=M({defaultValues:{policy_name:"",in_time:"",working_hours:"",delay_buffer:"",ex_delay_buffer:"",break_time:"",effect_from:""}});async function r(s){console.log("Form Submitted:",s),a()}return e.jsx(e.Fragment,{children:e.jsx(k,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(r),className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-1",children:[e.jsx(c,{control:l.control,name:"leave_name",render:({field:s})=>e.jsxs(d,{children:[e.jsx(h,{children:"Leave Name"}),e.jsx(m,{children:e.jsx(y,{className:"",placeholder:"Enter Leave Name",...s})}),e.jsx(b,{})]})}),e.jsx(c,{control:l.control,name:"short_code",render:({field:s})=>e.jsxs(d,{children:[e.jsx(h,{children:"Short Code"}),e.jsx(m,{children:e.jsx(y,{className:"",placeholder:"Enter Short Code",...s})}),e.jsx(b,{})]})})]}),e.jsx(c,{control:l.control,name:"maternity_leave",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm h-10",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(h,{children:"Maternity Leave"})}),e.jsx(m,{children:e.jsx(C,{className:"!mt-0 ",checked:s.value===!0,onCheckedChange:t=>s.onChange(!!t)})})]})}),e.jsx(c,{control:l.control,name:"unpaid_leave",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm h-10",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(h,{children:"Unpaid Leave"})}),e.jsx(m,{children:e.jsx(C,{className:"!mt-0 ",checked:s.value===!0,onCheckedChange:t=>s.onChange(!!t)})})]})}),e.jsx("div",{className:"text-right",children:e.jsx(o,{variant:"default",type:"submit",className:"w-fit mt-4",children:n?"Update":"Add"})})]})})})}function q({data:a}){const[n,l]=x.useState(!1),[r,s]=x.useState(!1),[t,i]=x.useState(!1),[j,{isLoading:_}]=U(),w=async A=>{try{await j(A),I.success("Job deleted successfully"),l(!1)}catch(L){console.log(L)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(p,{children:e.jsxs(u,{children:[e.jsx(g,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>s(!0),children:e.jsx(F,{className:"h-4 w-4 text-foreground"})})}),e.jsx(f,{children:e.jsx("p",{children:"Update Job Post"})})]})}),e.jsx(p,{children:e.jsxs(u,{children:[e.jsx(g,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{i(!0)},children:e.jsx(Z,{className:"h-4 w-4 text-foreground"})})}),e.jsx(f,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(p,{children:e.jsxs(u,{children:[e.jsx(g,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{l(!0)},children:e.jsx(T,{className:"h-4 w-4 text-foreground"})})}),e.jsx(f,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(D,{title:"Are you sure?",description:"This action cannot be undone.",name:a.policy_name,isOpen:n,onClose:()=>l(!1),onConfirm:()=>w(a.id),loading:_}),r&&e.jsx(v,{title:"Update Job",isOpen:r,toggleModal:()=>s(!1),className:"w-[90%] max-w-6xl",children:e.jsx(S,{data:a,modalClose:()=>s(!1)})}),t&&e.jsx(v,{title:"Job Details",isOpen:t,toggleModal:()=>i(!1),className:"w-[90%] max-w-6xl",children:e.jsx($,{data:a})})]})}const B=[{id:"select",header:({table:a})=>e.jsx(N,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>a.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:a})=>e.jsx(N,{checked:a.getIsSelected(),onCheckedChange:n=>a.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"leave_name",header:"Leave name"},{accessorKey:"short_code",header:"Short code"},{accessorKey:"maternity_leave",header:"Maternity Leave"},{accessorKey:"unpaid_leave",header:"Unpaid Leave"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:a})=>e.jsx(q,{data:a.original})}],H=[{leave_name:"Eidul Adha",short_code:"EAD",maternity_leave:!0,unpaid_leave:!0},{leave_name:"Eidul Fitr",short_code:"EFD",maternity_leave:!0,unpaid_leave:!0}],Y=()=>{const[a,n]=x.useState(!1),[l,r]=O.useState({pageIndex:0,pageSize:10}),{data:s,isLoading:t}=K(`per_page=${l.pageSize}&page=${l.pageIndex+1}`),i=(s==null?void 0:s.data)||[],j=s==null?void 0:s.meta;return t?e.jsx(P,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{title:"Leave Type",description:"Manage job apply for you business"}),e.jsxs(o,{onClick:()=>n(!0),size:"sm",children:[e.jsx(E,{className:"mr-2 h-4 w-4"})," Add Leave Type"]})]}),e.jsx(J,{}),i&&e.jsx("div",{children:e.jsx(z,{columns:B,data:H,paginationInfo:j,pagination:l,setPagination:r})})]})}),a&&e.jsx(v,{title:"Add Leave Type",isOpen:a,toggleModal:()=>n(!1),className:"",children:e.jsx(S,{modalClose:()=>n(!1)})})]})};export{Y as default};
