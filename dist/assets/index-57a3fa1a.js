import{bH as j,bI as _,s as E,a as e,a8 as k,N as i,b0 as T,b1 as a,b2 as h,b3 as w,b4 as $,b5 as c,r as S,aN as M,bJ as F,M as I,bb as A,aB as H,aO as q,am as L,ba as R}from"./index-575d9a28.js";function v(s,n){const o=j(s),l=j(n),d=o.getTime()-l.getTime();return d<0?-1:d>0?1:d}function Y(s,n){const o=j(s),l=j(n),d=v(o,l),m=Math.abs(_(o,l));o.setFullYear(1584),l.setFullYear(1584);const p=v(o,l)===-d,r=d*(m-+p);return r===0?0:r}const f=({salaryCertificateData:s})=>{var o,l,d,m,p,r,N,g,t,y;const{user:n}=E();if(s)return console.log(s),e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:"p-7",children:[e.jsxs("div",{className:"flex flex-col items-center gap-8 mb-4",children:[e.jsx("h2",{className:"font-bold text-center text-2xl",children:"Salary Certificate"}),e.jsx("p",{className:"font-bold text-center text-lg underline capitalize",children:"To whom it may concern"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"mb-4",children:["Date: ",k(new Date,"MM/dd/yyyy")]}),e.jsxs("p",{className:"mb-3",children:["This is to certify that"," ",`${(o=s==null?void 0:s.employee)==null?void 0:o.first_name} ${(l=s==null?void 0:s.employee)==null?void 0:l.last_name}`,", has been employed with ",n==null?void 0:n.organization.name," for the past",` ${Y(new Date,new Date(s.employee.joining_date))} years`,". He has been a dedicated and hardworking employee of our company."]}),e.jsxs("div",{className:"space-y-3 mb-3",children:[e.jsx("p",{className:"font-bold",children:"Employee Details:"}),e.jsxs("p",{children:["Employee ID:"," ",(d=s==null?void 0:s.employee)==null?void 0:d.employee_unique_id]}),e.jsxs("p",{children:["Name:"," ",`${(m=s==null?void 0:s.employee)==null?void 0:m.first_name} ${(p=s==null?void 0:s.employee)==null?void 0:p.last_name}`]}),e.jsx("p",{children:"Employee Type: Permanent"}),e.jsxs("p",{children:["Designation:"," ",(N=(r=s==null?void 0:s.employee)==null?void 0:r.designation)==null?void 0:N.name]}),e.jsxs("p",{children:["Date of Joining:"," ",k((g=s==null?void 0:s.employee)==null?void 0:g.joining_date,"MMM dd, yyy")]})]})]}),e.jsx("div",{children:e.jsx(i,{children:e.jsxs(T,{className:"border border-black",children:[e.jsx(a,{className:"border border-black",children:e.jsxs(h,{className:"border border-black h-0",children:[e.jsx(w,{colSpan:2,className:"border border-black py-[5px] h-0 text-center",children:"Earnings"}),e.jsx(w,{colSpan:2,className:"border border-black py-[5px] h-0 text-center",children:"Deductions"})]})}),e.jsxs($,{className:"border border-black",children:[s&&s.allowance&&s.deduction&&Array.from({length:Math.max(s.allowance.length,s.deduction.length)}).map((G,u)=>{const x=s.allowance[u],b=s.deduction[u];return e.jsxs(h,{className:"border border-black",children:[e.jsx(c,{className:"border border-black py-[5px] w-1/4",children:x?x.salary_category.name:""}),e.jsx(c,{className:"border border-black py-[5px] w-1/4",children:x?`Tk. ${x.amount}`:""}),e.jsx(c,{className:"border border-black py-[5px] w-1/4",children:b?b.salary_category.name:""}),e.jsx(c,{className:"border border-black py-[5px] w-1/4",children:b?`Tk. ${b.amount}`:""})]},u)}),e.jsxs(h,{className:"border border-black bg-gray-100",children:[e.jsx(c,{className:"font-bold border border-black py-[5px]",children:"Total Earnings"}),e.jsxs(c,{className:"font-bold border border-black py-[5px]",children:["Tk. ",s==null?void 0:s.summery.total_allowance]}),e.jsx(c,{className:"font-bold border border-black py-[5px]",children:"Total Deductions"}),e.jsxs(c,{className:"font-bold border border-black py-[5px]",children:["Tk.",s==null?void 0:s.summery.total_deduction]})]}),e.jsxs(h,{className:"border border-black bg-gray-100",children:[e.jsx(c,{colSpan:3,className:"font-bold border border-black py-[5px] text-center",children:"Net Salary"}),e.jsxs(c,{className:"font-bold border border-black py-[5px]",children:["Tk. ",s==null?void 0:s.summery.total]})]})]})]})})}),e.jsxs("p",{className:"my-4",children:[`${(t=s==null?void 0:s.employee)==null?void 0:t.first_name} ${(y=s==null?void 0:s.employee)==null?void 0:y.last_name}â€™s `,"salary is paid on a monthly basis and includes all applicable allowances and deductions as per company policy. He has shown excellent performance throughout his tenure."]}),e.jsx("p",{className:"mb-4",children:"If you have any questions or need further information, please feel free to contact us."}),e.jsx("p",{className:"mb-10 font-medium",children:"Sincerely,"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:"Md Ashiqur Rahman"}),e.jsx("p",{children:"Chairman"}),e.jsx("p",{children:n==null?void 0:n.organization.name})]})]})})})};function z({setFilterParams:s}){const[n,o]=S.useState(),{data:l}=M("page=1&per_page=1000"),d=(l==null?void 0:l.data)||[],m=()=>{s(String(n==null?void 0:n.id))};return e.jsx("div",{className:"w-full rounded-lg space-y-6",children:e.jsxs(i,{className:"p-5",children:[e.jsx("div",{className:"grid gap-6 md:grid-cols-5",children:e.jsx("div",{children:e.jsx(F,{items:d||[],labelKey:"first_name",valueKey:"id",value:n,placeholder:"Select Employee",onSelect:o,className:"w-full"})})}),e.jsx("div",{className:"pt-4 col-span-3 flex justify-end mt-auto",children:e.jsx(I,{variant:"default",className:"w-fit px-14 mt-[3px] capitalize",onClick:m,children:"apply"})})]})})}const P=A.injectEndpoints({endpoints:s=>({getEmployeeSalaryCertificate:s.query({query:n=>`salary-settings/${n}`,providesTags:["salary-settings"]})}),overrideExisting:!1}),{useGetEmployeeSalaryCertificateQuery:B}=P,K=()=>{const[s,n]=S.useState(""),{data:o,isLoading:l,isError:d}=B(s,{skip:!s});return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(H,{title:"Employee Salary Certificate",description:""})}),e.jsx(q,{}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(z,{setFilterParams:n}),l&&e.jsx(L,{}),o&&!l&&!d&&e.jsx(i,{className:"flex-1 space-y-4 max-w-4xl mx-auto p-3 pb-4",children:e.jsx(R,{className:"space-y-4",fileName:"employee-salary-certificate",children:e.jsx(f,{salaryCertificateData:o})})}),d&&!l&&e.jsx(i,{className:"flex-1 space-y-4 max-w-[950px] w-full mx-auto p-3 py-6 grid place-items-center",children:e.jsx("h2",{className:"text-center",children:"No Data Found"})})]})]})};export{K as default};
