import{a as e,V as P,Y as I,Z as i,_ as d,$ as x,a0 as m,I as n,a1 as h,B as j,K as F,aH as B,aI as $,aJ as w,aM as c,aL as E,r as p,a4 as g,a5 as y,a6 as _,a7 as O,a8 as b,a9 as R,aa as J,ab as k,a3 as K,ac as C,R as V,X as H,ad as L,t as z,ae as U,af as W}from"./index-7fe2e31f.js";import{u as Z,a as q}from"./index-08941e32.js";import{S as N}from"./switch-73f6bf20.js";import{Z as Y}from"./zoom-in-43524170.js";const G=({data:r})=>e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("p",{className:"font-semibold",children:"Status:"}),e.jsx("div",{children:r.policy_name})]})}),v=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function S({modalClose:r,data:o}){const a=P({defaultValues:{policy_name:"",in_time:"",working_hours:"",delay_buffer:"",ex_delay_buffer:"",break_time:"",effect_from:""}}),u=()=>{const s=a.getValues();v.forEach(t=>{a.setValue(`${t}.in_time`,s.in_time),a.setValue(`${t}.working_hours`,s.working_hours),a.setValue(`${t}.delay_buffer`,s.delay_buffer),a.setValue(`${t}.ex_delay_buffer`,s.ex_delay_buffer),a.setValue(`${t}.break_time`,s.break_time)})};async function l(s){console.log("Form Submitted:",s),r()}return e.jsx(e.Fragment,{children:e.jsx(I,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-4",children:[e.jsx(i,{control:a.control,name:"policy_name",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"Policy Name"}),e.jsx(m,{children:e.jsx(n,{className:"h-7",placeholder:"Enter Policy Name",...s})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"in_time",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"In Time"}),e.jsx(m,{children:e.jsx(n,{type:"time",className:"h-7",...s})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"delay_buffer",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"Delay Buffer Time"}),e.jsx(m,{children:e.jsx(n,{className:"h-7",type:"text",...s,placeholder:"Enter Delay Buffer"})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"ex_delay_buffer",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"Extra Delay Buffer"}),e.jsx(m,{children:e.jsx(n,{className:"h-7",type:"text",...s})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"break_time",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"Break Time"}),e.jsx(m,{children:e.jsx(n,{className:"h-7",type:"text",...s,placeholder:"Enter Break Time"})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"effect_from",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"Effect From"}),e.jsx(m,{children:e.jsx(n,{type:"date",className:"h-7",...s})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"working_hours",render:({field:s})=>e.jsxs(d,{children:[e.jsx(x,{children:"Working Hours"}),e.jsx(m,{children:e.jsx(n,{className:"h-7",type:"text",...s,placeholder:"Enter Working Hours"})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsx(i,{control:a.control,name:"ignore_from_att_report",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm h-10",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(x,{children:"Ignore from attendance report"})}),e.jsx(m,{children:e.jsx(N,{className:"!mt-0 ",checked:s.value===!0,onCheckedChange:t=>s.onChange(!!t)})})]})}),e.jsx(i,{control:a.control,name:"discard_attendance_on_weekend",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm h-10",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(x,{children:"Discard attendance on weekend"})}),e.jsx(m,{children:e.jsx(N,{className:"!mt-0 ",checked:s.value===!0,onCheckedChange:t=>s.onChange(!!t)})})]})}),e.jsx(i,{control:a.control,name:"exclude_from_att_report",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm h-10",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(x,{children:"Exclude from attendance report"})}),e.jsx(m,{children:e.jsx(N,{className:"!mt-0 ",checked:s.value===!0,onCheckedChange:t=>s.onChange(!!t)})})]})})]}),e.jsx(j,{variant:"default",type:"button",onClick:u,children:"Copy to 7 days"}),e.jsx(F,{children:e.jsxs(B,{children:[e.jsx($,{children:e.jsxs(w,{className:"text-left text-xs",children:[e.jsx(c,{className:"p-1 text-xs",children:"Day"}),e.jsx(c,{className:"p-1 text-xs",children:"In Time"}),e.jsx(c,{className:"p-1 text-xs",children:"Working Hours"}),e.jsx(c,{className:"p-1 text-xs",children:"Delay Buffer Time"}),e.jsx(c,{className:"p-1 text-xs",children:"Extra Delay Buffer"}),e.jsx(c,{className:"p-1 text-xs",children:"Break Time"})]})}),e.jsx(E,{className:"divide-y",children:v.map((s,t)=>e.jsxs(w,{children:[e.jsx(c,{className:"p-1 text-xs",children:s}),e.jsx(c,{className:"p-1",children:e.jsx(n,{type:"text",className:"p-1 text-xs h-7",...a.register(`${s}.in_time`)})}),e.jsx(c,{className:"p-1",children:e.jsx(n,{type:"text",className:"p-1 text-xs h-7",...a.register(`${s}.working_hours`)})}),e.jsx(c,{className:"p-1",children:e.jsx(n,{type:"text",className:"p-1 text-xs h-7",...a.register(`${s}.delay_buffer`)})}),e.jsx(c,{className:"p-1",children:e.jsx(n,{type:"text",className:"p-1 text-xs h-7",...a.register(`${s}.ex_delay_buffer`)})}),e.jsx(c,{className:"p-1",children:e.jsx(n,{type:"text",className:"p-1 text-xs h-7",...a.register(`${s}.break_time`)})})]},t))})]})}),e.jsx("div",{children:e.jsx(j,{variant:"default",type:"submit",className:"w-full mt-4",children:o?"Update":"Add"})})]})})})}function Q({data:r}){const[o,a]=p.useState(!1),[u,l]=p.useState(!1),[s,t]=p.useState(!1),[f,{isLoading:A}]=Z(),T=async D=>{try{await f(D),K.success("Job deleted successfully"),a(!1)}catch(M){console.log(M)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(g,{children:e.jsxs(y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(j,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>l(!0),children:e.jsx(O,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Update Job Post"})})]})}),e.jsx(g,{children:e.jsxs(y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(j,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{t(!0)},children:e.jsx(Y,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(g,{children:e.jsxs(y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(j,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{a(!0)},children:e.jsx(R,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(J,{title:"Are you sure?",description:"This action cannot be undone.",name:r.policy_name,isOpen:o,onClose:()=>a(!1),onConfirm:()=>T(r.id),loading:A}),e.jsx(k,{title:"Update Job",isOpen:u,toggleModal:()=>l(!1),className:"w-[90%] max-w-6xl",children:e.jsx(S,{data:r,modalClose:()=>l(!1)})}),e.jsx(k,{title:"Job Details",isOpen:s,toggleModal:()=>t(!1),className:"w-[90%] max-w-6xl",children:e.jsx(G,{data:r})})]})}const X=[{id:"select",header:({table:r})=>e.jsx(C,{checked:r.getIsAllPageRowsSelected()||r.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>r.toggleAllPageRowsSelected(!!o),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:r})=>e.jsx(C,{checked:r.getIsSelected(),onCheckedChange:o=>r.toggleSelected(!!o),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"policy_name",header:"Policy Name"},{accessorKey:"in_time",header:"In Time"},{accessorKey:"delay_buffer",header:"Delay Buffer"},{accessorKey:"ex_delay_buffer",header:"Ex Delay Buffer"},{accessorKey:"last_in_time",header:"Last In Time"},{accessorKey:"ignore_from_att_report",header:"Ignore from att report"},{accessorKey:"discard_attendance_on_weekend",header:"Discard attendance on weekend"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:r})=>e.jsx(Q,{data:r.original})}],ee=[{policy_name:"Attendance Policy",id:1,in_time:"10:00 AM",delay_buffer:"00:10",ex_delay_buffer:"00:10",last_in_time:"10:00 AM",ignore_from_att_report:!0,discard_attendance_on_weekend:!0},{policy_name:"Attendance Policy",id:2,in_time:"10:00 AM",delay_buffer:"00:10",ex_delay_buffer:"00:10",last_in_time:"10:00 AM",ignore_from_att_report:!0,discard_attendance_on_weekend:!0}],le=()=>{const[r,o]=p.useState(!1),[a,u]=V.useState({pageIndex:0,pageSize:10}),{data:l,isLoading:s}=q(`per_page=${a.pageSize}&page=${a.pageIndex+1}`),t=(l==null?void 0:l.data)||[],f=l==null?void 0:l.meta;return s?e.jsx(H,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{title:"Attendance Policy",description:"Manage job apply for you business"}),e.jsxs(j,{onClick:()=>o(!0),size:"sm",children:[e.jsx(z,{className:"mr-2 h-4 w-4"})," Add Attendance Policy"]})]}),e.jsx(U,{}),t&&e.jsx("div",{children:e.jsx(W,{columns:X,data:ee,paginationInfo:f,pagination:a,setPagination:u})})]})}),e.jsx(k,{title:"Add Attendance Policy",isOpen:r,toggleModal:()=>o(!1),className:"w-2/3 max-w-5xl",children:e.jsx(S,{modalClose:()=>o(!1)})})]})};export{le as default};
