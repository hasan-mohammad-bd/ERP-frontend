<<<<<<<< HEAD:dist/assets/index-34efd793.js
import{ar as O,V as $,W as z,c8 as R,r as m,a as e,Y as w,Z as U,_ as G,$ as N,a0 as v,a1 as S,I as C,a2 as b,aC as q,aa as A,B as p,t as F,a3 as L,a4 as B,a5 as j,a6 as y,a7 as _,a8 as H,a9 as f,ab as K,ac as M,ad as T,R as Q,ae as V,af as J,ag as W}from"./index-76f7bfce.js";import{u as Y,e as Z}from"./index-bddaeff0.js";const X=O.injectEndpoints({endpoints:s=>({getLeaveGroups:s.query({query:a=>`leave-groups?${a}`,providesTags:["leave-groups"]}),createLeaveGroup:s.mutation({query:a=>({url:"leave-groups",method:"POST",body:a}),invalidatesTags:["leave-groups"]}),removeLeaveGroup:s.mutation({query:a=>({url:`leave-groups/${a}`,method:"DELETE"}),invalidatesTags:["leave-groups"]}),updateLeaveGroup:s.mutation({query:({leaveGroupId:a,updatedLeaveGroup:o})=>({url:`leave-groups/${a}`,method:"PUT",body:o}),invalidatesTags:["leave-groups"]})}),overrideExisting:!1}),{useGetLeaveGroupsQuery:D,useCreateLeaveGroupMutation:ee,useRemoveLeaveGroupMutation:ae,useUpdateLeaveGroupMutation:se}=X;function P({modalClose:s,data:a}){const[o,{isLoading:d}]=ee(),[l,{isLoading:u}]=se(),{data:t,isLoading:i}=Y("per_page=1000&page=1"),g=(t==null?void 0:t.data)||[],c=$({resolver:z(Z),defaultValues:{name:(a==null?void 0:a.name)||"",leave:a!=null&&a.leave_group_types?a.leave_group_types.map(n=>{var r;return{...n,leave_type_id:String(((r=n==null?void 0:n.leave_type)==null?void 0:r.id)||"")}}):[]}});async function E(n){try{a?(await l({leaveGroupId:a.id,updatedLeaveGroup:n}).unwrap(),L.success("Leave Group updated successfully"),s()):(await o(n).unwrap(),L.success("Leave Group created successfully"),s())}catch(r){console.log(r),B(r)}}const{fields:x,append:h,remove:I}=R({control:c.control,name:"leave"});return m.useEffect(()=>{x.length===0&&h({leave_type_id:"",leave_count:0})},[x,h]),e.jsx(e.Fragment,{children:d||u?e.jsx("div",{children:e.jsx(w,{})}):e.jsx(U,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(E),className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-1",children:[e.jsx(G,{control:c.control,name:"name",render:({field:n})=>e.jsxs(N,{children:[e.jsx(v,{children:"Leave Group Name"}),e.jsx(S,{children:e.jsx(C,{className:"",placeholder:"Enter Leave Group Name",...n})}),e.jsx(b,{})]})}),x.map((n,r)=>e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx("div",{className:"mr-2 w-full",children:e.jsxs("div",{children:[r===0?e.jsx(v,{children:"Leave Type"}):null,e.jsx(q,{loading:i,data:g,displayField:"name",valueField:"id",form:c,name:`leave.${r}.leave_type_id`,className:"w-[290px]"})]},n.id)}),e.jsx("div",{children:e.jsx(G,{control:c.control,name:`leave.${r}.leave_count`,render:({field:k})=>e.jsxs(N,{children:[r===0?e.jsx(v,{children:"Leave Count"}):null,e.jsx(S,{children:e.jsx(C,{type:"number",className:"",placeholder:"Enter Leave Count",...k})}),e.jsx(b,{})]})},n.id)}),e.jsx("span",{className:"mt-auto mb-3",onClick:()=>I(r),children:e.jsx(A,{size:16,color:"red",className:"ml-2"})})]},r)),e.jsxs(p,{variant:"outline",className:"border border-dashed border-gray-700 w-full",type:"button",onClick:()=>h({leave_type_id:"",leave_count:0}),children:[e.jsx(F,{size:16})," ",e.jsx("span",{className:"ml-2",children:"Add Line"})]})]}),e.jsx("div",{className:"text-right",children:e.jsx(p,{variant:"default",type:"submit",className:"w-fit mt-4",children:a?"Update":"Add"})})]})})})}function le({data:s}){const[a,o]=m.useState(!1),[d,l]=m.useState(!1),[u,{isLoading:t}]=ae(),i=async g=>{try{await u(g),L.success("Leave Group deleted successfully"),o(!1)}catch(c){console.log(c)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(j,{children:e.jsxs(y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>l(!0),children:e.jsx(H,{className:"h-4 w-4 text-foreground"})})}),e.jsx(f,{children:e.jsx("p",{children:"Update Leave Group"})})]})}),e.jsx(j,{children:e.jsx(y,{children:e.jsx(f,{children:e.jsx("p",{children:"Delete Leave Group"})})})}),e.jsx(j,{children:e.jsxs(y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{o(!0)},children:e.jsx(A,{className:"h-4 w-4 text-foreground"})})}),e.jsx(f,{children:e.jsx("p",{children:"Delete Leave Group"})})]})}),e.jsx(K,{title:"Are you sure?",description:"This action cannot be undone.",name:s.name,isOpen:a,onClose:()=>o(!1),onConfirm:()=>i(s.id),loading:t}),d&&e.jsx(M,{title:"Update Leave Group",isOpen:d,toggleModal:()=>l(!1),className:"",children:e.jsx(P,{data:s,modalClose:()=>l(!1)})})]})}const ne=[{id:"select",header:({table:s})=>e.jsx(T,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>s.toggleAllPageRowsSelected(!!a),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:s})=>e.jsx(T,{checked:s.getIsSelected(),onCheckedChange:a=>s.toggleSelected(!!a),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:"Leave group name"},{accessorKey:"Leave Types",cell:({row:s})=>s.original.leave_group_types.map(a=>a.leave_type.name).join(", ")},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:s})=>e.jsx(le,{data:s.original})}],te=()=>{const[s,a]=m.useState(!1),[o,d]=Q.useState({pageIndex:0,pageSize:10}),{data:l,isLoading:u}=D(`per_page=${o.pageSize}&page=${o.pageIndex+1}`),t=(l==null?void 0:l.data)||[],i=l==null?void 0:l.meta;return u?e.jsx(w,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{title:"Leave Group",description:"Manage job apply for you business"}),e.jsxs(p,{onClick:()=>a(!0),size:"sm",children:[e.jsx(F,{className:"mr-2 h-4 w-4"})," Add Leave Group"]})]}),e.jsx(J,{}),t&&e.jsx("div",{children:e.jsx(W,{columns:ne,data:t,paginationInfo:i,pagination:i&&o,setPagination:i&&d})})]})}),s&&e.jsx(M,{title:"Add Leave Group",isOpen:s,toggleModal:()=>a(!1),className:"",children:e.jsx(P,{modalClose:()=>a(!1)})})]})};export{te as default};
========
import{ar as O,V as $,W as z,c8 as R,r as m,a as e,Y as w,Z as U,_ as G,$ as N,a0 as v,a1 as S,I as C,a2 as b,aC as q,aa as A,B as p,t as F,a3 as L,a4 as B,a5 as j,a6 as y,a7 as _,a8 as H,a9 as f,ab as K,ac as M,ad as T,R as Q,ae as V,af as J,ag as W}from"./index-3f8f5d35.js";import{u as Y,e as Z}from"./index-72d6a3da.js";const X=O.injectEndpoints({endpoints:s=>({getLeaveGroups:s.query({query:a=>`leave-groups?${a}`,providesTags:["leave-groups"]}),createLeaveGroup:s.mutation({query:a=>({url:"leave-groups",method:"POST",body:a}),invalidatesTags:["leave-groups"]}),removeLeaveGroup:s.mutation({query:a=>({url:`leave-groups/${a}`,method:"DELETE"}),invalidatesTags:["leave-groups"]}),updateLeaveGroup:s.mutation({query:({leaveGroupId:a,updatedLeaveGroup:o})=>({url:`leave-groups/${a}`,method:"PUT",body:o}),invalidatesTags:["leave-groups"]})}),overrideExisting:!1}),{useGetLeaveGroupsQuery:D,useCreateLeaveGroupMutation:ee,useRemoveLeaveGroupMutation:ae,useUpdateLeaveGroupMutation:se}=X;function P({modalClose:s,data:a}){const[o,{isLoading:d}]=ee(),[l,{isLoading:u}]=se(),{data:t,isLoading:i}=Y("per_page=1000&page=1"),g=(t==null?void 0:t.data)||[],c=$({resolver:z(Z),defaultValues:{name:(a==null?void 0:a.name)||"",leave:a!=null&&a.leave_group_types?a.leave_group_types.map(n=>{var r;return{...n,leave_type_id:String(((r=n==null?void 0:n.leave_type)==null?void 0:r.id)||"")}}):[]}});async function E(n){try{a?(await l({leaveGroupId:a.id,updatedLeaveGroup:n}).unwrap(),L.success("Leave Group updated successfully"),s()):(await o(n).unwrap(),L.success("Leave Group created successfully"),s())}catch(r){console.log(r),B(r)}}const{fields:x,append:h,remove:I}=R({control:c.control,name:"leave"});return m.useEffect(()=>{x.length===0&&h({leave_type_id:"",leave_count:0})},[x,h]),e.jsx(e.Fragment,{children:d||u?e.jsx("div",{children:e.jsx(w,{})}):e.jsx(U,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(E),className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-1",children:[e.jsx(G,{control:c.control,name:"name",render:({field:n})=>e.jsxs(N,{children:[e.jsx(v,{children:"Leave Group Name"}),e.jsx(S,{children:e.jsx(C,{className:"",placeholder:"Enter Leave Group Name",...n})}),e.jsx(b,{})]})}),x.map((n,r)=>e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx("div",{className:"mr-2 w-full",children:e.jsxs("div",{children:[r===0?e.jsx(v,{children:"Leave Type"}):null,e.jsx(q,{loading:i,data:g,displayField:"name",valueField:"id",form:c,name:`leave.${r}.leave_type_id`,className:"w-[290px]"})]},n.id)}),e.jsx("div",{children:e.jsx(G,{control:c.control,name:`leave.${r}.leave_count`,render:({field:k})=>e.jsxs(N,{children:[r===0?e.jsx(v,{children:"Leave Count"}):null,e.jsx(S,{children:e.jsx(C,{type:"number",className:"",placeholder:"Enter Leave Count",...k})}),e.jsx(b,{})]})},n.id)}),e.jsx("span",{className:"mt-auto mb-3",onClick:()=>I(r),children:e.jsx(A,{size:16,color:"red",className:"ml-2"})})]},r)),e.jsxs(p,{variant:"outline",className:"border border-dashed border-gray-700 w-full",type:"button",onClick:()=>h({leave_type_id:"",leave_count:0}),children:[e.jsx(F,{size:16})," ",e.jsx("span",{className:"ml-2",children:"Add Line"})]})]}),e.jsx("div",{className:"text-right",children:e.jsx(p,{variant:"default",type:"submit",className:"w-fit mt-4",children:a?"Update":"Add"})})]})})})}function le({data:s}){const[a,o]=m.useState(!1),[d,l]=m.useState(!1),[u,{isLoading:t}]=ae(),i=async g=>{try{await u(g),L.success("Leave Group deleted successfully"),o(!1)}catch(c){console.log(c)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(j,{children:e.jsxs(y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>l(!0),children:e.jsx(H,{className:"h-4 w-4 text-foreground"})})}),e.jsx(f,{children:e.jsx("p",{children:"Update Leave Group"})})]})}),e.jsx(j,{children:e.jsx(y,{children:e.jsx(f,{children:e.jsx("p",{children:"Delete Leave Group"})})})}),e.jsx(j,{children:e.jsxs(y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{o(!0)},children:e.jsx(A,{className:"h-4 w-4 text-foreground"})})}),e.jsx(f,{children:e.jsx("p",{children:"Delete Leave Group"})})]})}),e.jsx(K,{title:"Are you sure?",description:"This action cannot be undone.",name:s.name,isOpen:a,onClose:()=>o(!1),onConfirm:()=>i(s.id),loading:t}),d&&e.jsx(M,{title:"Update Leave Group",isOpen:d,toggleModal:()=>l(!1),className:"",children:e.jsx(P,{data:s,modalClose:()=>l(!1)})})]})}const ne=[{id:"select",header:({table:s})=>e.jsx(T,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>s.toggleAllPageRowsSelected(!!a),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:s})=>e.jsx(T,{checked:s.getIsSelected(),onCheckedChange:a=>s.toggleSelected(!!a),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:"Leave group name"},{accessorKey:"Leave Types",cell:({row:s})=>s.original.leave_group_types.map(a=>a.leave_type.name).join(", ")},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:s})=>e.jsx(le,{data:s.original})}],te=()=>{const[s,a]=m.useState(!1),[o,d]=Q.useState({pageIndex:0,pageSize:10}),{data:l,isLoading:u}=D(`per_page=${o.pageSize}&page=${o.pageIndex+1}`),t=(l==null?void 0:l.data)||[],i=l==null?void 0:l.meta;return u?e.jsx(w,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{title:"Leave Group",description:"Manage job apply for you business"}),e.jsxs(p,{onClick:()=>a(!0),size:"sm",children:[e.jsx(F,{className:"mr-2 h-4 w-4"})," Add Leave Group"]})]}),e.jsx(J,{}),t&&e.jsx("div",{children:e.jsx(W,{columns:ne,data:t,paginationInfo:i,pagination:i&&o,setPagination:i&&d})})]})}),s&&e.jsx(M,{title:"Add Leave Group",isOpen:s,toggleModal:()=>a(!1),className:"",children:e.jsx(P,{modalClose:()=>a(!1)})})]})};export{te as default};
>>>>>>>> main:dist/assets/index-1ad81aa3.js
