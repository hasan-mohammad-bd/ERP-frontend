import{a as e,V as z,r as o,Y as H,bY as U,Z as g,_ as y,$ as u,y as _,z as C,B as d,A as D,ay as F,D as P,E as T,F as A,G as L,H as h,a1 as O,bZ as $,a0 as q,I as K,a5 as v,a6 as N,a7 as S,a8 as V,a9 as b,aa as Z,ab as B,ac as w,a3 as G,ad as M,R as Y,X as Q,ae as X,t as W,af as ee,ag as se}from"./index-9bb88491.js";import{u as ae,a as te}from"./index-d3722466.js";import{Z as le}from"./zoom-in-5d7393c6.js";const ne=({data:s})=>e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("p",{className:"font-semibold",children:"Status:"}),e.jsx("div",{children:s.policy_name})]})}),oe=[{date:"2022-01-01",id:1,employee_id:1,name:"Employee 1",leave_type:"CL",start_date:"2022-01-01",end_date:"2022-01-01",status:"Pending"},{date:"2022-01-01",id:2,employee_id:1,name:"Employee 2",leave_type:"CL",start_date:"2022-01-01",end_date:"2022-01-01",status:"Pending"}];function k({modalClose:s,data:l}){const a=z({defaultValues:{policy_name:"",in_time:"",working_hours:"",delay_buffer:"",ex_delay_buffer:"",break_time:"",effect_from:""}}),[c,t]=o.useState(!1),[m,r]=o.useState(!1),[i,p]=o.useState(new Date),[x,j]=o.useState(new Date),[f,R]=o.useState([]);console.log(f);const E=n=>{n&&(p(n),t(!1))},I=n=>{n&&(j(n),r(!1))};async function J(n){console.log("Form Submitted:",n),s()}return e.jsx(e.Fragment,{children:e.jsx(H,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(J),className:"space-y-3",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"",children:e.jsx(U,{data:oe,displayField:"name",valueField:"id",form:a,name:"employee_id",title:"Employee",className:"w-[460px]"})}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("div",{className:"w-full mr-2",children:e.jsx(g,{control:a.control,name:"start_date",render:()=>e.jsxs(y,{children:[e.jsx(u,{children:"Start Date"}),e.jsxs(_,{open:c,onOpenChange:t,children:[e.jsx(C,{asChild:!0,className:"",children:e.jsxs(d,{variant:"outline",className:`w-full justify-start text-left font-normal ${!i&&"text-muted-foreground"}`,children:[i?D(i,"PP"):"Pick a date",e.jsx(F,{className:"ml-auto h-4 w-4 opacity-50"})]})}),e.jsx(P,{className:"w-auto p-0",align:"start",children:e.jsx(T,{mode:"single",selected:i,onSelect:E,initialFocus:!0})})]})]})})}),e.jsx("div",{children:e.jsx(A,{defaultValue:"account",className:"w-[200px] ",children:e.jsxs(L,{className:"grid w-full grid-cols-2",children:[e.jsx(h,{value:"account",children:"First Half"}),e.jsx(h,{value:"password",children:"Second Half"})]})})})]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("div",{className:"w-full mr-2",children:e.jsx(g,{control:a.control,name:"end_date",render:()=>e.jsxs(y,{children:[e.jsx(u,{children:"End Date"}),e.jsxs(_,{open:m,onOpenChange:r,children:[e.jsx(C,{asChild:!0,className:"",children:e.jsxs(d,{variant:"outline",className:`w-full justify-start text-left font-normal ${!x&&"text-muted-foreground"}`,children:[x?D(x,"PP"):"Pick a date",e.jsx(F,{className:"ml-auto h-4 w-4 opacity-50"})]})}),e.jsx(P,{className:"w-auto p-0",align:"start",children:e.jsx(T,{mode:"single",selected:x,onSelect:I,initialFocus:!0})})]}),e.jsx(O,{})]})})}),e.jsx("div",{children:e.jsx(A,{defaultValue:"password",className:"w-[200px] ",children:e.jsxs(L,{className:"grid w-full grid-cols-2",children:[e.jsx(h,{value:"account",children:"First Half"}),e.jsx(h,{value:"password",children:"Second Half"})]})})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{children:"Upload Files"}),e.jsx($,{setUploadedFiles:R})]}),e.jsx(g,{control:a.control,name:"purpose",render:({field:n})=>e.jsxs(y,{children:[e.jsx(u,{children:"Purpose"}),e.jsx(q,{children:e.jsx(K,{className:"",placeholder:"Enter purpose",...n})}),e.jsx(O,{})]})})]}),e.jsx("div",{className:"text-right",children:e.jsx(d,{variant:"default",type:"submit",className:"w-fit mt-4",children:l?"Update":"Add"})})]})})})}function ie({data:s}){const[l,a]=o.useState(!1),[c,t]=o.useState(!1),[m,r]=o.useState(!1),[i,{isLoading:p}]=ae(),x=async j=>{try{await i(j),G.success("Job deleted successfully"),a(!1)}catch(f){console.log(f)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(v,{children:e.jsxs(N,{children:[e.jsx(S,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>t(!0),children:e.jsx(V,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Update Job Post"})})]})}),e.jsx(v,{children:e.jsxs(N,{children:[e.jsx(S,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{r(!0)},children:e.jsx(le,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(v,{children:e.jsxs(N,{children:[e.jsx(S,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{a(!0)},children:e.jsx(Z,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(B,{title:"Are you sure?",description:"This action cannot be undone.",name:s.policy_name,isOpen:l,onClose:()=>a(!1),onConfirm:()=>x(s.id),loading:p}),c&&e.jsx(w,{title:"Update Job",isOpen:c,toggleModal:()=>t(!1),className:"w-[90%] max-w-6xl",children:e.jsx(k,{data:s,modalClose:()=>t(!1)})}),m&&e.jsx(w,{title:"Job Details",isOpen:m,toggleModal:()=>r(!1),className:"w-[90%] max-w-6xl",children:e.jsx(ne,{data:s})})]})}const re=[{id:"select",header:({table:s})=>e.jsx(M,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:l=>s.toggleAllPageRowsSelected(!!l),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:s})=>e.jsx(M,{checked:s.getIsSelected(),onCheckedChange:l=>s.toggleSelected(!!l),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"date",header:"Date"},{accessorKey:"name",header:"Employee name"},{accessorKey:"leave_type",header:"Leave type"},{accessorKey:"start_date",header:"Start Date"},{accessorKey:"end_date",header:"End Date"},{accessorKey:"status",header:"Status"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:s})=>e.jsx(ie,{data:s.original})}],de=[{date:"2022-01-01",id:1,employee_id:1,name:"Employee 1",leave_type:"CL",start_date:"2022-01-01",end_date:"2022-01-01",status:"Pending"},{date:"2022-01-01",id:2,employee_id:1,name:"Employee 1",leave_type:"CL",start_date:"2022-01-01",end_date:"2022-01-01",status:"Pending"}],ue=()=>{const[s,l]=o.useState(!1),[a,c]=Y.useState({pageIndex:0,pageSize:10}),{data:t,isLoading:m}=te(`per_page=${a.pageSize}&page=${a.pageIndex+1}`),r=(t==null?void 0:t.data)||[],i=t==null?void 0:t.meta;return m?e.jsx(Q,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{title:"Leave Request",description:"Manage job apply for you business"}),e.jsxs(d,{onClick:()=>l(!0),size:"sm",children:[e.jsx(W,{className:"mr-2 h-4 w-4"})," Add Leave Request"]})]}),e.jsx(ee,{}),r&&e.jsx("div",{children:e.jsx(se,{columns:re,data:de,paginationInfo:i,pagination:a,setPagination:c})})]})}),s&&e.jsx(w,{title:"Add Leave Request",isOpen:s,toggleModal:()=>l(!1),className:"",children:e.jsx(k,{modalClose:()=>l(!1)})})]})};export{ue as default};
