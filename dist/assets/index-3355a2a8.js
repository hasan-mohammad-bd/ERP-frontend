import{a as e,V as w,Y as M,Z as i,_ as d,$ as m,a0 as x,I as p,a1 as u,B as t,r as h,a5 as g,a6 as f,a7 as y,a8 as F,a9 as v,aa as O,ab as T,ac as b,a3 as k,ad as _,R as E,X as I,ae as P,t as D,af as R,ag as J}from"./index-ac231e1b.js";import{u as G,a as z}from"./index-27e3811b.js";import{Z as K}from"./zoom-in-667d05df.js";const U=({data:s})=>e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("p",{className:"font-semibold",children:"Status:"}),e.jsx("div",{children:s.policy_name})]})});function N({modalClose:s,data:o}){const l=w({defaultValues:{policy_name:"",in_time:"",working_hours:"",delay_buffer:"",ex_delay_buffer:"",break_time:"",effect_from:""}});async function n(a){console.log("Form Submitted:",a),s()}return e.jsx(e.Fragment,{children:e.jsx(M,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(n),className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-1",children:[e.jsx(i,{control:l.control,name:"leave_group_name",render:({field:a})=>e.jsxs(d,{children:[e.jsx(m,{children:"Leave Group Name"}),e.jsx(x,{children:e.jsx(p,{className:"",placeholder:"Enter Leave Group Name",...a})}),e.jsx(u,{})]})}),e.jsx(i,{control:l.control,name:"number_of_leave_type",render:({field:a})=>e.jsxs(d,{children:[e.jsx(m,{children:"Number Of Leave Type"}),e.jsx(x,{children:e.jsx(p,{type:"number",className:"",placeholder:"Enter Policy Name",...a})}),e.jsx(u,{})]})}),e.jsx(i,{control:l.control,name:"total_leave",render:({field:a})=>e.jsxs(d,{children:[e.jsx(m,{children:"Total Leave"}),e.jsx(x,{children:e.jsx(p,{type:"number",className:"",placeholder:"Enter Total Leave",...a})}),e.jsx(u,{})]})}),e.jsx(i,{control:l.control,name:"employee_count",render:({field:a})=>e.jsxs(d,{children:[e.jsx(m,{children:"Employee Count"}),e.jsx(x,{children:e.jsx(p,{type:"number",className:"",placeholder:"Enter Employee Count",...a})}),e.jsx(u,{})]})})]}),e.jsx("div",{className:"text-right",children:e.jsx(t,{variant:"default",type:"submit",className:"w-fit mt-4",children:o?"Update":"Add"})})]})})})}function Z({data:s}){const[o,l]=h.useState(!1),[n,a]=h.useState(!1),[r,c]=h.useState(!1),[j,{isLoading:C}]=G(),S=async A=>{try{await j(A),k.success("Job deleted successfully"),l(!1)}catch(L){console.log(L)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>a(!0),children:e.jsx(F,{className:"h-4 w-4 text-foreground"})})}),e.jsx(v,{children:e.jsx("p",{children:"Update Job Post"})})]})}),e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{c(!0)},children:e.jsx(K,{className:"h-4 w-4 text-foreground"})})}),e.jsx(v,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{l(!0)},children:e.jsx(O,{className:"h-4 w-4 text-foreground"})})}),e.jsx(v,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(T,{title:"Are you sure?",description:"This action cannot be undone.",name:s.policy_name,isOpen:o,onClose:()=>l(!1),onConfirm:()=>S(s.id),loading:C}),n&&e.jsx(b,{title:"Update Job",isOpen:n,toggleModal:()=>a(!1),className:"w-[90%] max-w-6xl",children:e.jsx(N,{data:s,modalClose:()=>a(!1)})}),r&&e.jsx(b,{title:"Job Details",isOpen:r,toggleModal:()=>c(!1),className:"w-[90%] max-w-6xl",children:e.jsx(U,{data:s})})]})}const $=[{id:"select",header:({table:s})=>e.jsx(_,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>s.toggleAllPageRowsSelected(!!o),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:s})=>e.jsx(_,{checked:s.getIsSelected(),onCheckedChange:o=>s.toggleSelected(!!o),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"leave_group_name",header:"Leave group name"},{accessorKey:"number_of_leave_type",header:"Number of leave type"},{accessorKey:"total_leave",header:"Total Leave"},{accessorKey:"employee_count",header:"Employee Count"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:s})=>e.jsx(Z,{data:s.original})}],q=[{leave_group_name:"Eidul Adha",number_of_leave_type:"10",total_leave:"20",employee_count:"5"},{leave_group_name:"Eidul Adha",number_of_leave_type:"10",total_leave:"20",employee_count:"5"}],Q=()=>{const[s,o]=h.useState(!1),[l,n]=E.useState({pageIndex:0,pageSize:10}),{data:a,isLoading:r}=z(`per_page=${l.pageSize}&page=${l.pageIndex+1}`),c=(a==null?void 0:a.data)||[],j=a==null?void 0:a.meta;return r?e.jsx(I,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(P,{title:"Leave Group",description:"Manage job apply for you business"}),e.jsxs(t,{onClick:()=>o(!0),size:"sm",children:[e.jsx(D,{className:"mr-2 h-4 w-4"})," Add Leave Group"]})]}),e.jsx(R,{}),c&&e.jsx("div",{children:e.jsx(J,{columns:$,data:q,paginationInfo:j,pagination:l,setPagination:n})})]})}),s&&e.jsx(b,{title:"Add Leave Group",isOpen:s,toggleModal:()=>o(!1),className:"",children:e.jsx(N,{modalClose:()=>o(!1)})})]})};export{Q as default};
