import{bp as N,a as s,Y as f,bd as T,be as L,bf as _,bg as c,bh as t,bi as d,cl as E,t as P,r as b,aw as B,aL as k,bo as w,aN as S,cm as $}from"./index-51361ed7.js";import{E as C}from"./employee-filters-b90a0fc7.js";import"./index-f3d31bd2.js";import"./index-6a77075d.js";import"./index-06124dce.js";import"./index-64b4d8bc.js";import"./index-45490835.js";import"./index-59cae86f.js";const D=N.injectEndpoints({endpoints:e=>({getLeaveBalance:e.query({query:a=>`leave-reports/balance?${a}`,providesTags:["leave-balance"]})}),overrideExisting:!1}),{useGetLeaveBalanceQuery:F}=D,z=({tableData:e})=>s.jsxs(f,{children:[" ",s.jsxs(T,{className:"",children:[s.jsx(L,{children:s.jsxs(_,{children:[s.jsx(c,{children:"Employee Id"}),s.jsx(c,{children:"Employee Name"}),s.jsx(c,{children:"Total Entitlement (Days)"}),s.jsx(c,{children:"Leave Taken (Days)"}),s.jsx(c,{children:"Remaining Balance (Days)"})]})}),s.jsx(t,{className:"",children:e&&e.map(a=>{var x,p,h,j,y,l,u,n,r,o,g,v;return s.jsxs(_,{className:"",children:[s.jsx(d,{className:"",children:a==null?void 0:a.employee_unique_id}),s.jsxs(d,{className:"",children:[a==null?void 0:a.first_name," ",a==null?void 0:a.last_name]}),s.jsxs(d,{children:[a!=null&&a.allowed?a==null?void 0:a.allowed:""," "," ",(a==null?void 0:a.allowed)>1?"days":(a==null?void 0:a.allowed)<1?"":"day"]}),s.jsxs(d,{children:[(x=a==null?void 0:a.taken)!=null&&x.total_days?(p=a==null?void 0:a.taken)==null?void 0:p.total_days:""," ",((h=a==null?void 0:a.taken)==null?void 0:h.total_days)>1?"days":((j=a==null?void 0:a.taken)==null?void 0:j.total_days)<1?"":"day",((y=a==null?void 0:a.taken)==null?void 0:y.total_hours)>0?` (${(l=a==null?void 0:a.taken)==null?void 0:l.total_hours} hours)`:""]}),s.jsxs(d,{children:[(u=a==null?void 0:a.available)!=null&&u.total_days?(n=a==null?void 0:a.available)==null?void 0:n.total_days:""," ",((r=a==null?void 0:a.available)==null?void 0:r.total_days)>1?"days":((o=a==null?void 0:a.available)==null?void 0:o.total_days)<1?"":"day",((g=a==null?void 0:a.available)==null?void 0:g.total_hours)>0?` (${(v=a==null?void 0:a.available)==null?void 0:v.total_hours} hours)`:""]})]},a==null?void 0:a.id)})}),s.jsx(E,{})]})]}),W=()=>{var o;const{user:e}=P(),[a,x]=b.useState(1),[p,h]=b.useState(10),[j,y]=b.useState(""),{data:l,isLoading:u}=F(`per_page=${p}&page=${a}&${j}`),n=(l==null?void 0:l.data)||[],r=l==null?void 0:l.meta;return u?s.jsx(B,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-5 space-y-5",children:[s.jsx(k,{title:"Leave Balance",description:"Manage employees for you business"}),s.jsx(C,{setFilterParams:y})]}),s.jsxs(f,{children:[s.jsxs(w,{className:"space-y-4",fileName:"leave-usages-report",children:[s.jsx("div",{className:"flex-1 space-y-4 my-4",children:s.jsxs("div",{className:"text-center  ",children:[s.jsx("h2",{children:(o=e==null?void 0:e.organization)==null?void 0:o.name}),s.jsx("h3",{className:"text-xl",children:"Leave Balance Report"})]})}),s.jsxs("div",{className:"flex-1 space-y-4 w-full mx-auto",children:[s.jsx(S,{}),n?s.jsx(z,{tableData:n}):null]})]}),r&&s.jsx($,{className:"px-4 pb-4",meta:r,dataCount:n.length,onPageChange:x,onPageSizeChange:h})]})]})};export{W as default};
