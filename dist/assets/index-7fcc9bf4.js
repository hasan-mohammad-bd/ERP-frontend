import{c as v,r as m,dC as f,D as p,a as e,aC as o,aD as d,aE as h,Y as i,aG as g,aF as C,aH as S,aI as b,ay as N,az as D,aK as j,dD as x,dE as O,ax as k,aM as w,aN as I,aO as P,aP as T}from"./index-5bbba7cd.js";/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=v("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);function K({rowData:a}){const[s,t]=m.useState(!1),[n,{isLoading:c}]=f(),r=p(),l=async y=>{try{await n(y).unwrap(),N.success("Item deleted successfully"),t(!1)}catch(u){D(u),console.log(u)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(o,{children:e.jsxs(d,{children:[e.jsx(h,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>r(`/billing/invoices/add-from-sales-order/${a.id}`),children:e.jsx(A,{className:"h-4 w-4 text-foreground"})})}),e.jsx(g,{children:e.jsx("p",{children:"Convert to sales"})})]})}),e.jsx(o,{children:e.jsxs(d,{children:[e.jsx(h,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>r(`/billing/quotes/edit/${a.id}`),children:e.jsx(C,{className:"h-4 w-4 text-foreground"})})}),e.jsx(g,{children:e.jsx("p",{children:"Edit"})})]})}),e.jsx(o,{children:e.jsxs(d,{children:[e.jsx(h,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{t(!0)},children:e.jsx(S,{className:"h-4 w-4 text-foreground"})})}),e.jsx(g,{children:e.jsx("p",{children:"Delete"})})]})}),e.jsx(b,{title:"Are you sure?",description:"This action cannot be undone.",name:"This Sales Order",isOpen:s,onClose:()=>t(!1),onConfirm:()=>l(a.id),loading:c})]})}const M=[{id:"select",header:({table:a})=>e.jsx(j,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:s=>a.toggleAllPageRowsSelected(!!s),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:a})=>e.jsx(j,{checked:a.getIsSelected(),onCheckedChange:s=>a.toggleSelected(!!s),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"date",header:"Date",cell:({row:a})=>e.jsx(e.Fragment,{children:x(a.original.date||"")})},{accessorKey:"invoice_number",header:"Invoice Number",cell:({row:a})=>e.jsx(e.Fragment,{children:a.original.invoice_number})},{accessorKey:"contact.name",header:"Customer Name"},{accessorKey:"contact.phone",header:"Customer Phone"},{accessorKey:"delivery_date",header:"Delivery Date",cell:({row:a})=>e.jsx(e.Fragment,{children:x(a.original.delivery_date||"")})},{accessorKey:"due_date",header:"Due Date",cell:({row:a})=>e.jsx(e.Fragment,{children:x(a.original.due_date||"")})},{accessorKey:"total",header:"Total"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:a})=>e.jsx(K,{rowData:a.original})}],F=()=>{const a=p(),[s,t]=m.useState({pageIndex:0,pageSize:10}),{data:n,isLoading:c}=O(`per_page=${s.pageSize}&page=${s.pageIndex+1}`),r=(n==null?void 0:n.data)||[],l=n==null?void 0:n.meta;return c?e.jsx(k,{}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(w,{title:"All Quotes",description:"Manage your sub accounts for you business"}),e.jsxs(i,{onClick:()=>a("/billing/quotes/add"),size:"sm",children:[e.jsx(I,{className:"mr-2 h-4 w-4"})," Add quotes"]})]}),e.jsx(P,{}),n&&e.jsx("div",{children:e.jsx(T,{columns:M,data:r,paginationInfo:l,pagination:l&&s,setPagination:l&&t})})]})})})};export{F as default};
