import{r as R,a as e,Y as P,bd as z,be as S,bf as i,bg as l,bh as T,bi as c,dl as D,bQ as B,X as k,bR as C,bS as W,bT as V,bU as A}from"./index-fe9eec72.js";const I=({data:s})=>{var t,m,h,j,p,N,u,v,f,y,g;const x=R.useRef(null),b=s.total,w=async()=>{if(!x.current)return;const r=new V("p","mm","a4"),n=await A(x.current,{scale:2,useCORS:!0}),d=n.toDataURL("image/jpeg",1),o=r.internal.pageSize.getWidth(),a=n.height*o/n.width;r.addImage(d,"JPEG",0,0,o,a),r.save(`${s==null?void 0:s.entry_number}-voucher-details.pdf`)};return e.jsxs("div",{children:[e.jsx("div",{ref:x,children:e.jsxs("div",{className:"p-7",children:[e.jsxs("div",{className:"flex items-start justify-center relative",children:[e.jsx("div",{className:"absolute left-0 top-0 h-[80px] max-w-[180px]",children:((t=s==null?void 0:s.organization)==null?void 0:t.logo)&&e.jsx("img",{src:(m=s==null?void 0:s.organization)==null?void 0:m.logo,alt:"",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("div",{className:"font-bold text-center text-xl",children:(h=s==null?void 0:s.organization)==null?void 0:h.name}),e.jsxs("div",{className:"text-sm w-full whitespace-nowrap",children:[e.jsx("div",{children:(p=(j=s==null?void 0:s.organization)==null?void 0:j.address)==null?void 0:p.join(". ")})," ",e.jsxs("div",{className:"",children:["Phone: ",(u=(N=s==null?void 0:s.organization)==null?void 0:N.phone)==null?void 0:u.join(", ")]})]}),e.jsxs("span",{className:"text-sm",children:["Website: ",(v=s==null?void 0:s.organization)==null?void 0:v.website]}),e.jsx("div",{className:"text-center text-base my-3 border border-spacing-1 w-fit mx-auto !py-2 px-4 rounded-full",children:s.type==="Receipt Voucher"?"Received Voucher":s.type})]})]}),e.jsx("div",{className:"text-right text-sm mb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[((f=s==null?void 0:s.project)==null?void 0:f.name)&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-bold",children:"Project:"})," ",s.project.name]})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Payment By: "}),(y=s.details[0].account)==null?void 0:y.name]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Voucher No:"})," ",s==null?void 0:s.entry_number]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Date:"})," ",s.date]})]})]})}),e.jsxs("div",{children:[e.jsx(P,{children:e.jsxs(z,{className:"border border-black",children:[e.jsx(S,{className:"border border-black",children:e.jsxs(i,{className:"border border-black h-0",children:[e.jsx(l,{className:"border border-black py-[5px] h-0",children:"SL."}),e.jsx(l,{className:"border border-black py-[5px] h-0",children:"Account No."}),e.jsx(l,{className:"border border-black py-[5px] h-0",children:"Account Code."}),e.jsx(l,{className:"border border-black py-[5px] h-0",children:"Contact"}),e.jsx(l,{className:"border border-black py-[5px] h-0",children:"Description"}),e.jsx(l,{className:"border border-black py-[5px] h-0",children:"Amount"})]})}),e.jsxs(T,{className:"border border-black",children:[s.details.filter((r,n)=>n!==0).map((r,n)=>{var d,o,a;return e.jsxs(i,{className:"border border-black",children:[e.jsx(c,{className:"border border-black py-[5px]",children:n+1}),e.jsx(c,{className:"border border-black py-[5px]",children:(d=r==null?void 0:r.account)==null?void 0:d.name}),e.jsx(c,{className:"border border-black py-[5px]",children:(o=r==null?void 0:r.account)==null?void 0:o.code}),e.jsx(c,{className:"border border-black py-[5px]",children:(a=r==null?void 0:r.contact)==null?void 0:a.name}),e.jsx(c,{className:"border border-black py-[5px]",children:r==null?void 0:r.note}),e.jsx(c,{className:"border border-black py-[5px]",children:s.type==="Payment Voucher"?r.dr_amount.toLocaleString("en-IN"):r.cr_amount.toLocaleString("en-IN")})]},n)}),e.jsxs(i,{className:"border border-black bg-gray-100",children:[e.jsx(c,{colSpan:5,className:"text-right font-bold border border-black py-[5px]",children:"Total"}),e.jsx(c,{className:"font-bold border border-black py-[5px]",children:b.toLocaleString("en-IN")})]}),e.jsx(i,{className:"border border-black",children:e.jsxs(c,{colSpan:5,className:"py-[5px]",children:[e.jsx("span",{className:"font-bold",children:"In Words:"})," ",D(b)]})}),e.jsx(i,{className:"border border-black",children:e.jsxs(c,{colSpan:5,className:"max-w-sm py-[5px]",children:[e.jsx("span",{className:"font-bold",children:"Remarks: "}),s.note]})})]})]})}),e.jsxs("div",{className:"flex items-end justify-evenly text-sm mt-20 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold flex flex-col",children:(g=s==null?void 0:s.user)==null?void 0:g.name}),e.jsx("div",{children:"Prepared By"})]}),e.jsx("div",{children:"Received By"}),e.jsx("div",{children:"Accounts"}),e.jsxs("div",{children:[e.jsx("div",{}),e.jsx("div",{children:"Checked By"})]}),e.jsx("div",{children:"Approved By"})]})]})]})}),e.jsx("div",{className:"flex space-x-2 items-center justify-end mt-8 print:hidden"}),e.jsxs("div",{className:"flex space-x-2 items-center justify-end mt-8 print:hidden",children:[e.jsx(B,{trigger:()=>e.jsxs(k,{size:"input",variant:"outline",className:"h-8 lg:flex",children:["Print ",e.jsx(C,{className:"ml-1",size:16,strokeWidth:1.2})]}),content:()=>x.current}),e.jsxs(k,{variant:"outline",size:"input",className:"h-8 lg:flex",onClick:w,children:["PDF ",e.jsx(W,{className:"ml-1",size:16,strokeWidth:1.2})]})]})]})};export{I as V};
