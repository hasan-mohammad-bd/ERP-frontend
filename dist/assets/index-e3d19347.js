import{bb as T,a as s,N,b3 as f,b4 as k,b5 as v,b6 as c,b7 as L,b8 as o,cQ as B,r as _,am as E,bc as P,aC as w,cR as C}from"./index-7aa002ab.js";const S=T.injectEndpoints({endpoints:n=>({getLeaveBalance:n.query({query:a=>`leave-reports/balance?${a}`,providesTags:["leave-balance"]})}),overrideExisting:!1}),{useGetLeaveBalanceQuery:D}=S,R=({tableData:n})=>s.jsxs(N,{children:[" ",s.jsxs(f,{className:"",children:[s.jsx(k,{children:s.jsxs(v,{children:[s.jsx(c,{children:"Employee Id"}),s.jsx(c,{children:"Employee Name"}),s.jsx(c,{children:"Total Entitlement (Days)"}),s.jsx(c,{children:"Leave Taken (Days)"}),s.jsx(c,{children:"Remaining Balance (Days)"})]})}),s.jsx(L,{className:"",children:n&&n.map(a=>{var d,x,l,h,e,r,j,p,y,b,u,g;return s.jsxs(v,{className:"",children:[s.jsx(o,{className:"",children:a==null?void 0:a.employee_unique_id}),s.jsxs(o,{className:"",children:[a==null?void 0:a.first_name," ",a==null?void 0:a.last_name]}),s.jsxs(o,{children:[a!=null&&a.allowed?a==null?void 0:a.allowed:""," "," ",(a==null?void 0:a.allowed)>1?"days":(a==null?void 0:a.allowed)<1?"":"day"]}),s.jsxs(o,{children:[(d=a==null?void 0:a.taken)!=null&&d.total_days?(x=a==null?void 0:a.taken)==null?void 0:x.total_days:""," ",((l=a==null?void 0:a.taken)==null?void 0:l.total_days)>1?"days":((h=a==null?void 0:a.taken)==null?void 0:h.total_days)<1?"":"day",((e=a==null?void 0:a.taken)==null?void 0:e.total_hours)>0?` (${(r=a==null?void 0:a.taken)==null?void 0:r.total_hours} hours)`:""]}),s.jsxs(o,{children:[(j=a==null?void 0:a.available)!=null&&j.total_days?(p=a==null?void 0:a.available)==null?void 0:p.total_days:""," ",((y=a==null?void 0:a.available)==null?void 0:y.total_days)>1?"days":((b=a==null?void 0:a.available)==null?void 0:b.total_days)<1?"":"day",((u=a==null?void 0:a.available)==null?void 0:u.total_hours)>0?` (${(g=a==null?void 0:a.available)==null?void 0:g.total_hours} hours)`:""]})]},a==null?void 0:a.id)})}),s.jsx(B,{})]})]}),q=()=>{const[n,a]=_.useState(1),[d,x]=_.useState(10),{data:l,isLoading:h}=D(`per_page=${d}&page=${n}`),e=(l==null?void 0:l.data)||[],r=l==null?void 0:l.meta;return h?s.jsx(E,{}):s.jsx(s.Fragment,{children:s.jsxs(N,{children:[s.jsxs(P,{className:"space-y-4",fileName:"leave-usages-report",children:[s.jsx("div",{className:"flex-1 space-y-4 my-4",children:s.jsxs("div",{className:"text-center  ",children:[s.jsx("h2",{children:"Akaar IT"}),s.jsx("h3",{className:"text-xl",children:"Leave Balance Report"})]})}),s.jsxs("div",{className:"flex-1 space-y-4 w-full mx-auto",children:[s.jsx(w,{}),e?s.jsx(R,{tableData:e}):null]})]}),r&&s.jsx(C,{className:"px-4 pb-4",meta:r,dataCount:e.length,onPageChange:a,onPageSizeChange:x})]})})};export{q as default};
