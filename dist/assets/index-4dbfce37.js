import{bp as f,a as e,Y as y,bd as N,be as S,bf as g,bg as n,bh as v,bi as r,cl as _,r as x,bm as A,X as m,bW as T,ad as b,t as D,aw as P,aL as w,a$ as C,bo as M,cm as $}from"./index-5b1b1c09.js";const F=f.injectEndpoints({endpoints:a=>({getAttendanceSummary:a.query({query:s=>`attendance-summary-report?${s}`,providesTags:["attendance-summary-report"]})}),overrideExisting:!1}),{useGetAttendanceSummaryQuery:E}=F,k=({tableData:a})=>(console.log(a),e.jsxs(y,{children:[" ",e.jsxs(N,{className:"",children:[e.jsx(S,{children:e.jsxs(g,{children:[e.jsx(n,{children:"Employee Id"}),e.jsx(n,{children:"Employee Name"}),e.jsx(n,{children:"Late"}),e.jsx(n,{children:"Extreme Late"}),e.jsx(n,{children:"On Time"}),e.jsx(n,{children:"Working Days"}),e.jsx(n,{children:"Present Days"}),e.jsx(n,{children:"Absent Days"}),e.jsx(n,{children:"Total Days"}),e.jsx(n,{children:"Total Hours"})]})}),e.jsx(v,{className:"",children:a&&a.map(s=>{var c,t;return e.jsxs(g,{className:"",children:[e.jsx(r,{className:"",children:s==null?void 0:s.employee_id}),e.jsx(r,{className:"",children:s==null?void 0:s.employee_name}),e.jsx(r,{children:s.late}),e.jsx(r,{children:s==null?void 0:s.extreme_late}),e.jsx(r,{children:s==null?void 0:s.on_time}),e.jsx(r,{children:s==null?void 0:s.working_days}),e.jsx(r,{children:s==null?void 0:s.present_days}),e.jsx(r,{children:s==null?void 0:s.absent_days}),e.jsx(r,{children:(c=s==null?void 0:s.leaves)==null?void 0:c.total_days}),e.jsx(r,{children:(t=s==null?void 0:s.leaves)==null?void 0:t.total_hours})]},s==null?void 0:s.employee_id)})}),e.jsx(_,{})]})]}));function z({setFilterParams:a}){const[s,c]=x.useState(new Date),t="desc",i=25,h=o=>{c(o)},j=()=>{if(s){const d=`date=${b(s,"yyyy-MM")}&sort_by=${t}&per_page=${i}`;a(d)}},l=()=>{a(""),c(null)};return e.jsx(y,{className:"p-5",children:e.jsxs("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-6 items-start",children:[e.jsxs("div",{className:"space-y-2 flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium",children:"Month and Year *"}),e.jsx(A,{selected:s,onChange:h,dateFormat:"MM/yyyy",showMonthYearPicker:!0,placeholderText:"Select month and year",className:"border rounded p-1.5 w-full bg-none bg_remove"})]}),e.jsxs("div",{className:"pt-7 flex items-center gap-4",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:l,children:"Reset Filters"}),e.jsxs(m,{variant:"default",size:"sm",onClick:j,children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Apply Filters"]})]})]})})}const L=()=>{var u;const{user:a}=D(),[s,c]=x.useState(1),[t,i]=x.useState(10),[h,j]=x.useState(`date=${b(new Date,"yyyy-MM")}`),{data:l,isLoading:o}=E(`per_page=${t}&page=${s}&${h}`),d=(l==null?void 0:l.data)||[],p=l==null?void 0:l.meta;return o?e.jsx(P,{}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(w,{title:"Attendance Summary Report",description:"Manage Attendance Summary Report for you business"})}),e.jsx(C,{}),e.jsx("div",{className:"",children:e.jsx(z,{setFilterParams:j})}),e.jsx("div",{children:e.jsxs(y,{children:[e.jsxs(M,{className:"space-y-4",fileName:"attendance-summary-report",children:[e.jsx("div",{className:"flex-1 space-y-4 my-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{children:(u=a==null?void 0:a.organization)==null?void 0:u.name}),e.jsx("h3",{className:"text-xl",children:"Attendance Summary"})]})}),d?e.jsx(k,{tableData:d}):null]}),p&&e.jsx($,{className:"px-4 pb-4",meta:p,dataCount:d.length,onPageChange:c,onPageSizeChange:i})]})})]})};export{L as default};
