import{c as pt,aX as ht,k as a,R as Ke,aZ as ce,a_ as A,L as vt,n as gt,F as Jt,a$ as en,b0 as tn,b1 as z,b2 as nn,r,b3 as rn,_ as k,b4 as bt,b5 as on,b6 as an,b7 as sn,b8 as cn,b9 as J,ba as ln,bb as un,bc as dn,bd as fn,be as mn,bf as pn,bg as hn,l as K,N as xt,Q as $t,S as te,T as yt,U as _,V as D,W as U,v as vn,w as gn,X as G,B as le,y as bn,bh as xn,Y as V,I as ve,bi as $n,a0 as Et,bj as yn,ae as je,af as we,ag as Se,ah as Ne,ai as W,bk as En,a9 as Cn,P as Je,aa as jn}from"./index-T_4Ts9cE.js";import{T as wn,a as Sn,b as Nn,c as Rn}from"./tabs-B-i4IQB6.js";import{B as Ct}from"./badge-BvY7Zjv1.js";import{M as et}from"./modal-HFIkKiSt.js";import{S as An}from"./switch-B6NAA5ON.js";import"./sheet-CqsIeYSP.js";/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=pt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Tn=ht.injectEndpoints({endpoints:e=>({getLedgerGroups:e.query({query:()=>"ledger-groups?tree=1",providesTags:["ledger-groups-tree"]}),getLedgerGroupsArray:e.query({query:()=>"ledger-groups",providesTags:["ledger-groups-array"]}),createLedgerGroup:e.mutation({query:t=>({url:"ledger-groups",method:"POST",body:t}),invalidatesTags:["ledger-groups","ledger-groups-tree","ledger-groups-array"]}),removeLedgerGroup:e.mutation({query:t=>({url:`ledger-groups/${t}`,method:"DELETE"}),invalidatesTags:["ledger-groups"]}),updateLedgerGroup:e.mutation({query:({ledgerGroupId:t,updatedLedgerGroup:n})=>({url:`ledger-groups/${t}`,method:"PUT",body:n}),invalidatesTags:["ledger-groups"]})}),overrideExisting:!1}),{useGetLedgerGroupsQuery:Ln,useGetLedgerGroupsArrayQuery:jt,useCreateLedgerGroupMutation:kn,useRemoveLedgerGroupMutation:xo,useUpdateLedgerGroupMutation:$o}=Tn,wt=({group:e,coaType:t,depth:n=0})=>{const o=Array(n).fill("        ").join("");return e.childs_group.map(s=>a.jsxs(Ke.Fragment,{children:[a.jsxs(ce,{children:[a.jsxs(A,{className:"py-2.5 col-span-2 w-2/3 font-medium",children:[o,s.name]}),a.jsx(A,{className:"py-2.5",children:s.code}),a.jsx(A,{className:"py-2.5",children:"Group"}),a.jsx(A,{className:"py-2.5"}),a.jsx(A,{className:"py-2.5"}),a.jsx(A,{className:"py-2.5"})]}),s.childs_group.length>0&&a.jsx(wt,{group:s,coaType:t,depth:n+1}),s.ledgers.map(c=>a.jsxs(ce,{children:[a.jsx(A,{className:"py-0 col-span-2 w-2/3",children:a.jsxs(vt,{className:gt({variant:"link",size:"sm",className:"text-blue-400 hover:no-underline"}),to:`/accounts/detailed-general-ledger/${c.id}`,children:[o,c.name]})}),a.jsx(A,{className:"py-2.5",children:c.code}),a.jsx(A,{className:"py-2.5",children:"Account"}),a.jsx(A,{className:"py-2.5",children:a.jsx(Ct,{variant:"outline",children:"active"})}),a.jsx(A,{className:"py-2.5",children:"700"}),a.jsx(A,{className:"py-2.5",children:"500"})]},c.id))]},s.id))},In=({data:e,coaType:t})=>{const n=e.find(o=>o.name===t);return n?a.jsx(Jt,{className:"mt-4",children:a.jsxs(en,{children:[a.jsx(tn,{children:a.jsxs(ce,{children:[a.jsx(z,{className:"py-2.5 h-8 col-span-2 w-2/3",children:"Name"}),a.jsx(z,{className:"py-2.5 h-8 w-[100px]",children:"Code"}),a.jsx(z,{className:"py-2.5 h-8",children:"Type"}),a.jsx(z,{className:"py-2.5 h-8",children:"Status"}),a.jsx(z,{className:"py-2.5 h-8",children:"Debit"}),a.jsx(z,{className:"py-2.5 h-8",children:"Credit"})]})}),a.jsxs(nn,{children:[a.jsxs(ce,{children:[a.jsx(A,{className:"py-2.5 col-span-2 w-2/3 font-medium",children:n.name}),a.jsx(A,{className:"py-2.5",children:n.code}),a.jsx(A,{className:"py-2.5",children:"Group"}),a.jsx(A,{className:"py-2.5"}),a.jsx(A,{className:"py-2.5"}),a.jsx(A,{className:"py-2.5"})]}),a.jsx(wt,{group:n,coaType:t,depth:1}),n.ledgers.map(o=>a.jsxs(ce,{children:[a.jsx(A,{className:"py-2.5 col-span-2 w-2/3",children:a.jsxs(vt,{className:gt({variant:"link",size:"sm",className:"text-blue-400 hover:no-underline"}),to:`/accounts/detailed-general-ledger/${o.id}`,children:["    ",o.name]})}),a.jsx(A,{className:"py-2.5",children:o.code}),a.jsx(A,{className:"py-2.5",children:"Account"}),a.jsx(A,{className:"py-2.5",children:a.jsx(Ct,{variant:"secondary",children:"Inactive"})}),a.jsx(A,{className:"py-2.5",children:"700"}),a.jsx(A,{className:"py-2.5",children:"500"})]},o.id))]})]})}):null},Re=[{type:"Assets",title:"Assets",description:"Manage assets for your business"},{type:"Liabilities",title:"Liabilities",description:"Manage liabilities for your business"},{type:"Income",title:"Incomes",description:"Manage incomes for your business"},{type:"Expenses",title:"Expenses",description:"Manage expenses for your business"}];var tt=1,Fn=.9,Mn=.8,_n=.17,Ae=.1,Pe=.999,Dn=.9999,Un=.99,Gn=/[\\\/_+.#"@\[\(\{&]/,Bn=/[\\\/_+.#"@\[\(\{&]/g,Vn=/[\s-]/,St=/[\s-]/g;function Me(e,t,n,o,s,c,i){if(c===t.length)return s===e.length?tt:Un;var l=`${s},${c}`;if(i[l]!==void 0)return i[l];for(var f=o.charAt(c),u=n.indexOf(f,s),h=0,m,b,v,S;u>=0;)m=Me(e,t,n,o,u+1,c+1,i),m>h&&(u===s?m*=tt:Gn.test(e.charAt(u-1))?(m*=Mn,v=e.slice(s,u-1).match(Bn),v&&s>0&&(m*=Math.pow(Pe,v.length))):Vn.test(e.charAt(u-1))?(m*=Fn,S=e.slice(s,u-1).match(St),S&&s>0&&(m*=Math.pow(Pe,S.length))):(m*=_n,s>0&&(m*=Math.pow(Pe,u-s))),e.charAt(u)!==t.charAt(c)&&(m*=Dn)),(m<Ae&&n.charAt(u-1)===o.charAt(c+1)||o.charAt(c+1)===o.charAt(c)&&n.charAt(u-1)!==o.charAt(c))&&(b=Me(e,t,n,o,u+1,c+2,i),b*Ae>m&&(m=b*Ae)),m>h&&(h=m),u=n.indexOf(f,u+1);return i[l]=h,h}function nt(e){return e.toLowerCase().replace(St," ")}function Kn(e,t){return Me(e,t,nt(e),nt(t),0,0,{})}function ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Wn(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Nt(...e){return t=>e.forEach(n=>Wn(n,t))}function ue(...e){return r.useCallback(Nt(...e),e)}function qn(e,t=[]){let n=[];function o(c,i){const l=r.createContext(i),f=n.length;n=[...n,i];function u(m){const{scope:b,children:v,...S}=m,p=(b==null?void 0:b[e][f])||l,y=r.useMemo(()=>S,Object.values(S));return r.createElement(p.Provider,{value:y},v)}function h(m,b){const v=(b==null?void 0:b[e][f])||l,S=r.useContext(v);if(S)return S;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${c}\``)}return u.displayName=c+"Provider",[u,h]}const s=()=>{const c=n.map(i=>r.createContext(i));return function(l){const f=(l==null?void 0:l[e])||c;return r.useMemo(()=>({[`__scope${e}`]:{...l,[e]:f}}),[l,f])}};return s.scopeName=e,[o,Hn(s,...t)]}function Hn(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const i=o.reduce((l,{useScope:f,scopeName:u})=>{const m=f(c)[`__scope${u}`];return{...l,...m}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const _e=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},Xn=rn.useId||(()=>{});let Yn=0;function Oe(e){const[t,n]=r.useState(Xn());return _e(()=>{e||n(o=>o??String(Yn++))},[e]),e||(t?`radix-${t}`:"")}function H(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}function zn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,s]=Zn({defaultProp:t,onChange:n}),c=e!==void 0,i=c?e:o,l=H(n),f=r.useCallback(u=>{if(c){const m=typeof u=="function"?u(e):u;m!==e&&l(m)}else s(u)},[c,e,s,l]);return[i,f]}function Zn({defaultProp:e,onChange:t}){const n=r.useState(e),[o]=n,s=r.useRef(o),c=H(t);return r.useEffect(()=>{s.current!==o&&(c(o),s.current=o)},[o,s,c]),n}const We=r.forwardRef((e,t)=>{const{children:n,...o}=e,s=r.Children.toArray(n),c=s.find(Jn);if(c){const i=c.props.children,l=s.map(f=>f===c?r.Children.count(i)>1?r.Children.only(null):r.isValidElement(i)?i.props.children:null:f);return r.createElement(De,k({},o,{ref:t}),r.isValidElement(i)?r.cloneElement(i,void 0,l):null)}return r.createElement(De,k({},o,{ref:t}),n)});We.displayName="Slot";const De=r.forwardRef((e,t)=>{const{children:n,...o}=e;return r.isValidElement(n)?r.cloneElement(n,{...er(o,n.props),ref:Nt(t,n.ref)}):r.Children.count(n)>1?r.Children.only(null):null});De.displayName="SlotClone";const Qn=({children:e})=>r.createElement(r.Fragment,null,e);function Jn(e){return r.isValidElement(e)&&e.type===Qn}function er(e,t){const n={...t};for(const o in t){const s=e[o],c=t[o];/^on[A-Z]/.test(o)?n[o]=(...l)=>{c==null||c(...l),s==null||s(...l)}:o==="style"?n[o]={...s,...c}:o==="className"&&(n[o]=[s,c].filter(Boolean).join(" "))}return{...e,...n}}const tr=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],ge=tr.reduce((e,t)=>{const n=r.forwardRef((o,s)=>{const{asChild:c,...i}=o,l=c?We:t;return r.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),r.createElement(l,k({},i,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function nr(e,t){e&&bt.flushSync(()=>e.dispatchEvent(t))}function rr(e){const t=H(e);r.useEffect(()=>{const n=o=>{o.key==="Escape"&&t(o)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const Ue="dismissableLayer.update",or="dismissableLayer.pointerDownOutside",ar="dismissableLayer.focusOutside";let rt;const sr=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cr=r.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:i,onDismiss:l,...f}=e,u=r.useContext(sr),[h,m]=r.useState(null),[,b]=r.useState({}),v=ue(t,N=>m(N)),S=Array.from(u.layers),[p]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=S.indexOf(p),j=h?S.indexOf(h):-1,R=u.layersWithOutsidePointerEventsDisabled.size>0,E=j>=y,C=lr(N=>{const T=N.target,I=[...u.branches].some(F=>F.contains(T));!E||I||(s==null||s(N),i==null||i(N),N.defaultPrevented||l==null||l())}),x=ir(N=>{const T=N.target;[...u.branches].some(F=>F.contains(T))||(c==null||c(N),i==null||i(N),N.defaultPrevented||l==null||l())});return rr(N=>{j===u.layers.size-1&&(o==null||o(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))}),r.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(rt=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),ot(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=rt)}},[h,n,u]),r.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),ot())},[h,u]),r.useEffect(()=>{const N=()=>b({});return document.addEventListener(Ue,N),()=>document.removeEventListener(Ue,N)},[]),r.createElement(ge.div,k({},f,{ref:v,style:{pointerEvents:R?E?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,x.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,x.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,C.onPointerDownCapture)}))});function lr(e){const t=H(e),n=r.useRef(!1),o=r.useRef(()=>{});return r.useEffect(()=>{const s=i=>{if(i.target&&!n.current){let f=function(){Rt(or,t,l,{discrete:!0})};const l={originalEvent:i};i.pointerType==="touch"?(document.removeEventListener("click",o.current),o.current=f,document.addEventListener("click",o.current,{once:!0})):f()}n.current=!1},c=window.setTimeout(()=>{document.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(c),document.removeEventListener("pointerdown",s),document.removeEventListener("click",o.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function ir(e){const t=H(e),n=r.useRef(!1);return r.useEffect(()=>{const o=s=>{s.target&&!n.current&&Rt(ar,t,{originalEvent:s},{discrete:!1})};return document.addEventListener("focusin",o),()=>document.removeEventListener("focusin",o)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ot(){const e=new CustomEvent(Ue);document.dispatchEvent(e)}function Rt(e,t,n,{discrete:o}){const s=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),o?nr(s,c):s.dispatchEvent(c)}const Te="focusScope.autoFocusOnMount",Le="focusScope.autoFocusOnUnmount",at={bubbles:!1,cancelable:!0},ur=r.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:s,onUnmountAutoFocus:c,...i}=e,[l,f]=r.useState(null),u=H(s),h=H(c),m=r.useRef(null),b=ue(t,p=>f(p)),v=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(o){let p=function(j){if(v.paused||!l)return;const R=j.target;l.contains(R)?m.current=R:q(m.current,{select:!0})},y=function(j){v.paused||!l||l.contains(j.relatedTarget)||q(m.current,{select:!0})};return document.addEventListener("focusin",p),document.addEventListener("focusout",y),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y)}}},[o,l,v.paused]),r.useEffect(()=>{if(l){ct.add(v);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(Te,at);l.addEventListener(Te,u),l.dispatchEvent(j),j.defaultPrevented||(dr(vr(At(l)),{select:!0}),document.activeElement===p&&q(l))}return()=>{l.removeEventListener(Te,u),setTimeout(()=>{const j=new CustomEvent(Le,at);l.addEventListener(Le,h),l.dispatchEvent(j),j.defaultPrevented||q(p??document.body,{select:!0}),l.removeEventListener(Le,h),ct.remove(v)},0)}}},[l,u,h,v]);const S=r.useCallback(p=>{if(!n&&!o||v.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(y&&j){const R=p.currentTarget,[E,C]=fr(R);E&&C?!p.shiftKey&&j===C?(p.preventDefault(),n&&q(E,{select:!0})):p.shiftKey&&j===E&&(p.preventDefault(),n&&q(C,{select:!0})):j===R&&p.preventDefault()}},[n,o,v.paused]);return r.createElement(ge.div,k({tabIndex:-1},i,{ref:b,onKeyDown:S}))});function dr(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(q(o,{select:t}),document.activeElement!==n)return}function fr(e){const t=At(e),n=st(t,e),o=st(t.reverse(),e);return[n,o]}function At(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function st(e,t){for(const n of e)if(!mr(n,{upTo:t}))return n}function mr(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pr(e){return e instanceof HTMLInputElement&&"select"in e}function q(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&pr(e)&&t&&e.select()}}const ct=hr();function hr(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=lt(e,t),e.unshift(t)},remove(t){var n;e=lt(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function lt(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function vr(e){return e.filter(t=>t.tagName!=="A")}const gr=r.forwardRef((e,t)=>{var n;const{container:o=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=e;return o?on.createPortal(r.createElement(ge.div,k({},s,{ref:t})),o):null});function br(e,t){return r.useReducer((n,o)=>{const s=t[n][o];return s??n},e)}const be=e=>{const{present:t,children:n}=e,o=xr(t),s=typeof n=="function"?n({present:o.isPresent}):r.Children.only(n),c=ue(o.ref,s.ref);return typeof n=="function"||o.isPresent?r.cloneElement(s,{ref:c}):null};be.displayName="Presence";function xr(e){const[t,n]=r.useState(),o=r.useRef({}),s=r.useRef(e),c=r.useRef("none"),i=e?"mounted":"unmounted",[l,f]=br(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const u=me(o.current);c.current=l==="mounted"?u:"none"},[l]),_e(()=>{const u=o.current,h=s.current;if(h!==e){const b=c.current,v=me(u);e?f("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?f("UNMOUNT"):f(h&&b!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),_e(()=>{if(t){const u=m=>{const v=me(o.current).includes(m.animationName);m.target===t&&v&&bt.flushSync(()=>f("ANIMATION_END"))},h=m=>{m.target===t&&(c.current=me(o.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback(u=>{u&&(o.current=getComputedStyle(u)),n(u)},[])}}function me(e){return(e==null?void 0:e.animationName)||"none"}let ke=0;function $r(){r.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:it()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:it()),ke++,()=>{ke===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),ke--}},[])}function it(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Pt=an(),Ie=function(){},xe=r.forwardRef(function(e,t){var n=r.useRef(null),o=r.useState({onScrollCapture:Ie,onWheelCapture:Ie,onTouchMoveCapture:Ie}),s=o[0],c=o[1],i=e.forwardProps,l=e.children,f=e.className,u=e.removeScrollBar,h=e.enabled,m=e.shards,b=e.sideCar,v=e.noIsolation,S=e.inert,p=e.allowPinchZoom,y=e.as,j=y===void 0?"div":y,R=sn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=b,C=cn([n,t]),x=J(J({},R),s);return r.createElement(r.Fragment,null,h&&r.createElement(E,{sideCar:Pt,removeScrollBar:u,shards:m,noIsolation:v,inert:S,setCallbacks:c,allowPinchZoom:!!p,lockRef:n}),i?r.cloneElement(r.Children.only(l),J(J({},x),{ref:C})):r.createElement(j,J({},x,{className:f,ref:C}),l))});xe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xe.classNames={fullWidth:ln,zeroRight:un};var Ge=!1;if(typeof window<"u")try{var pe=Object.defineProperty({},"passive",{get:function(){return Ge=!0,!0}});window.addEventListener("test",pe,pe),window.removeEventListener("test",pe,pe)}catch{Ge=!1}var Z=Ge?{passive:!1}:!1,yr=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},Er=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},ut=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Ot(e,n);if(o){var s=Tt(e,n),c=s[1],i=s[2];if(c>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Cr=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},jr=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},Ot=function(e,t){return e==="v"?yr(t):Er(t)},Tt=function(e,t){return e==="v"?Cr(t):jr(t)},wr=function(e,t){return e==="h"&&t==="rtl"?-1:1},Sr=function(e,t,n,o,s){var c=wr(e,window.getComputedStyle(t).direction),i=c*o,l=n.target,f=t.contains(l),u=!1,h=i>0,m=0,b=0;do{var v=Tt(e,l),S=v[0],p=v[1],y=v[2],j=p-y-c*S;(S||j)&&Ot(e,l)&&(m+=j,b+=S),l=l.parentNode}while(!f&&l!==document.body||f&&(t.contains(l)||t===l));return(h&&(s&&m===0||!s&&i>m)||!h&&(s&&b===0||!s&&-i>b))&&(u=!0),u},he=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dt=function(e){return[e.deltaX,e.deltaY]},ft=function(e){return e&&"current"in e?e.current:e},Nr=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Rr=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ar=0,Q=[];function Pr(e){var t=r.useRef([]),n=r.useRef([0,0]),o=r.useRef(),s=r.useState(Ar++)[0],c=r.useState(function(){return dn()})[0],i=r.useRef(e);r.useEffect(function(){i.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=fn([e.lockRef.current],(e.shards||[]).map(ft),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=r.useCallback(function(p,y){if("touches"in p&&p.touches.length===2)return!i.current.allowPinchZoom;var j=he(p),R=n.current,E="deltaX"in p?p.deltaX:R[0]-j[0],C="deltaY"in p?p.deltaY:R[1]-j[1],x,N=p.target,T=Math.abs(E)>Math.abs(C)?"h":"v";if("touches"in p&&T==="h"&&N.type==="range")return!1;var I=ut(T,N);if(!I)return!0;if(I?x=T:(x=T==="v"?"h":"v",I=ut(T,N)),!I)return!1;if(!o.current&&"changedTouches"in p&&(E||C)&&(o.current=x),!x)return!0;var F=o.current||x;return Sr(F,y,p,F==="h"?E:C,!0)},[]),f=r.useCallback(function(p){var y=p;if(!(!Q.length||Q[Q.length-1]!==c)){var j="deltaY"in y?dt(y):he(y),R=t.current.filter(function(x){return x.name===y.type&&x.target===y.target&&Nr(x.delta,j)})[0];if(R&&R.should){y.preventDefault();return}if(!R){var E=(i.current.shards||[]).map(ft).filter(Boolean).filter(function(x){return x.contains(y.target)}),C=E.length>0?l(y,E[0]):!i.current.noIsolation;C&&y.preventDefault()}}},[]),u=r.useCallback(function(p,y,j,R){var E={name:p,delta:y,target:j,should:R};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(C){return C!==E})},1)},[]),h=r.useCallback(function(p){n.current=he(p),o.current=void 0},[]),m=r.useCallback(function(p){u(p.type,dt(p),p.target,l(p,e.lockRef.current))},[]),b=r.useCallback(function(p){u(p.type,he(p),p.target,l(p,e.lockRef.current))},[]);r.useEffect(function(){return Q.push(c),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Z),document.addEventListener("touchmove",f,Z),document.addEventListener("touchstart",h,Z),function(){Q=Q.filter(function(p){return p!==c}),document.removeEventListener("wheel",f,Z),document.removeEventListener("touchmove",f,Z),document.removeEventListener("touchstart",h,Z)}},[]);var v=e.removeScrollBar,S=e.inert;return r.createElement(r.Fragment,null,S?r.createElement(c,{styles:Rr(s)}):null,v?r.createElement(mn,{gapMode:"margin"}):null)}const Or=pn(Pt,Pr);var Lt=r.forwardRef(function(e,t){return r.createElement(xe,J({},e,{ref:t,sideCar:Or}))});Lt.classNames=xe.classNames;const Tr=Lt,kt="Dialog",[It,yo]=qn(kt),[Lr,Y]=It(kt),kr=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:s,onOpenChange:c,modal:i=!0}=e,l=r.useRef(null),f=r.useRef(null),[u=!1,h]=zn({prop:o,defaultProp:s,onChange:c});return r.createElement(Lr,{scope:t,triggerRef:l,contentRef:f,contentId:Oe(),titleId:Oe(),descriptionId:Oe(),open:u,onOpenChange:h,onOpenToggle:r.useCallback(()=>h(m=>!m),[h]),modal:i},n)},Ft="DialogPortal",[Ir,Mt]=It(Ft,{forceMount:void 0}),Fr=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:s}=e,c=Y(Ft,t);return r.createElement(Ir,{scope:t,forceMount:n},r.Children.map(o,i=>r.createElement(be,{present:n||c.open},r.createElement(gr,{asChild:!0,container:s},i))))},Be="DialogOverlay",Mr=r.forwardRef((e,t)=>{const n=Mt(Be,e.__scopeDialog),{forceMount:o=n.forceMount,...s}=e,c=Y(Be,e.__scopeDialog);return c.modal?r.createElement(be,{present:o||c.open},r.createElement(_r,k({},s,{ref:t}))):null}),_r=r.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=Y(Be,n);return r.createElement(Tr,{as:We,allowPinchZoom:!0,shards:[s.contentRef]},r.createElement(ge.div,k({"data-state":Dt(s.open)},o,{ref:t,style:{pointerEvents:"auto",...o.style}})))}),ie="DialogContent",Dr=r.forwardRef((e,t)=>{const n=Mt(ie,e.__scopeDialog),{forceMount:o=n.forceMount,...s}=e,c=Y(ie,e.__scopeDialog);return r.createElement(be,{present:o||c.open},c.modal?r.createElement(Ur,k({},s,{ref:t})):r.createElement(Gr,k({},s,{ref:t})))}),Ur=r.forwardRef((e,t)=>{const n=Y(ie,e.__scopeDialog),o=r.useRef(null),s=ue(t,n.contentRef,o);return r.useEffect(()=>{const c=o.current;if(c)return hn(c)},[]),r.createElement(_t,k({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,c=>{var i;c.preventDefault(),(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&c.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,c=>c.preventDefault())}))}),Gr=r.forwardRef((e,t)=>{const n=Y(ie,e.__scopeDialog),o=r.useRef(!1);return r.createElement(_t,k({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c;if((c=e.onCloseAutoFocus)===null||c===void 0||c.call(e,s),!s.defaultPrevented){var i;o.current||(i=n.triggerRef.current)===null||i===void 0||i.focus(),s.preventDefault()}o.current=!1},onInteractOutside:s=>{var c,i;(c=e.onInteractOutside)===null||c===void 0||c.call(e,s),s.defaultPrevented||(o.current=!0);const l=s.target;((i=n.triggerRef.current)===null||i===void 0?void 0:i.contains(l))&&s.preventDefault()}}))}),_t=r.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:c,...i}=e,l=Y(ie,n),f=r.useRef(null),u=ue(t,f);return $r(),r.createElement(r.Fragment,null,r.createElement(ur,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:c},r.createElement(cr,k({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Dt(l.open)},i,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function Dt(e){return e?"open":"closed"}const Br=kr,Vr=Fr,Kr=Mr,Wr=Dr;var qr='[cmdk-list-sizer=""]',se='[cmdk-group=""]',Fe='[cmdk-group-items=""]',Hr='[cmdk-group-heading=""]',qe='[cmdk-item=""]',mt=`${qe}:not([aria-disabled="true"])`,Ve="cmdk-item-select",M="data-value",Xr=(e,t)=>Kn(e,t),Ut=r.createContext(void 0),de=()=>r.useContext(Ut),Gt=r.createContext(void 0),He=()=>r.useContext(Gt),Bt=r.createContext(void 0),Vt=r.forwardRef((e,t)=>{let n=r.useRef(null),o=ee(()=>{var d,$,w;return{search:"",value:(w=($=e.value)!=null?$:(d=e.defaultValue)==null?void 0:d.toLowerCase())!=null?w:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=ee(()=>new Set),c=ee(()=>new Map),i=ee(()=>new Map),l=ee(()=>new Set),f=Kt(e),{label:u,children:h,value:m,onValueChange:b,filter:v,shouldFilter:S,vimBindings:p=!0,...y}=e,j=r.useId(),R=r.useId(),E=r.useId(),C=ao();re(()=>{if(m!==void 0){let d=m.trim().toLowerCase();o.current.value=d,C(6,Xe),x.emit()}},[m]);let x=r.useMemo(()=>({subscribe:d=>(l.current.add(d),()=>l.current.delete(d)),snapshot:()=>o.current,setState:(d,$,w)=>{var g,P,L;if(!Object.is(o.current[d],$)){if(o.current[d]=$,d==="search")$e(),I(),C(1,F);else if(d==="value")if(((g=f.current)==null?void 0:g.value)!==void 0){let B=$??"";(L=(P=f.current).onValueChange)==null||L.call(P,B);return}else w||C(5,Xe);x.emit()}},emit:()=>{l.current.forEach(d=>d())}}),[]),N=r.useMemo(()=>({value:(d,$)=>{$!==i.current.get(d)&&(i.current.set(d,$),o.current.filtered.items.set(d,T($)),C(2,()=>{I(),x.emit()}))},item:(d,$)=>(s.current.add(d),$&&(c.current.has($)?c.current.get($).add(d):c.current.set($,new Set([d]))),C(3,()=>{$e(),I(),o.current.value||F(),x.emit()}),()=>{i.current.delete(d),s.current.delete(d),o.current.filtered.items.delete(d);let w=oe();C(4,()=>{$e(),(w==null?void 0:w.getAttribute("id"))===d&&F(),x.emit()})}),group:d=>(c.current.has(d)||c.current.set(d,new Set),()=>{i.current.delete(d),c.current.delete(d)}),filter:()=>f.current.shouldFilter,label:u||e["aria-label"],commandRef:n,listId:j,inputId:E,labelId:R}),[]);function T(d){var $,w;let g=(w=($=f.current)==null?void 0:$.filter)!=null?w:Xr;return d?g(d,o.current.search):0}function I(){if(!n.current||!o.current.search||f.current.shouldFilter===!1)return;let d=o.current.filtered.items,$=[];o.current.filtered.groups.forEach(g=>{let P=c.current.get(g),L=0;P.forEach(B=>{let Ce=d.get(B);L=Math.max(Ce,L)}),$.push([g,L])});let w=n.current.querySelector(qr);ae().sort((g,P)=>{var L,B;let Ce=g.getAttribute(M),Qt=P.getAttribute(M);return((L=d.get(Qt))!=null?L:0)-((B=d.get(Ce))!=null?B:0)}).forEach(g=>{let P=g.closest(Fe);P?P.appendChild(g.parentElement===P?g:g.closest(`${Fe} > *`)):w.appendChild(g.parentElement===w?g:g.closest(`${Fe} > *`))}),$.sort((g,P)=>P[1]-g[1]).forEach(g=>{let P=n.current.querySelector(`${se}[${M}="${g[0]}"]`);P==null||P.parentElement.appendChild(P)})}function F(){let d=ae().find(w=>!w.ariaDisabled),$=d==null?void 0:d.getAttribute(M);x.setState("value",$||void 0)}function $e(){if(!o.current.search||f.current.shouldFilter===!1){o.current.filtered.count=s.current.size;return}o.current.filtered.groups=new Set;let d=0;for(let $ of s.current){let w=i.current.get($),g=T(w);o.current.filtered.items.set($,g),g>0&&d++}for(let[$,w]of c.current)for(let g of w)if(o.current.filtered.items.get(g)>0){o.current.filtered.groups.add($);break}o.current.filtered.count=d}function Xe(){var d,$,w;let g=oe();g&&(((d=g.parentElement)==null?void 0:d.firstChild)===g&&((w=($=g.closest(se))==null?void 0:$.querySelector(Hr))==null||w.scrollIntoView({block:"nearest"})),g.scrollIntoView({block:"nearest"}))}function oe(){var d;return(d=n.current)==null?void 0:d.querySelector(`${qe}[aria-selected="true"]`)}function ae(){return Array.from(n.current.querySelectorAll(mt))}function ye(d){let $=ae()[d];$&&x.setState("value",$.getAttribute(M))}function Ee(d){var $;let w=oe(),g=ae(),P=g.findIndex(B=>B===w),L=g[P+d];($=f.current)!=null&&$.loop&&(L=P+d<0?g[g.length-1]:P+d===g.length?g[0]:g[P+d]),L&&x.setState("value",L.getAttribute(M))}function Ye(d){let $=oe(),w=$==null?void 0:$.closest(se),g;for(;w&&!g;)w=d>0?ro(w,se):oo(w,se),g=w==null?void 0:w.querySelector(mt);g?x.setState("value",g.getAttribute(M)):Ee(d)}let ze=()=>ye(ae().length-1),Ze=d=>{d.preventDefault(),d.metaKey?ze():d.altKey?Ye(1):Ee(1)},Qe=d=>{d.preventDefault(),d.metaKey?ye(0):d.altKey?Ye(-1):Ee(-1)};return r.createElement("div",{ref:fe([n,t]),...y,"cmdk-root":"",onKeyDown:d=>{var $;if(($=y.onKeyDown)==null||$.call(y,d),!d.defaultPrevented)switch(d.key){case"n":case"j":{p&&d.ctrlKey&&Ze(d);break}case"ArrowDown":{Ze(d);break}case"p":case"k":{p&&d.ctrlKey&&Qe(d);break}case"ArrowUp":{Qe(d);break}case"Home":{d.preventDefault(),ye(0);break}case"End":{d.preventDefault(),ze();break}case"Enter":if(!d.nativeEvent.isComposing){d.preventDefault();let w=oe();if(w){let g=new Event(Ve);w.dispatchEvent(g)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:N.inputId,id:N.labelId,style:so},u),r.createElement(Gt.Provider,{value:x},r.createElement(Ut.Provider,{value:N},h)))}),Yr=r.forwardRef((e,t)=>{var n,o;let s=r.useId(),c=r.useRef(null),i=r.useContext(Bt),l=de(),f=Kt(e),u=(o=(n=f.current)==null?void 0:n.forceMount)!=null?o:i==null?void 0:i.forceMount;re(()=>l.item(s,i==null?void 0:i.id),[]);let h=Wt(s,c,[e.value,e.children,c]),m=He(),b=X(x=>x.value&&x.value===h.current),v=X(x=>u||l.filter()===!1?!0:x.search?x.filtered.items.get(s)>0:!0);r.useEffect(()=>{let x=c.current;if(!(!x||e.disabled))return x.addEventListener(Ve,S),()=>x.removeEventListener(Ve,S)},[v,e.onSelect,e.disabled]);function S(){var x,N;p(),(N=(x=f.current).onSelect)==null||N.call(x,h.current)}function p(){m.setState("value",h.current,!0)}if(!v)return null;let{disabled:y,value:j,onSelect:R,forceMount:E,...C}=e;return r.createElement("div",{ref:fe([c,t]),...C,id:s,"cmdk-item":"",role:"option","aria-disabled":y||void 0,"aria-selected":b||void 0,"data-disabled":y||void 0,"data-selected":b||void 0,onPointerMove:y?void 0:p,onClick:y?void 0:S},e.children)}),zr=r.forwardRef((e,t)=>{let{heading:n,children:o,forceMount:s,...c}=e,i=r.useId(),l=r.useRef(null),f=r.useRef(null),u=r.useId(),h=de(),m=X(S=>s||h.filter()===!1?!0:S.search?S.filtered.groups.has(i):!0);re(()=>h.group(i),[]),Wt(i,l,[e.value,e.heading,f]);let b=r.useMemo(()=>({id:i,forceMount:s}),[s]),v=r.createElement(Bt.Provider,{value:b},o);return r.createElement("div",{ref:fe([l,t]),...c,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&r.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},v))}),Zr=r.forwardRef((e,t)=>{let{alwaysRender:n,...o}=e,s=r.useRef(null),c=X(i=>!i.search);return!n&&!c?null:r.createElement("div",{ref:fe([s,t]),...o,"cmdk-separator":"",role:"separator"})}),Qr=r.forwardRef((e,t)=>{let{onValueChange:n,...o}=e,s=e.value!=null,c=He(),i=X(h=>h.search),l=X(h=>h.value),f=de(),u=r.useMemo(()=>{var h;let m=(h=f.commandRef.current)==null?void 0:h.querySelector(`${qe}[${M}="${l}"]`);return m==null?void 0:m.getAttribute("id")},[l,f.commandRef]);return r.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),r.createElement("input",{ref:t,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":u,id:f.inputId,type:"text",value:s?e.value:i,onChange:h=>{s||c.setState("search",h.target.value),n==null||n(h.target.value)}})}),Jr=r.forwardRef((e,t)=>{let{children:n,...o}=e,s=r.useRef(null),c=r.useRef(null),i=de();return r.useEffect(()=>{if(c.current&&s.current){let l=c.current,f=s.current,u,h=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let m=l.offsetHeight;f.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(l),()=>{cancelAnimationFrame(u),h.unobserve(l)}}},[]),r.createElement("div",{ref:fe([s,t]),...o,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:i.listId,"aria-labelledby":i.inputId},r.createElement("div",{ref:c,"cmdk-list-sizer":""},n))}),eo=r.forwardRef((e,t)=>{let{open:n,onOpenChange:o,overlayClassName:s,contentClassName:c,container:i,...l}=e;return r.createElement(Br,{open:n,onOpenChange:o},r.createElement(Vr,{container:i},r.createElement(Kr,{"cmdk-overlay":"",className:s}),r.createElement(Wr,{"aria-label":e.label,"cmdk-dialog":"",className:c},r.createElement(Vt,{ref:t,...l}))))}),to=r.forwardRef((e,t)=>{let n=r.useRef(!0),o=X(s=>s.filtered.count===0);return r.useEffect(()=>{n.current=!1},[]),n.current||!o?null:r.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),no=r.forwardRef((e,t)=>{let{progress:n,children:o,...s}=e;return r.createElement("div",{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},r.createElement("div",{"aria-hidden":!0},o))}),O=Object.assign(Vt,{List:Jr,Item:Yr,Input:Qr,Group:zr,Separator:Zr,Dialog:eo,Empty:to,Loading:no});function ro(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function oo(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Kt(e){let t=r.useRef(e);return re(()=>{t.current=e}),t}var re=typeof window>"u"?r.useEffect:r.useLayoutEffect;function ee(e){let t=r.useRef();return t.current===void 0&&(t.current=e()),t}function fe(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function X(e){let t=He(),n=()=>e(t.snapshot());return r.useSyncExternalStore(t.subscribe,n,n)}function Wt(e,t,n){let o=r.useRef(),s=de();return re(()=>{var c;let i=(()=>{var l;for(let f of n){if(typeof f=="string")return f.trim().toLowerCase();if(typeof f=="object"&&"current"in f)return f.current?(l=f.current.textContent)==null?void 0:l.trim().toLowerCase():o.current}})();s.value(e,i),(c=t.current)==null||c.setAttribute(M,i),o.current=i}),o}var ao=()=>{let[e,t]=r.useState(),n=ee(()=>new Map);return re(()=>{n.current.forEach(o=>o()),n.current=new Map},[e]),(o,s)=>{n.current.set(o,s),t({})}},so={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const qt=r.forwardRef(({className:e,...t},n)=>a.jsx(O,{ref:n,className:K("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));qt.displayName=O.displayName;const Ht=r.forwardRef(({className:e,...t},n)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(On,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(O.Input,{ref:n,className:K("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Ht.displayName=O.Input.displayName;const Xt=r.forwardRef(({className:e,...t},n)=>a.jsx(O.List,{ref:n,className:K("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Xt.displayName=O.List.displayName;const Yt=r.forwardRef((e,t)=>a.jsx(O.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Yt.displayName=O.Empty.displayName;const zt=r.forwardRef(({className:e,...t},n)=>a.jsx(O.Group,{ref:n,className:K("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));zt.displayName=O.Group.displayName;const co=r.forwardRef(({className:e,...t},n)=>a.jsx(O.Separator,{ref:n,className:K("-mx-1 h-px bg-border",e),...t}));co.displayName=O.Separator.displayName;const Zt=r.forwardRef(({className:e,...t},n)=>a.jsx(O.Item,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));Zt.displayName=O.Item.displayName;function lo({modalClose:e,rowData:t}){const[n,o]=Ke.useState(!1),[s,{isLoading:c}]=kn(),{data:i,isLoading:l}=jt(),f=(i==null?void 0:i.data)||[],u=xt({resolver:$t($n),defaultValues:{parent_id:(t==null?void 0:t.id)||0}});async function h(m){try{await s(m),Et.success("Add ledger group successfully"),e()}catch(b){console.log(b)}}return a.jsx(a.Fragment,{children:c?a.jsx("div",{className:"h-56",children:a.jsx(te,{})}):a.jsx(yt,{...u,children:a.jsxs("form",{onSubmit:u.handleSubmit(h),className:"w-full space-y-3",children:[(t==null?void 0:t.id)&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Parent:"})," ",t==null?void 0:t.name]}),!(t!=null&&t.id)&&a.jsxs(a.Fragment,{children:[a.jsx(_,{control:u.control,name:"parent_id",render:({field:m})=>{var b;return a.jsxs(D,{children:[a.jsx(U,{children:"Parent Group"}),a.jsxs(vn,{open:n,onOpenChange:o,modal:!0,children:[a.jsx(gn,{asChild:!0,children:a.jsx(G,{children:a.jsxs(le,{variant:"outline",role:"combobox",className:K("w-full justify-between",!m.value&&"text-muted-foreground"),children:[m.value?(b=f.find(v=>v.id===Number(m.value)))==null?void 0:b.name:"Select Parent",a.jsx(Pn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),a.jsx(bn,{className:"w-[460px] p-0",children:a.jsxs(qt,{children:[a.jsx(Ht,{placeholder:"Search parent group..."}),a.jsxs(Xt,{children:[a.jsx(Yt,{children:"No parent group found."}),a.jsx(zt,{children:l?a.jsx(te,{}):f.map(v=>a.jsxs(Zt,{onSelect:()=>{m.onChange(String(v.id)),o(!1)},children:[a.jsx(xn,{className:K("mr-2 h-4 w-4",Number(m.value)===v.id?"opacity-100":"opacity-0")}),v.name]},v.id))})]})]})})]}),a.jsx(V,{})]})}}),a.jsx(_,{control:u.control,name:"name",render:({field:m})=>a.jsxs(D,{children:[a.jsx(U,{children:"Account Name"}),a.jsx(G,{children:a.jsx(ve,{placeholder:"Enter name",...m})}),a.jsx(V,{})]})}),a.jsx(_,{control:u.control,name:"code",render:({field:m})=>a.jsxs(D,{children:[a.jsx(U,{children:"Code"}),a.jsx(G,{children:a.jsx(ve,{placeholder:"Enter code",...m,value:m.value||""})}),a.jsx(V,{})]})})]}),a.jsx("div",{children:a.jsx(le,{variant:"default",type:"submit",className:"w-full mt-4",children:"Add Group"})})]})})})}const io=ht.injectEndpoints({endpoints:e=>({getEnum:e.query({query:()=>"catalogs/enum",providesTags:["catalogs/enum"]})}),overrideExisting:!1}),{useGetEnumQuery:uo}=io;function fo({modalClose:e,rowData:t,coaType:n}){var j,R;const[o,{isLoading:s}]=yn(),[c,i]=Ke.useState(0),{data:l,isLoading:f}=jt(),{data:u,isLoading:h}=uo(),m=(u==null?void 0:u.account_nature)||[],b=(l==null?void 0:l.data)||[],v=xt({resolver:$t(En),defaultValues:{name:(t==null?void 0:t.name)||"",parent_id:(t==null?void 0:t.id)||0,is_sub_type:0,nature:(t==null?void 0:t.nature)||""}});console.log(b);const S=v.watch("parent_id"),p=b==null?void 0:b.filter(E=>(E==null?void 0:E.id)==S);console.log((j=p[0])==null?void 0:j.type);async function y(E){try{await o(E),Et.success("Add ledger account successfully"),e()}catch(C){console.log(C)}}return a.jsx(a.Fragment,{children:s?a.jsx("div",{className:"h-56",children:a.jsx(te,{})}):a.jsx(yt,{...v,children:a.jsxs("form",{onSubmit:v.handleSubmit(y),className:"w-full space-y-3",children:[(t==null?void 0:t.id)&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Parent:"})," ",t==null?void 0:t.name]}),!(t!=null&&t.id)&&a.jsxs(a.Fragment,{children:[a.jsx(_,{control:v.control,name:"parent_id",render:({field:E})=>a.jsxs(D,{children:[a.jsx(U,{children:"Parent Group"}),a.jsxs(je,{onValueChange:E.onChange,children:[a.jsx(G,{children:a.jsx(we,{children:a.jsx(Se,{placeholder:"Select Parent"})})}),a.jsx(Ne,{children:f?a.jsx(te,{}):b==null?void 0:b.map(C=>a.jsx(W,{value:String(C.id),children:C.name},C.id))})]}),a.jsx(V,{})]})}),a.jsx(_,{control:v.control,name:"name",render:({field:E})=>a.jsxs(D,{children:[a.jsx(U,{children:"Account Name"}),a.jsx(G,{children:a.jsx(ve,{placeholder:"Enter ledger account name",...E})}),a.jsx(V,{})]})}),a.jsx(_,{control:v.control,name:"code",render:({field:E})=>a.jsxs(D,{children:[a.jsx(U,{children:"Code"}),a.jsx(G,{children:a.jsx(ve,{placeholder:"Enter code",...E,value:E.value||""})}),a.jsx(V,{})]})})]}),n==="Assets"||((R=p[0])==null?void 0:R.type)==="Assets"?a.jsx(_,{control:v.control,name:"nature",render:({field:E})=>a.jsxs(D,{children:[a.jsx(U,{children:"Default Account Type"}),a.jsxs(je,{onValueChange:E.onChange,children:[a.jsx(G,{children:a.jsx(we,{children:a.jsx(Se,{placeholder:"Select Parent"})})}),a.jsx(Ne,{children:h?a.jsx(te,{}):m.map((C,x)=>a.jsx(W,{value:C.toString(),children:C.toString()},x))})]}),a.jsx(V,{})]})}):null,a.jsx(_,{control:v.control,name:"is_sub_type",render:({field:E})=>a.jsxs(D,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[a.jsx("div",{className:"space-y-0.5",children:a.jsx(U,{children:"Is Sub Type"})}),a.jsx(G,{children:a.jsx(An,{checked:E.value===1,onCheckedChange:C=>{E.onChange(C?1:0),i(C?1:0)}})})]})}),c===1&&a.jsx(_,{control:v.control,name:"sub_type",render:({field:E})=>a.jsxs(D,{children:[a.jsx(U,{children:"Sub Type"}),a.jsxs(je,{onValueChange:E.onChange,defaultValue:"None",children:[a.jsx(G,{children:a.jsx(we,{children:a.jsx(Se,{placeholder:""})})}),a.jsxs(Ne,{children:[a.jsx(W,{value:"None",children:"None"}),a.jsx(W,{value:"Employee",children:"Employee"}),a.jsx(W,{value:"Customer",children:"Customer"}),a.jsx(W,{value:"Supplier",children:"Supplier"}),a.jsx(W,{value:"Agent",children:"Agent"})]})]}),a.jsx(V,{})]})}),a.jsx("div",{children:a.jsx(le,{variant:"default",type:"submit",className:"w-full mt-4",children:"Add Account"})})]})})})}const Eo=()=>{const{data:e,isLoading:t}=Ln(),[n,o]=r.useState(!1),[s,c]=r.useState(!1),i=(e==null?void 0:e.data)||[];return t?a.jsx(te,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Cn,{title:"Chart Of Account",description:"Manage Chart of account for you business"}),a.jsxs("div",{className:"flex space-x-2 items-center",children:[a.jsxs(le,{onClick:()=>o(!0),size:"sm",children:[a.jsx(Je,{className:"mr-2 h-4 w-4"})," Add Group"]}),a.jsxs(le,{onClick:()=>c(!0),size:"sm",children:[a.jsx(Je,{className:"mr-2 h-4 w-4"})," Add Account"]})]})]}),a.jsx(jn,{}),a.jsxs(wn,{defaultValue:Re[0].type,className:"w-full mt-3",children:[a.jsx(Sn,{className:"w-fit",children:Re.map(l=>a.jsx(Nn,{value:l.type,children:l.title},l.type))}),Re.map(l=>a.jsx(Rn,{value:l.type,children:a.jsx(In,{title:l.title,coaType:l.type,description:l.description,data:i})},l.type))]}),n&&a.jsx(et,{title:"Add Group",isOpen:n,toggleModal:()=>o(!1),children:a.jsx(lo,{modalClose:()=>o(!1)})}),s&&a.jsx(et,{title:"Add Account",isOpen:s,toggleModal:()=>c(!1),children:a.jsx(fo,{modalClose:()=>c(!1)})})]})};export{Eo as default};
