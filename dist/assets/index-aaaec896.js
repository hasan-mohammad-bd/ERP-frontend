import{c as d,a as e,U as c,V as o,W as _,X as x,bc as T,aX as R,aY as I,aZ as b,a_ as i,a$ as A,b0 as n,aG as B,bC as z,a0 as E,bD as H,R as y,D as k,bE as V,K,Q as F,bF as G,C as P}from"./index-1c1a7b38.js";import{C as D,A as X,a as w,b as L,c as S,d as C,u as $}from"./index-cb0aadc0.js";import{X as M,B as Q,a as O,L as U}from"./BarChart-0c28636f.js";import{C as W}from"./circle-dollar-sign-93a7aca6.js";import"./index-e8e5dbb3.js";/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=d("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=d("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=d("ReceiptText",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]]),J={desktop:{label:"income",color:"hsl(var(--chart-1))"},mobile:{label:"expense",color:"hsl(var(--chart-2))"}};function ee({chartData:a}){var l,t;return e.jsxs(c,{children:[e.jsx(o,{children:e.jsx(_,{className:"text-md font-normal",children:"Income vs Expense"})}),e.jsx(x,{children:e.jsx(D,{config:J,children:e.jsxs(X,{accessibilityLayer:!0,data:a,margin:{top:20,left:12,right:12},children:[e.jsx(w,{vertical:!1}),e.jsx(M,{dataKey:"full_name",tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:r=>r.slice(0,3)}),e.jsx(L,{cursor:!1,content:e.jsx(S,{indicator:"dot"})}),e.jsx(C,{dataKey:"expense",type:"natural",fill:"var(--color-mobile)",fillOpacity:.4,stroke:"var(--color-mobile)",stackId:"a"}),e.jsx(C,{dataKey:"income",type:"natural",fill:"var(--color-desktop)",fillOpacity:.4,stroke:"var(--color-desktop)",stackId:"a"})]})})}),e.jsx(T,{children:e.jsx("div",{className:"flex w-full items-start gap-2 text-sm",children:e.jsx("div",{className:"grid gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 leading-none text-muted-foreground",children:[(l=a[0])==null?void 0:l.full_name," - ",(t=a[a.length-1])==null?void 0:t.full_name]})})})})]})}const se=({tableData:a})=>e.jsx("div",{children:e.jsxs(R,{children:[e.jsx(I,{children:e.jsxs(b,{children:[e.jsx(i,{children:"Date"}),e.jsx(i,{children:"Account Code"}),e.jsx(i,{children:"Amount"})]})}),e.jsx(A,{children:a.slice(0,10).map(l=>{var t;return e.jsxs(b,{children:[e.jsx(n,{children:l.date}),e.jsx(n,{children:l.entry_number}),e.jsx(n,{children:(t=l.total)==null?void 0:t.toLocaleString("en-IN")})]},l.id)})})]})}),ae=()=>{const a=B(),{data:l,isLoading:t}=z("per_page=1000&page=1"),r=(l==null?void 0:l.data)||[];return t?e.jsx(E,{}):e.jsx(e.Fragment,{children:e.jsxs(c,{className:"p-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-md ml-0 px-2",children:"Recent Transaction"})," ",e.jsxs("div",{className:"flex items-center  cursor-pointer",children:[e.jsx("h2",{onClick:()=>a("/accounts/reports/transaction"),children:"View All "})," ",e.jsx(H,{size:16})]})]}),r&&e.jsx("div",{children:e.jsx(se,{tableData:r})})]})})},le={desktop:{label:"Desktop",color:"hsl(var(--chart-1))"}};function te({chartData:a}){var l,t;return e.jsxs(c,{children:[e.jsx(o,{}),e.jsx(x,{children:e.jsx(D,{config:le,children:e.jsxs(Q,{accessibilityLayer:!0,data:a,margin:{top:20,right:12,bottom:20,left:12},children:[e.jsx(w,{vertical:!1}),e.jsx(M,{dataKey:"full_name",tickLine:!1,tickMargin:10,axisLine:!1,tickFormatter:r=>r.slice(0,3)}),e.jsx(L,{cursor:!1,content:e.jsx(S,{hideLabel:!0})}),e.jsx(O,{dataKey:"sales",fill:"var(--color-desktop)",radius:8,children:e.jsx(U,{position:"top",offset:12,className:"fill-foreground",fontSize:12})})]})})}),e.jsx(T,{className:"flex-col items-start gap-2 text-sm",children:e.jsxs("div",{className:"flex gap-2 font-medium leading-none",children:[(l=a[0])==null?void 0:l.full_name," - ",(t=a[a.length-1])==null?void 0:t.full_name]})})]})}const oe=()=>{var f,p,g,u,N,v;const[a,l]=y.useState(new Date),[t,r]=y.useState(new Date),m=k(a||new Date,"yyyy-MM-dd"),h=k(t||new Date,"yyyy-MM-dd"),{data:s}=$(`start_date=${m||""}&end_date=${h||""}`),j=(s==null?void 0:s.data)||[];return e.jsx("div",{className:"flex h-full flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[e.jsx("h2",{className:"text-xl tracking-tight",children:"Accounts Dashboard"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(V,{setStartDate:l,setEndDate:r})})]}),e.jsx(K,{defaultValue:"overview",className:"space-y-4",children:e.jsx(F,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[e.jsxs("div",{className:"col-span-3",children:[e.jsxs("div",{className:"",children:[e.jsxs(c,{className:"p-3",children:[e.jsx("div",{className:"flex justify-between mb-2",children:e.jsx("h3",{className:"text-md ",children:"Growth Pluses"})}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-blue-200",children:e.jsx(W,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[((f=s==null?void 0:s.growth)==null?void 0:f.income.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Total Income"})]}),e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-red-200",children:e.jsx(Y,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[" ",((p=s==null?void 0:s.growth)==null?void 0:p.expence.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Total Expense"})]}),e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-green-200",children:e.jsx(q,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[" ",((g=s==null?void 0:s.growth)==null?void 0:g.net_profit.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Net Profit"})]})]})]}),e.jsxs(c,{className:"p-3 mt-3",children:[e.jsx("div",{className:"flex justify-between mb-2",children:e.jsx("h3",{children:"Revenue Projection"})}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-green-200",children:e.jsx(G,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[((u=s==null?void 0:s.revenue)==null?void 0:u.accounts_receivable.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Total Receivable"})]}),e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-red-200",children:e.jsx(P,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[" ",((N=s==null?void 0:s.revenue)==null?void 0:N.accounts_payable.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Total Payable"})]}),e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-blue-200",children:e.jsx(Z,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[" ",((v=s==null?void 0:s.revenue)==null?void 0:v.difference.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Difference"})]})]})]})]}),e.jsxs(c,{className:"mt-3",children:[e.jsx(o,{children:e.jsx("h2",{className:"text-md ",children:"Sales per month"})}),e.jsx(x,{className:"pl-2",children:e.jsx(te,{chartData:j})})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"",children:e.jsx(ee,{chartData:j})}),e.jsx("div",{className:"mt-3",children:e.jsx(ae,{})})]})]})})})]})})};export{oe as default};
