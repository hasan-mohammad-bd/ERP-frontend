import{a as e,V as A,Y as M,Z as i,_ as d,$ as h,a0 as x,I as j,a1 as u,B as r,r as m,a5 as g,a6 as f,a7 as y,a8 as F,a9 as b,aa as I,ab as O,ac as N,a3 as T,ad as S,R as D,X as P,ae as R,t as B,af as J,ag as z}from"./index-c4e28577.js";import{u as E,a as L}from"./index-a3d4b890.js";import{S as U}from"./switch-e3272d9e.js";import{Z as K}from"./zoom-in-d624cdec.js";const H=({data:a})=>e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("p",{className:"font-semibold",children:"Status:"}),e.jsx("div",{children:a.policy_name})]})});function _({modalClose:a,data:t}){const l=A({defaultValues:{policy_name:"",in_time:"",working_hours:"",delay_buffer:"",ex_delay_buffer:"",break_time:"",effect_from:""}});async function n(s){console.log("Form Submitted:",s),a()}return e.jsx(e.Fragment,{children:e.jsx(M,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(n),className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-1",children:[e.jsx(i,{control:l.control,name:"salary_breakup_name",render:({field:s})=>e.jsxs(d,{children:[e.jsx(h,{children:"Salary Breakup Name"}),e.jsx(x,{children:e.jsx(j,{className:"",placeholder:"Enter Salary Breakup Name",...s})}),e.jsx(u,{})]})}),e.jsx(i,{control:l.control,name:"short_code",render:({field:s})=>e.jsxs(d,{children:[e.jsx(h,{children:"Short Code"}),e.jsx(x,{children:e.jsx(j,{className:"",placeholder:"Enter Short Code",...s})}),e.jsx(u,{})]})})]}),e.jsx(i,{control:l.control,name:"allowance_deduction",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm h-10",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(h,{children:"Allowance Deduction"})}),e.jsx(x,{children:e.jsx(U,{className:"!mt-0 ",checked:s.value===!0,onCheckedChange:o=>s.onChange(!!o)})})]})}),e.jsx(i,{control:l.control,name:"short_code",render:({field:s})=>e.jsxs(d,{children:[e.jsx(h,{children:"Note"}),e.jsx(x,{children:e.jsx(j,{className:"",placeholder:"Enter Note",...s})}),e.jsx(u,{})]})}),e.jsx("div",{className:"text-right",children:e.jsx(r,{variant:"default",type:"submit",className:"w-fit mt-4",children:t?"Update":"Add"})})]})})})}function Z({data:a}){const[t,l]=m.useState(!1),[n,s]=m.useState(!1),[o,c]=m.useState(!1),[p,{isLoading:C}]=E(),k=async v=>{try{await p(v),T.success("Job deleted successfully"),l(!1)}catch(w){console.log(w)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>s(!0),children:e.jsx(F,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Update Job Post"})})]})}),e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{c(!0)},children:e.jsx(K,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{l(!0)},children:e.jsx(I,{className:"h-4 w-4 text-foreground"})})}),e.jsx(b,{children:e.jsx("p",{children:"Delete Requisition"})})]})}),e.jsx(O,{title:"Are you sure?",description:"This action cannot be undone.",name:a.policy_name,isOpen:t,onClose:()=>l(!1),onConfirm:()=>k(a.id),loading:C}),n&&e.jsx(N,{title:"Update Job",isOpen:n,toggleModal:()=>s(!1),className:"w-[90%] max-w-6xl",children:e.jsx(_,{data:a,modalClose:()=>s(!1)})}),o&&e.jsx(N,{title:"Job Details",isOpen:o,toggleModal:()=>c(!1),className:"w-[90%] max-w-6xl",children:e.jsx(H,{data:a})})]})}const $=[{id:"select",header:({table:a})=>e.jsx(S,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>a.toggleAllPageRowsSelected(!!t),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:a})=>e.jsx(S,{checked:a.getIsSelected(),onCheckedChange:t=>a.toggleSelected(!!t),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"salary_break_up_name",header:"Salary Breakup Name"},{accessorKey:"short_code",header:"Short code"},{accessorKey:"type",header:"Type"},{accessorKey:"note",header:"Note"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:a})=>e.jsx(Z,{data:a.original})}],q=[{salary_break_up_name:"Health",id:1,short_code:"M",type:"monthly",note:"This is monthly salary"},{salary_break_up_name:"Rent",id:2,short_code:"M",type:"monthly",note:"This is monthly salary"}],Y=()=>{const[a,t]=m.useState(!1),[l,n]=D.useState({pageIndex:0,pageSize:10}),{data:s,isLoading:o}=L(`per_page=${l.pageSize}&page=${l.pageIndex+1}`),c=(s==null?void 0:s.data)||[],p=s==null?void 0:s.meta;return o?e.jsx(P,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{title:"Salary Breakup",description:"Manage job apply for you business"}),e.jsxs(r,{onClick:()=>t(!0),size:"sm",children:[e.jsx(B,{className:"mr-2 h-4 w-4"})," Add Salary Breakup"]})]}),e.jsx(J,{}),c&&e.jsx("div",{children:e.jsx(z,{columns:$,data:q,paginationInfo:p,pagination:l,setPagination:n})})]})}),a&&e.jsx(N,{title:"Add Salary Breakup",isOpen:a,toggleModal:()=>t(!1),className:"",children:e.jsx(_,{modalClose:()=>t(!1)})})]})};export{Y as default};
