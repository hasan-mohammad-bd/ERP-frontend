import{c as d,a as e,Y as c,ap as o,aq as A,ar as x,cc as T,cd as R,ce as D,ai as w,cf as L,cg as S,ch as b,bA as M,bd as _,be as B,bf as y,bg as i,bh as I,bi as n,B as z,cB as E,aw as H,cC as V,cD as F,ah as K,ak as P,ck as q,R as k,ad as C,cE as G,al as $,ao as O,cF as Q,C as U}from"./index-cde54449.js";import{C as W}from"./circle-dollar-sign-84a4c932.js";/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=d("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=d("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=d("ReceiptText",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]]),J={desktop:{label:"income",color:"hsl(var(--chart-1))"},mobile:{label:"expense",color:"hsl(var(--chart-2))"}};function ee({chartData:a}){var l,t;return e.jsxs(c,{children:[e.jsx(o,{children:e.jsx(A,{className:"text-md font-normal",children:"Income vs Expense"})}),e.jsx(x,{children:e.jsx(T,{config:J,children:e.jsxs(R,{accessibilityLayer:!0,data:a,margin:{top:20,left:12,right:12},children:[e.jsx(D,{vertical:!1}),e.jsx(w,{dataKey:"full_name",tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:r=>r.slice(0,3)}),e.jsx(L,{cursor:!1,content:e.jsx(S,{indicator:"dot"})}),e.jsx(b,{dataKey:"expense",type:"natural",fill:"var(--color-mobile)",fillOpacity:.4,stroke:"var(--color-mobile)",stackId:"a"}),e.jsx(b,{dataKey:"income",type:"natural",fill:"var(--color-desktop)",fillOpacity:.4,stroke:"var(--color-desktop)",stackId:"a"})]})})}),e.jsx(M,{children:e.jsx("div",{className:"flex w-full items-start gap-2 text-sm",children:e.jsx("div",{className:"grid gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 leading-none text-muted-foreground",children:[(l=a[0])==null?void 0:l.full_name," - ",(t=a[a.length-1])==null?void 0:t.full_name]})})})})]})}const se=({tableData:a})=>e.jsx("div",{children:e.jsxs(_,{children:[e.jsx(B,{children:e.jsxs(y,{children:[e.jsx(i,{children:"Date"}),e.jsx(i,{children:"Account Code"}),e.jsx(i,{children:"Amount"})]})}),e.jsx(I,{children:a.slice(0,10).map(l=>{var t;return e.jsxs(y,{children:[e.jsx(n,{children:l.date}),e.jsx(n,{children:l.entry_number}),e.jsx(n,{children:(t=l.total)==null?void 0:t.toLocaleString("en-IN")})]},l.id)})})]})}),ae=()=>{const a=z(),{data:l,isLoading:t}=E("per_page=1000&page=1"),r=(l==null?void 0:l.data)||[];return t?e.jsx(H,{}):e.jsx(e.Fragment,{children:e.jsxs(c,{className:"p-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-md ml-0 px-2",children:"Recent Transaction"})," ",e.jsxs("div",{className:"flex items-center  cursor-pointer",children:[e.jsx("h2",{onClick:()=>a("/accounts/reports/transaction"),children:"View All "})," ",e.jsx(V,{size:16})]})]}),r&&e.jsx("div",{children:e.jsx(se,{tableData:r})})]})})},le=F.injectEndpoints({endpoints:a=>({getDashboardSummaries:a.query({query:l=>`reports/summery?${l}`,providesTags:["dashboard-summery"]})}),overrideExisting:!1}),{useGetDashboardSummariesQuery:te}=le,ce={desktop:{label:"Desktop",color:"hsl(var(--chart-1))"}};function re({chartData:a}){var l,t;return e.jsxs(c,{children:[e.jsx(o,{}),e.jsx(x,{children:e.jsx(T,{config:ce,children:e.jsxs(K,{accessibilityLayer:!0,data:a,margin:{top:20,right:12,bottom:20,left:12},children:[e.jsx(D,{vertical:!1}),e.jsx(w,{dataKey:"full_name",tickLine:!1,tickMargin:10,axisLine:!1,tickFormatter:r=>r.slice(0,3)}),e.jsx(L,{cursor:!1,content:e.jsx(S,{hideLabel:!0})}),e.jsx(P,{dataKey:"sales",fill:"var(--color-desktop)",radius:8,children:e.jsx(q,{position:"top",offset:12,className:"fill-foreground",fontSize:12})})]})})}),e.jsx(M,{className:"flex-col items-start gap-2 text-sm",children:e.jsxs("div",{className:"flex gap-2 font-medium leading-none",children:[(l=a[0])==null?void 0:l.full_name," - ",(t=a[a.length-1])==null?void 0:t.full_name]})})]})}const de=()=>{var p,f,g,u,N,v;const[a,l]=k.useState(new Date),[t,r]=k.useState(new Date),m=C(a||new Date,"yyyy-MM-dd"),h=C(t||new Date,"yyyy-MM-dd"),{data:s}=te(`start_date=${m||""}&end_date=${h||""}`),j=(s==null?void 0:s.data)||[];return e.jsx("div",{className:"flex h-full flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[e.jsx("h2",{className:"text-xl tracking-tight",children:"Accounts Dashboard"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(G,{setStartDate:l,setEndDate:r})})]}),e.jsx($,{defaultValue:"overview",className:"space-y-4",children:e.jsx(O,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[e.jsxs("div",{className:"col-span-3",children:[e.jsxs("div",{className:"",children:[e.jsxs(c,{className:"p-3",children:[e.jsx("div",{className:"flex justify-between mb-2",children:e.jsx("h3",{className:"text-md ",children:"Growth Pluses"})}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-blue-200",children:e.jsx(W,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[((p=s==null?void 0:s.growth)==null?void 0:p.income.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Total Income"})]}),e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-red-200",children:e.jsx(Z,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[" ",((f=s==null?void 0:s.growth)==null?void 0:f.expence.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Total Expense"})]}),e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-green-200",children:e.jsx(Y,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[" ",((g=s==null?void 0:s.growth)==null?void 0:g.net_profit.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Net Profit"})]})]})]}),e.jsxs(c,{className:"p-3 mt-3",children:[e.jsx("div",{className:"flex justify-between mb-2",children:e.jsx("h3",{children:"Revenue Projection"})}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-green-200",children:e.jsx(Q,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[((u=s==null?void 0:s.revenue)==null?void 0:u.accounts_receivable.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Total Receivable"})]}),e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-red-200",children:e.jsx(U,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[" ",((N=s==null?void 0:s.revenue)==null?void 0:N.accounts_payable.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Total Payable"})]}),e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-md bg-blue-200",children:e.jsx(X,{size:16})}),e.jsxs("div",{className:"ml-3 text-lg font-bold",children:[" ",((v=s==null?void 0:s.revenue)==null?void 0:v.difference.toLocaleString("en-IN"))||0," BDT"]})]}),e.jsx("h2",{className:"mt-2 text-sm",children:"Difference"})]})]})]})]}),e.jsxs(c,{className:"mt-3",children:[e.jsx(o,{children:e.jsx("h2",{className:"text-md ",children:"Sales per month"})}),e.jsx(x,{className:"pl-2",children:e.jsx(re,{chartData:j})})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"",children:e.jsx(ee,{chartData:j})}),e.jsx("div",{className:"mt-3",children:e.jsx(ae,{})})]})]})})})]})})};export{de as default};
