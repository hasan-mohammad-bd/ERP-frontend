import{A as j,a as e,K as D,aM as y,aN as v,aO as t,aP as f,aR as a,aQ as L,R as x,cg as A,ch as R,ci as G,cj as m,Y as E,ck as Q,af as $}from"./index-9af27a89.js";const k=({tableData:r,reportFormate:n,summery:s})=>{const h=n&&n.startDate?j(new Date(n.startDate),"dd-MMM-yyyy"):null,i=n&&n.endDate?j(new Date(n.endDate),"dd-MMM-yyyy"):null;return e.jsxs(D,{className:"p-3 w-full mx-auto ",children:[n?e.jsx("div",{className:"flex-1 space-y-4 my-4",children:e.jsxs("div",{className:" text-center ",children:[e.jsx("h2",{children:n.company}),e.jsx("h3",{className:"text-xl",children:n.reportType}),e.jsxs("p",{className:"text-sm",children:[h," - ",i]})]})}):null,e.jsxs(D,{children:[" ",e.jsxs(y,{className:"",children:[e.jsx(v,{children:e.jsxs(t,{children:[e.jsx(f,{children:"#Account"}),e.jsx(f,{children:"Account Code"}),e.jsx(f,{className:"text-right",children:"Total"})]})}),e.jsxs(t,{children:[e.jsx(a,{children:"Product Sales"}),e.jsx(a,{}),e.jsx(a,{className:"text-right",children:s==null?void 0:s.product_sale.toLocaleString("en-IN")})]}),e.jsxs(t,{children:[e.jsx(a,{children:"COGS"}),e.jsx(a,{}),e.jsx(a,{className:"text-right",children:s==null?void 0:s.cogs.toLocaleString("en-IN")})]}),e.jsxs(t,{className:"bg-gray-100",children:[e.jsx(a,{className:"font-bold",children:"Gross Profit"}),e.jsx(a,{}),e.jsx(a,{className:"text-right font-bold",children:s==null?void 0:s.gros_profit.toLocaleString("en-IN")})]}),r&&r.map(c=>e.jsxs(L,{className:"",children:[e.jsx(t,{className:"",children:e.jsx(a,{className:"font-bold",children:c.name})}),c.childs_group.length>0&&c.childs_group.map(l=>e.jsxs(x.Fragment,{children:[e.jsxs(t,{children:[e.jsx(a,{style:{paddingLeft:"15px"},children:l.name}),e.jsx(a,{children:l.code})]}),l.ledgers.length>0&&l.ledgers.map(d=>e.jsxs(t,{children:[e.jsx(a,{style:{paddingLeft:"30px"},children:d.name}),e.jsx(a,{children:d.code}),e.jsx(a,{className:"text-right",children:d.balance.toLocaleString("en-IN")})]},d.name)),e.jsxs(t,{className:"bg-gray-100 !mb-4",children:[e.jsxs(a,{style:{paddingLeft:"15px"},className:"font-semibold",colSpan:2,children:["Total ",l.name]}),e.jsx(a,{className:"font-bold text-end",children:l.balance.toLocaleString("en-IN")})]}),e.jsx(t,{children:e.jsx(a,{})}),e.jsx(t,{})]},l.name)),e.jsxs(t,{className:"bg-gray-100 !mb-4",children:[e.jsxs(a,{className:"font-bold my-3",colSpan:2,children:["Total ",c.name]}),e.jsx(a,{className:"font-bold text-end",children:c.balance.toLocaleString("en-IN")})]}),e.jsx(t,{children:e.jsx(a,{})})]},c.name)),e.jsxs(t,{className:"",children:[e.jsx(a,{className:"font-bold",children:"Depreciation"}),e.jsx(a,{}),e.jsx(a,{className:"text-right font-bold ",children:s==null?void 0:s.deprecetaion.toLocaleString("en-IN")})]}),e.jsxs(t,{className:"bg-gray-100",children:[e.jsx(a,{className:"font-bold",children:"Profit before tax"}),e.jsx(a,{}),e.jsx(a,{className:"text-right font-bold ",children:s==null?void 0:s.profit_befor_tax.toLocaleString("en-IN")})]}),e.jsxs(t,{className:"",children:[e.jsx(a,{className:"",children:"Tax"}),e.jsx(a,{}),e.jsx(a,{className:"text-right",children:s==null?void 0:s.tax})]}),e.jsxs(t,{className:"bg-gray-100",children:[e.jsx(a,{className:"font-bold",children:"Profit"}),e.jsx(a,{}),e.jsx(a,{className:"text-right font-bold ",children:s==null?void 0:s.profit.toLocaleString("en-IN")})]}),e.jsx(L,{}),e.jsx(A,{})]})]})]})},B=()=>{const[r,n]=x.useState(null),[s,h]=x.useState(null),[i,c]=x.useState(new Date),[l,d]=x.useState(new Date),p=j(i||new Date,"yyyy-MM-dd"),b=j(l||new Date,"yyyy-MM-dd"),{data:o,isLoading:T}=R(`start_date=${p||""}&end_date=${b||""}&ledger_account_id=${s||""}&project_id=${r||""}`),S=o==null?void 0:o.data.slice().reverse(),I=o==null?void 0:o.summery,{data:g,isLoading:_}=G("page=1&per_page=1000"),w=(g==null?void 0:g.data)||[],{data:N,isLoading:M}=m("page=1&per_page=1000"),P=(N==null?void 0:N.data)||[];return T?e.jsx(E,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col mb-3",children:[e.jsx(Q,{setStartDate:c,setEndDate:d,filterProp:{setFiltered:h,setProjectFiltered:n,arrayItems:w,loadingData:_,arrayItemsTwo:P,loadingDataTwo:M}}),e.jsxs("div",{className:"flex-1 space-y-4 w-2/3 mx-auto",children:[e.jsx($,{}),S?e.jsx(k,{tableData:S,summery:I,reportFormate:{startDate:i,endDate:l,company:"Akaar IT",reportType:"Income Statement"}}):null]})]})})};export{B as default};
