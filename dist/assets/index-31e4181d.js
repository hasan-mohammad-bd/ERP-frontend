import{bp as m,a as e,Y as y,bd as b,be as f,bf as p,bg as n,bh as N,bi as r,cl as S,r as x,bm as v,X as u,bW as _,ad as g,aw as T,aL as A,a$ as D,bo as P,cm as w}from"./index-bb5dea0f.js";const C=m.injectEndpoints({endpoints:a=>({getAttendanceSummary:a.query({query:s=>`attendance-summary-report?${s}`,providesTags:["attendance-summary-report"]})}),overrideExisting:!1}),{useGetAttendanceSummaryQuery:M}=C,$=({tableData:a})=>(console.log(a),e.jsxs(y,{children:[" ",e.jsxs(b,{className:"",children:[e.jsx(f,{children:e.jsxs(p,{children:[e.jsx(n,{children:"Employee Id"}),e.jsx(n,{children:"Employee Name"}),e.jsx(n,{children:"Late"}),e.jsx(n,{children:"Extreme Late"}),e.jsx(n,{children:"On Time"}),e.jsx(n,{children:"Working Days"}),e.jsx(n,{children:"Present Days"}),e.jsx(n,{children:"Absent Days"}),e.jsx(n,{children:"Total Days"}),e.jsx(n,{children:"Total Hours"})]})}),e.jsx(N,{className:"",children:a&&a.map(s=>{var c,t;return e.jsxs(p,{className:"",children:[e.jsx(r,{className:"",children:s==null?void 0:s.employee_id}),e.jsx(r,{className:"",children:s==null?void 0:s.employee_name}),e.jsx(r,{children:s.late}),e.jsx(r,{children:s==null?void 0:s.extreme_late}),e.jsx(r,{children:s==null?void 0:s.on_time}),e.jsx(r,{children:s==null?void 0:s.working_days}),e.jsx(r,{children:s==null?void 0:s.present_days}),e.jsx(r,{children:s==null?void 0:s.absent_days}),e.jsx(r,{children:(c=s==null?void 0:s.leaves)==null?void 0:c.total_days}),e.jsx(r,{children:(t=s==null?void 0:s.leaves)==null?void 0:t.total_hours})]},s==null?void 0:s.employee_id)})}),e.jsx(S,{})]})]}));function F({setFilterParams:a}){const[s,c]=x.useState(new Date),t="desc",h=25,i=d=>{c(d)},l=()=>{if(s){const o=`date=${g(s,"yyyy-MM")}&sort_by=${t}&per_page=${h}`;a(o)}},j=()=>{a(""),c(null)};return e.jsx(y,{className:"p-5",children:e.jsxs("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-6 items-start",children:[e.jsxs("div",{className:"space-y-2 flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium",children:"Month and Year *"}),e.jsx(v,{selected:s,onChange:i,dateFormat:"MM/yyyy",showMonthYearPicker:!0,placeholderText:"Select month and year",className:"border rounded p-1.5 w-full bg-none bg_remove"})]}),e.jsxs("div",{className:"pt-7 flex items-center gap-4",children:[e.jsx(u,{variant:"outline",size:"sm",onClick:j,children:"Reset Filters"}),e.jsxs(u,{variant:"default",size:"sm",onClick:l,children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Apply Filters"]})]})]})})}const E=()=>{const[a,s]=x.useState(1),[c,t]=x.useState(10),[h,i]=x.useState(`date=${g(new Date,"yyyy-MM")}`),{data:l,isLoading:j}=M(`per_page=${c}&page=${a}&${h}`),d=(l==null?void 0:l.data)||[],o=l==null?void 0:l.meta;return j?e.jsx(T,{}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(A,{title:"Attendance Summary Report",description:"Manage Attendance Summary Report for you business"})}),e.jsx(D,{}),e.jsx("div",{className:"",children:e.jsx(F,{setFilterParams:i})}),e.jsx("div",{children:e.jsxs(y,{children:[e.jsxs(P,{className:"space-y-4",fileName:"attendance-summary-report",children:[e.jsx("div",{className:"flex-1 space-y-4 my-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{children:"Akaar IT"}),e.jsx("h3",{className:"text-xl",children:"Attendance Summary"})]})}),d?e.jsx($,{tableData:d}):null]}),o&&e.jsx(w,{className:"px-4 pb-4",meta:o,dataCount:d.length,onPageChange:s,onPageSizeChange:t})]})})]})};export{E as default};
