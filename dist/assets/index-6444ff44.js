import{V as X,W as u,ai as De,a as e,Y as N,Z as p,M as ye,N as _e,_ as r,$ as d,a0 as s,a1 as c,I as m,a2 as x,aj as V,ak as I,al as F,am as T,an as M,B as U,a3 as B,r as H,a5 as de,a6 as se,a7 as ce,a8 as Ce,a9 as re,ac as ie,ad as Y,ao as en,ag as Ee,ap as nn,aq as ze,ar as Qe,as as ln,at as Ke,au as qe,av as dn,aw as sn,ax as cn,ay as rn,az as xn,F as tn,G as hn,H as D,J as ee,K as ne,Q as le,a4 as on,aA as Je,aB as jn,aa as mn,ab as $e,aC as gn,y as yn,z as _n,A as ke,aD as an,D as fn,E as Sn,R as Nn,aE as bn,ae as Cn,t as En,af as wn}from"./index-ed251f1a.js";import{u as An,a as Ln,b as He,c as We,d as Pn,e as Mn,f as Vn,g as In,h as Fn,i as Tn,j as Gn,k as On}from"./index-4b0c9d75.js";import{u as Ze}from"./index-6a1d7e85.js";import{u as Rn}from"./index-1736b9ec.js";import{c as Un}from"./index-2bdfbb97.js";import{c as kn}from"./index-c4f1d4ae.js";import{u as Bn}from"./index-eff06ebf.js";import{u as zn}from"./index-cb87ee63.js";import{u as Qn}from"./index-e4d4c1df.js";import{u as Kn}from"./index-dbe5a18c.js";import{S as qn}from"./switch-53df4de5.js";import{R as Ue,a as xe}from"./radio-group-1a90a4a7.js";import{u as Jn}from"./index-ccce6972.js";import{C as $n}from"./circle-dollar-sign-226bf536.js";import{Z as Hn}from"./zoom-in-542a8afa.js";import{u as Wn,e as Zn}from"./attendance-policy-mapping-c3339801.js";import{u as Yn}from"./index-b0c18430.js";function Be({previousData:l,modelId:n,title:y,addressType:a}){const[b,{isLoading:i}]=An(),[_,{isLoading:g}]=Ln(),{data:L,isLoading:t}=He(),{data:f,isLoading:P}=We(),G=(L==null?void 0:L.data)||[],S=(f==null?void 0:f.data)||[],E=X({resolver:u(De),defaultValues:{model_type:"App\\Models\\Employee\\Employee",model_id:n,country_id:(l==null?void 0:l.country.id)||1,city_id:(l==null?void 0:l.city.id)||1,post_code:(l==null?void 0:l.post_code)||"",address:(l==null?void 0:l.address)||"",type:a}});async function R(O){try{l!=null&&l.id?(await _({addressId:l==null?void 0:l.id,updatedAddress:O}),B.success("Job Post updated successfully")):(await b(O),B.success("Job Post created successfully"))}catch(k){console.log(k)}}return e.jsx(e.Fragment,{children:i||g?e.jsx("div",{className:"h-[535px]",children:e.jsx(N,{})}):e.jsxs(p,{...E,children:[e.jsx(ye,{className:"pl-0",children:e.jsxs(_e,{className:"text-xl",children:[y," "]})}),e.jsxs("form",{onSubmit:E.handleSubmit(R),className:"space-y-3",children:[e.jsx(r,{control:E.control,name:"address",render:({field:O})=>e.jsxs(d,{children:[e.jsx(s,{children:"Address"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter address",...O})}),e.jsx(x,{})]})}),e.jsx(r,{control:E.control,name:"post_code",render:({field:O})=>e.jsxs(d,{children:[e.jsx(s,{children:"Post Code"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter post code",...O})}),e.jsx(x,{})]})}),e.jsx(r,{control:E.control,name:"country_id",render:({field:O})=>{var k,z;return e.jsxs(d,{children:[e.jsx(s,{children:"Country"}),e.jsxs(V,{onValueChange:O.onChange,defaultValue:(k=l==null?void 0:l.country)!=null&&k.id?String((z=l.country)==null?void 0:z.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Country"})})}),e.jsx(T,{children:t?e.jsx(N,{}):G==null?void 0:G.map(Q=>e.jsx(M,{value:String(Q.id),children:Q.name},Q.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:E.control,name:"city_id",render:({field:O})=>{var k,z;return e.jsxs(d,{children:[e.jsx(s,{children:"City"}),e.jsxs(V,{onValueChange:O.onChange,defaultValue:(k=l==null?void 0:l.city)!=null&&k.id?String((z=l.city)==null?void 0:z.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select City"})})}),e.jsx(T,{children:P?e.jsx(N,{}):S==null?void 0:S.map(Q=>e.jsx(M,{value:String(Q.id),children:Q.name},Q.id))})]}),e.jsx(x,{})]})}}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(U,{variant:"default",type:"submit",size:"sm",className:"mt-4",children:l!=null&&l.id?"Update":"Add"})})]})]})})}function Xn({data:l}){const[n,y]=H.useState(!1);return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(de,{children:e.jsxs(se,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(U,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>y(!0),children:e.jsx(Ce,{className:"h-4 w-4 text-foreground"})})}),e.jsx(re,{children:e.jsx("p",{children:"Update Education"})})]})}),n&&e.jsx(ie,{title:"Update Education",isOpen:n,toggleModal:()=>y(!1),className:"w-[90%] max-w-6xl",children:e.jsx(Ye,{data:l,modelClose:()=>y(!1)})})]})}const un=[{id:"select",header:({table:l})=>e.jsx(Y,{checked:l.getIsAllPageRowsSelected()||l.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>l.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:l})=>e.jsx(Y,{checked:l.getIsSelected(),onCheckedChange:n=>l.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"type",header:"Education Type"},{accessorKey:"academy",header:"Academy"},{accessorKey:"grade",header:"Grade"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:l})=>e.jsx(Xn,{data:l.original})}];function Ye({previousData:l,data:n,modelClose:y}){const[a,{isLoading:b}]=Pn(),[i,{isLoading:_}]=Mn(),g=X({resolver:u(en),defaultValues:{model_type:"App\\Models\\Employee\\Employee",model_id:l==null?void 0:l.id,type:(n==null?void 0:n.type)||"",academy:(n==null?void 0:n.academy)||"",title:(n==null?void 0:n.title)||"",degree:(n==null?void 0:n.degree)||"",start_date:(n==null?void 0:n.start_date)||"",end_date:(n==null?void 0:n.end_date)||"",grade:(n==null?void 0:n.grade)||"",sorting_index:(n==null?void 0:n.sorting_index)||0}});async function L(t){try{n!=null&&n.id?(await i({educationId:n==null?void 0:n.id,updatedEducation:t}),B.success("Job Post updated successfully"),y&&y()):(await a(t),B.success("Job Post created successfully"),g.reset())}catch(f){console.log(f)}}return e.jsx(e.Fragment,{children:b||_?e.jsx("div",{className:"h-[535px]",children:e.jsx(N,{})}):e.jsxs("div",{className:"flex  h-[535px] gap-x-4",children:[e.jsx("div",{className:`${l?"w-1/2":"w-full"} `,children:e.jsxs(p,{...g,children:[e.jsx(ye,{children:e.jsx(_e,{className:"text-center",children:"Education "})}),e.jsxs("form",{onSubmit:g.handleSubmit(L),className:"",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(r,{control:g.control,name:"type",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"Education Type"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter education type(HSC/SSC)",...t})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"academy",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"Academy"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Academy",...t})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"title",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"Title"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Title",...t})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"degree",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"Degree"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter degree",...t})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"start_date",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"Start Date"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter Start Date",...t})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"end_date",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"End Date (Optional)"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter End Date",...t})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"grade",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"Grade"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Grade",...t})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"sorting_index",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"String"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"Enter sorting",...t})}),e.jsx(x,{})]})})]}),e.jsx("div",{children:e.jsx(U,{variant:"default",type:"submit",className:"w-full mt-4",children:n!=null&&n.id?"Update":"Add"})})]})]})}),!(n!=null&&n.id)&&e.jsx("div",{className:"w-1/2 mt-4",children:e.jsx("div",{children:e.jsx(Ee,{columns:un,data:(l==null?void 0:l.educations)||[]})})})]})})}function pn({data:l}){const[n,y]=H.useState(!1);return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(de,{children:e.jsxs(se,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(U,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>y(!0),children:e.jsx(Ce,{className:"h-4 w-4 text-foreground"})})}),e.jsx(re,{children:e.jsx("p",{children:"Update Experience"})})]})}),n&&e.jsx(ie,{title:"Update Experience",isOpen:n,toggleModal:()=>y(!1),className:"w-[90%] max-w-6xl",children:e.jsx(Xe,{data:l,modelClose:()=>y(!1)})})]})}const vn=[{id:"select",header:({table:l})=>e.jsx(Y,{checked:l.getIsAllPageRowsSelected()||l.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>l.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:l})=>e.jsx(Y,{checked:l.getIsSelected(),onCheckedChange:n=>l.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"institution",header:"Institution"},{accessorKey:"designation",header:"Designation"},{accessorKey:"start_date",header:"Start date"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:l})=>e.jsx(pn,{data:l.original})}];function Xe({previousData:l,data:n,modelClose:y}){var G;const[a,{isLoading:b}]=Vn(),[i,{isLoading:_}]=In(),{data:g,isLoading:L}=Ze(),t=(g==null?void 0:g.data)||[],f=X({resolver:u(nn),defaultValues:{model_type:"App\\Models\\Employee\\Employee",model_id:l==null?void 0:l.id,institution:(n==null?void 0:n.institution)||"",employment_status_id:((G=n==null?void 0:n.employment_status)==null?void 0:G.id)||2,start_date:(n==null?void 0:n.start_date)||"",end_date:(n==null?void 0:n.end_date)||null,description:(n==null?void 0:n.description)||"",designation:(n==null?void 0:n.designation)||"",sorting_index:(n==null?void 0:n.sorting_index)||0}});async function P(S){try{n!=null&&n.id?(await i({experienceId:n==null?void 0:n.id,updatedExperience:S}),B.success("Job Post updated successfully"),y&&y()):(await a(S),B.success("Job Post created successfully"),f.reset())}catch(E){console.log(E)}}return e.jsx(e.Fragment,{children:b||_?e.jsx("div",{className:"h-[535px]",children:e.jsx(N,{})}):e.jsxs("div",{className:"flex  h-[535px] gap-x-4",children:[e.jsx("div",{className:`${l?"w-1/2":"w-full"} `,children:e.jsxs(p,{...f,children:[e.jsx(ye,{children:e.jsx(_e,{className:"text-center",children:"Experience "})}),e.jsxs("form",{onSubmit:f.handleSubmit(P),className:"",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(r,{control:f.control,name:"institution",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"Institution"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter institution",...S})}),e.jsx(x,{})]})}),e.jsx(r,{control:f.control,name:"employment_status_id",render:({field:S})=>{var E;return e.jsxs(d,{children:[e.jsx(s,{children:"Employment Status"}),e.jsxs(V,{onValueChange:S.onChange,defaultValue:(E=n==null?void 0:n.employment_status)!=null&&E.id?String(n.employment_status.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Employment Status"})})}),e.jsx(T,{children:L?e.jsx(N,{}):t==null?void 0:t.map(R=>e.jsx(M,{value:String(R.id),children:R.name},R.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:f.control,name:"designation",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"Designation"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Designation",...S})}),e.jsx(x,{})]})}),e.jsx(r,{control:f.control,name:"description",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"Description (optional)"}),e.jsx(c,{children:e.jsx(ze,{placeholder:"Enter Description",value:S.value||"",onChange:E=>S.onChange(E.target.value)})}),e.jsx(x,{})]})}),e.jsx(r,{control:f.control,name:"start_date",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"Start Date"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter Start Date",...S})}),e.jsx(x,{})]})}),e.jsx(r,{control:f.control,name:"end_date",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"End Date (optional)"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter End Date",value:S.value||"",onChange:E=>S.onChange(E.target.value)})}),e.jsx(x,{})]})}),e.jsx(r,{control:f.control,name:"sorting_index",render:({field:S})=>e.jsxs(d,{children:[e.jsx(s,{children:"String"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"Enter sorting",...S})}),e.jsx(x,{})]})})]}),e.jsx("div",{children:e.jsx(U,{variant:"default",type:"submit",className:"w-full mt-4",children:n!=null&&n.id?"Update":"Add"})})]})]})}),!(n!=null&&n.id)&&e.jsx("div",{className:"w-1/2 mt-4",children:e.jsx("div",{children:e.jsx(Ee,{columns:vn,data:(l==null?void 0:l.experiences)||[]})})})]})})}const Dn=Qe.injectEndpoints({endpoints:l=>({getBloodGroups:l.query({query:()=>"blood-groups",providesTags:["blood-groups"]})}),overrideExisting:!1}),{useGetBloodGroupsQuery:el}=Dn,nl=ln.injectEndpoints({endpoints:l=>({getRoles:l.query({query:()=>"roles",providesTags:["roles"]})}),overrideExisting:!1}),{useGetRolesQuery:ll}=nl;function dl({previousData:l}){const[n,{isLoading:y}]=Ke(),a=X({resolver:u(qe),defaultValues:{card_id:(l==null?void 0:l.card_id)||null,machine_id:(l==null?void 0:l.machine_id)||null,is_head_of_dept:(l==null?void 0:l.is_head_of_dept)||0,sorting_index:(l==null?void 0:l.sorting_index)||0,nid_number:(l==null?void 0:l.nid_number)||null,fathers_name:(l==null?void 0:l.fathers_name)||null,mothers_name:(l==null?void 0:l.mothers_name)||null,payment_type:(l==null?void 0:l.payment_type)||"Cash",account_number:(l==null?void 0:l.account_number)||null,bank_name:(l==null?void 0:l.bank_name)||null,bank_branch:(l==null?void 0:l.bank_branch)||null,marital_status:(l==null?void 0:l.marital_status)||"Married",birth_date:(l==null?void 0:l.birth_date)||null,tin_number:(l==null?void 0:l.tin_number)||null,employee_unique_id:(l==null?void 0:l.employee_unique_id)||"",first_name:(l==null?void 0:l.first_name)||"",last_name:(l==null?void 0:l.last_name)||"",phone:(l==null?void 0:l.phone)||"",corporate_phone:(l==null?void 0:l.corporate_phone)||"",email:(l==null?void 0:l.email)||"",joining_date:(l==null?void 0:l.joining_date)||"",status:(l==null?void 0:l.status)||"Active",location_id:(l==null?void 0:l.location_id)||1,organization_id:(l==null?void 0:l.organization_id)||1,work_place_id:(l==null?void 0:l.work_place_id)||1,department_id:(l==null?void 0:l.department_id)||1,section_id:(l==null?void 0:l.section_id)||1,designation_id:(l==null?void 0:l.designation_id)||1,schedule_id:(l==null?void 0:l.schedule_id)||1,employee_class_id:(l==null?void 0:l.employee_class_id)||1,employee_grade_id:(l==null?void 0:l.employee_grade_id)||1,employment_status_id:(l==null?void 0:l.employment_status_id)||1,password:null,gender_id:(l==null?void 0:l.gender_id)||1,religion_id:(l==null?void 0:l.religion_id)||1,blood_group_id:(l==null?void 0:l.blood_group_id)||1,role_id:(l==null?void 0:l.role_id)||1}});async function b(i){try{l&&(await n({employeeId:l.id,updatedEmployee:i}),B.success("Employee updated successfully"))}catch(_){console.log(_)}}return e.jsx(e.Fragment,{children:y?e.jsx("div",{className:"h-[525px]",children:e.jsx(N,{})}):e.jsx("div",{className:"",children:e.jsx(p,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(b),className:"pt-4",children:[e.jsxs("div",{className:"space-y-2 grid grid-cols-5 gap-3 items-end",children:[e.jsx(r,{control:a.control,name:"sorting_index",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Sorting"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"Enter sorting index",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"card_id",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Card Id"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Card Id",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"machine_id",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Machine Id"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Machine Id",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"is_head_of_dept",render:({field:i})=>e.jsxs(d,{className:"flex items-center justify-between rounded-lg border px-3 py-2 shadow-sm col-span-2",children:[e.jsx(s,{children:"Head Of Department"}),e.jsx(c,{className:"!mt-0",children:e.jsx(qn,{checked:i.value===1,onCheckedChange:_=>i.onChange(_?1:0)})})]})}),e.jsx(r,{control:a.control,name:"nid_number",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"NID Number"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter NID Number",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"fathers_name",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Father's Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Father's Name",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"mothers_name",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Mother's Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Mother's Name",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"payment_type",render:({field:i})=>{var _;return e.jsxs(d,{className:"space-y-4 col-span-2 !mb-3",children:[e.jsx(s,{children:"Payment Type"}),e.jsx(c,{children:e.jsxs(Ue,{onValueChange:i.onChange,defaultValue:(_=i.value)==null?void 0:_.toString(),className:"flex items-center space-y-0 space-x-3",children:[e.jsxs(d,{className:"space-y-0 space-x-2 flex items-center",children:[e.jsx(c,{children:e.jsx(xe,{value:"Bank"})}),e.jsx(s,{className:"font-normal cursor-pointer",children:"Bank Payment"})]}),e.jsxs(d,{className:"space-y-0 space-x-2 flex items-center",children:[e.jsx(c,{children:e.jsx(xe,{value:"Cash"})}),e.jsx(s,{className:"font-normal cursor-pointer",children:"Cash Payment"})]})]})}),e.jsx(x,{})]})}}),e.jsx(r,{control:a.control,name:"account_number",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Account Number"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Account Number",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"bank_name",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Bank Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Bank Name",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"bank_branch",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Bank branch"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Bank branch",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"birth_date",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"Birth Date"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter Birth date",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"tin_number",render:({field:i})=>e.jsxs(d,{children:[e.jsx(s,{children:"TIN Number"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter TIN Number",...i,value:i.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:a.control,name:"marital_status",render:({field:i})=>{var _;return e.jsxs(d,{className:"space-y-3",children:[e.jsx(s,{children:"Marital Status"}),e.jsx(c,{children:e.jsxs(Ue,{onValueChange:i.onChange,defaultValue:(_=i.value)==null?void 0:_.toString(),className:"flex items-center space-y-1 space-x-3",children:[e.jsxs(d,{className:"flex items-center space-x-2 space-y-0",children:[e.jsx(c,{children:e.jsx(xe,{value:"Married"})}),e.jsx(s,{className:"font-normal cursor-pointer",children:"Married"})]}),e.jsxs(d,{className:"flex items-center space-x-2 space-y-0",children:[e.jsx(c,{children:e.jsx(xe,{value:"Unmarried"})}),e.jsx(s,{className:"font-normal cursor-pointer",children:"Unmarried"})]})]})}),e.jsx(x,{})]})}})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(U,{variant:"default",size:"sm",type:"submit",className:"mt-4",children:l?"Update":"Save"})})]})})})})}function sl({data:l}){const[n,y]=H.useState(!1);return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(de,{children:e.jsxs(se,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(U,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>y(!0),children:e.jsx(Ce,{className:"h-4 w-4 text-foreground"})})}),e.jsx(re,{children:e.jsx("p",{children:"Update Experience"})})]})}),n&&e.jsx(ie,{title:"Update Experience",isOpen:n,toggleModal:()=>y(!1),className:"w-[90%] max-w-6xl",children:e.jsx(ue,{data:l,modelClose:()=>y(!1)})})]})}const cl=[{id:"select",header:({table:l})=>e.jsx(Y,{checked:l.getIsAllPageRowsSelected()||l.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>l.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:l})=>e.jsx(Y,{checked:l.getIsSelected(),onCheckedChange:n=>l.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:"Skill Name"},{accessorKey:"type",header:"Proficiency level"},{accessorKey:"description",header:"Description"},{accessorKey:"start_date",header:"Start date"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:l})=>e.jsx(sl,{data:l.original})}];function ue({previousData:l,data:n,modelClose:y}){const[a,{isLoading:b}]=Fn(),[i,{isLoading:_}]=Tn(),g=X({resolver:u(dn),defaultValues:{model_type:"App\\Models\\Employee\\Employee",model_id:l==null?void 0:l.id,name:(n==null?void 0:n.name)||"",type:(n==null?void 0:n.type)||"",start_date:(n==null?void 0:n.start_date)||"",end_date:(n==null?void 0:n.end_date)||"",description:(n==null?void 0:n.description)||"",sorting_index:(n==null?void 0:n.sorting_index)||0}});async function L(t){try{n!=null&&n.id?(await i({skillId:n==null?void 0:n.id,updatedSkill:t}),B.success("Skill updated successfully"),y&&y()):(await a(t),B.success("Skill created successfully"),g.reset())}catch(f){console.log(f)}}return e.jsx(e.Fragment,{children:b||_?e.jsx("div",{className:"h-[535px]",children:e.jsx(N,{})}):e.jsxs("div",{className:"flex  h-[535px] gap-x-4",children:[e.jsx("div",{className:`${l?"w-1/2":"w-full"} `,children:e.jsxs(p,{...g,children:[e.jsx(ye,{children:e.jsx(_e,{className:"text-center",children:"Skill "})}),e.jsxs("form",{onSubmit:g.handleSubmit(L),className:"",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(r,{control:g.control,name:"name",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"Skill Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter institution",...t})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"type",render:({field:t})=>e.jsxs(d,{className:"space-y-3",children:[e.jsx(s,{children:"Proficiency Level"}),e.jsx(c,{children:e.jsxs(Ue,{onValueChange:t.onChange,defaultValue:t.value,className:"flex items-center space-y-1",children:[e.jsxs(d,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(c,{children:e.jsx(xe,{value:"Basic"})}),e.jsx(s,{className:"font-normal",children:"Basic"})]}),e.jsxs(d,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(c,{children:e.jsx(xe,{value:"Medium"})}),e.jsx(s,{className:"font-normal",children:"Medium"})]}),e.jsxs(d,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(c,{children:e.jsx(xe,{value:"Expert"})}),e.jsx(s,{className:"font-normal",children:"Expert"})]})]})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"description",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"Description (optional)"}),e.jsx(c,{children:e.jsx(ze,{placeholder:"Enter Description",value:t.value||"",onChange:f=>t.onChange(f.target.value)})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"start_date",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"Start Date"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter Start Date",...t})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"end_date",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"End Date (optional)"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter End Date",value:t.value||"",onChange:f=>t.onChange(f.target.value)})}),e.jsx(x,{})]})}),e.jsx(r,{control:g.control,name:"sorting_index",render:({field:t})=>e.jsxs(d,{children:[e.jsx(s,{children:"String"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"Enter sorting",...t})}),e.jsx(x,{})]})})]}),e.jsx("div",{children:e.jsx(U,{variant:"default",type:"submit",className:"w-full mt-4",children:n!=null&&n.id?"Update":"Add"})})]})]})}),!(n!=null&&n.id)&&e.jsx("div",{className:"w-1/2 mt-4",children:e.jsx("div",{children:e.jsx(Ee,{columns:cl,data:(l==null?void 0:l.skills)||[]})})})]})})}const rl=Qe.injectEndpoints({endpoints:l=>({getNominees:l.query({query:()=>"employee-nominee",providesTags:["nominees"]}),createNominee:l.mutation({query:n=>({url:"employee-nominee",method:"POST",body:n}),invalidatesTags:["nominees","employees"]}),removeNominee:l.mutation({query:n=>({url:`employee-nominee/${n}`,method:"DELETE"}),invalidatesTags:["nominees"]}),updateNominee:l.mutation({query:({nomineeId:n,updatedNominee:y})=>({url:`employee-nominee/${n}`,method:"PUT",body:y}),invalidatesTags:["nominees","employees"]})}),overrideExisting:!1}),{useGetNomineesQuery:Tl,useCreateNomineeMutation:xl,useRemoveNomineeMutation:Gl,useUpdateNomineeMutation:il}=rl;function tl({previousData:l}){var S,E,R,O,k,z,Q,te,ae,he,fe,oe,Se,je,Ne,me,be,ge;const[n,{isLoading:y}]=xl(),[a,{isLoading:b}]=il(),{data:i,isLoading:_}=He(),{data:g,isLoading:L}=We(),t=(i==null?void 0:i.data)||[],f=(g==null?void 0:g.data)||[],P=X({resolver:u(sn),defaultValues:{employee_id:l==null?void 0:l.id,gender_id:((E=(S=l==null?void 0:l.employee_nominee)==null?void 0:S.gender)==null?void 0:E.id)||1,name:((R=l==null?void 0:l.employee_nominee)==null?void 0:R.name)||"",fathers_name:((O=l==null?void 0:l.employee_nominee)==null?void 0:O.fathers_name)||"",mothers_name:((k=l==null?void 0:l.employee_nominee)==null?void 0:k.mothers_name)||"",relation:((z=l==null?void 0:l.employee_nominee)==null?void 0:z.relation)||"",phone_number:((Q=l==null?void 0:l.employee_nominee)==null?void 0:Q.phone_number)||"",present_address:{country_id:((he=(ae=(te=l==null?void 0:l.employee_nominee)==null?void 0:te.present_address)==null?void 0:ae.country)==null?void 0:he.id)||1,city_id:((Se=(oe=(fe=l==null?void 0:l.employee_nominee)==null?void 0:fe.present_address)==null?void 0:oe.city)==null?void 0:Se.id)||1,post_code:((Ne=(je=l==null?void 0:l.employee_nominee)==null?void 0:je.present_address)==null?void 0:Ne.post_code)||"",address:((be=(me=l==null?void 0:l.employee_nominee)==null?void 0:me.present_address)==null?void 0:be.address)||""}}});console.log(l==null?void 0:l.employee_nominee);async function G(w){var K,$;try{(K=l==null?void 0:l.employee_nominee)!=null&&K.id?(await a({nomineeId:($=l==null?void 0:l.employee_nominee)==null?void 0:$.id,updatedNominee:w}),B.success("Nominee updated successfully")):(await n(w),B.success("Nominee created successfully"))}catch(q){console.log(q)}}return e.jsx(e.Fragment,{children:y||b?e.jsx("div",{className:"h-[535px]",children:e.jsx(N,{})}):e.jsx("div",{className:"",children:e.jsxs(p,{...P,children:[e.jsx(ye,{children:e.jsx(_e,{className:"text-center",children:"Employee Nominee "})}),e.jsxs("form",{onSubmit:P.handleSubmit(G),className:"",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-center font-bold",children:"Nominee Basic Info"}),e.jsx(r,{control:P.control,name:"name",render:({field:w})=>e.jsxs(d,{children:[e.jsx(s,{children:"Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter name",...w})}),e.jsx(x,{})]})}),e.jsx(r,{control:P.control,name:"fathers_name",render:({field:w})=>e.jsxs(d,{children:[e.jsx(s,{children:"Fathers Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter fathers name",...w})}),e.jsx(x,{})]})}),e.jsx(r,{control:P.control,name:"mothers_name",render:({field:w})=>e.jsxs(d,{children:[e.jsx(s,{children:"Mothers Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter mothers name",...w})}),e.jsx(x,{})]})}),e.jsx(r,{control:P.control,name:"relation",render:({field:w})=>e.jsxs(d,{children:[e.jsx(s,{children:"Relation"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter relation name",...w})}),e.jsx(x,{})]})}),e.jsx(r,{control:P.control,name:"phone_number",render:({field:w})=>e.jsxs(d,{children:[e.jsx(s,{children:"Phone Number"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter phone number",...w})}),e.jsx(x,{})]})}),e.jsx(r,{control:P.control,name:"nid_number",render:({field:w})=>e.jsxs(d,{children:[e.jsx(s,{children:"NID Number"}),e.jsx(c,{children:e.jsx(m,{type:"number",placeholder:"Enter nid number",...w})}),e.jsx(x,{})]})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-center font-bold",children:" Address"}),e.jsx(r,{control:P.control,name:"present_address.country_id",render:({field:w})=>{var K,$,q,v,W,Z;return e.jsxs(d,{children:[e.jsx(s,{children:"Country"}),e.jsxs(V,{onValueChange:w.onChange,defaultValue:(q=($=(K=l==null?void 0:l.employee_nominee)==null?void 0:K.present_address)==null?void 0:$.country)!=null&&q.id?String((Z=(W=(v=l==null?void 0:l.employee_nominee)==null?void 0:v.present_address)==null?void 0:W.country)==null?void 0:Z.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Country"})})}),e.jsx(T,{children:_?e.jsx(N,{}):t==null?void 0:t.map(J=>e.jsx(M,{value:String(J.id),children:J.name},J.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:P.control,name:"present_address.city_id",render:({field:w})=>{var K,$,q,v,W,Z;return e.jsxs(d,{children:[e.jsx(s,{children:"City"}),e.jsxs(V,{onValueChange:w.onChange,defaultValue:(q=($=(K=l==null?void 0:l.employee_nominee)==null?void 0:K.present_address)==null?void 0:$.city)!=null&&q.id?String((Z=(W=(v=l==null?void 0:l.employee_nominee)==null?void 0:v.present_address)==null?void 0:W.city)==null?void 0:Z.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select City"})})}),e.jsx(T,{children:L?e.jsx(N,{}):f==null?void 0:f.map(J=>e.jsx(M,{value:String(J.id),children:J.name},J.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:P.control,name:"present_address.post_code",render:({field:w})=>e.jsxs(d,{children:[e.jsx(s,{children:"Post Code"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter post code",...w})}),e.jsx(x,{})]})}),e.jsx(r,{control:P.control,name:"present_address.address",render:({field:w})=>e.jsxs(d,{children:[e.jsx(s,{children:"Address"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter address",...w})}),e.jsx(x,{})]})})]})]}),e.jsx("div",{children:e.jsx(U,{variant:"default",type:"submit",className:"w-full mt-4",children:(ge=l==null?void 0:l.employee_nominee)!=null&&ge.id?"Update":"Add"})})]})]})})})}function pe({modalClose:l,data:n}){const[y,{isLoading:a}]=cn(),[b,{isLoading:i}]=Ke(),{data:_,isLoading:g}=Gn(),{data:L,isLoading:t}=rn(),{data:f,isLoading:P}=Rn(),{data:G,isLoading:S}=Un("page=1&per_page=1000"),{data:E,isLoading:R}=kn("page=1&per_page=1000"),{data:O,isLoading:k}=zn("page=1&per_page=1000"),{data:z,isLoading:Q}=Bn("page=1&per_page=1000"),{data:te,isLoading:ae}=On(),{data:he,isLoading:fe}=xn("page=1&per_page=1000"),{data:oe,isLoading:Se}=Qn("page=1&per_page=1000"),{data:je,isLoading:Ne}=Kn("page=1&per_page=1000"),{data:me,isLoading:be}=Ze(),{data:ge,isLoading:w}=el(),{data:K,isLoading:$}=ll(),{data:q,isLoading:v}=Jn("per_page=10&page=1"),W=(q==null?void 0:q.data)||[],Z=(he==null?void 0:he.data)||[],J=(_==null?void 0:_.data)||[],we=(te==null?void 0:te.data)||[],Ae=(L==null?void 0:L.data)||[],Le=(f==null?void 0:f.data)||[],Pe=(G==null?void 0:G.data)||[],Me=(E==null?void 0:E.data)||[],Ve=(z==null?void 0:z.data)||[],Ie=(O==null?void 0:O.data)||[],Fe=(oe==null?void 0:oe.data)||[],Te=(je==null?void 0:je.data)||[],Ge=(me==null?void 0:me.data)||[],Oe=(ge==null?void 0:ge.data)||[],Re=(K==null?void 0:K.data)||[],C=X({resolver:u(qe),defaultValues:{employee_unique_id:(n==null?void 0:n.employee_unique_id)||"",first_name:(n==null?void 0:n.first_name)||"",last_name:(n==null?void 0:n.last_name)||"",phone:(n==null?void 0:n.phone)||"",corporate_phone:(n==null?void 0:n.corporate_phone)||"",email:(n==null?void 0:n.email)||"",joining_date:(n==null?void 0:n.joining_date)||"",status:(n==null?void 0:n.status)||"Active",location_id:(n==null?void 0:n.location_id)||1,organization_id:(n==null?void 0:n.organization_id)||1,work_place_id:(n==null?void 0:n.work_place_id)||1,department_id:(n==null?void 0:n.department_id)||1,section_id:(n==null?void 0:n.section_id)||1,designation_id:(n==null?void 0:n.designation_id)||1,schedule_id:(n==null?void 0:n.schedule_id)||1,employee_class_id:(n==null?void 0:n.employee_class_id)||1,employee_grade_id:(n==null?void 0:n.employee_grade_id)||1,employment_status_id:(n==null?void 0:n.employment_status_id)||1,password:null,gender_id:(n==null?void 0:n.gender_id)||1,religion_id:(n==null?void 0:n.religion_id)||1,blood_group_id:(n==null?void 0:n.blood_group_id)||1,role_id:(n==null?void 0:n.role_id)||1,leave_group_id:(n==null?void 0:n.leave_group_id)||1,card_id:(n==null?void 0:n.card_id)||null,machine_id:(n==null?void 0:n.machine_id)||null,is_head_of_dept:(n==null?void 0:n.is_head_of_dept)||0,sorting_index:(n==null?void 0:n.sorting_index)||0,nid_number:(n==null?void 0:n.nid_number)||null,fathers_name:(n==null?void 0:n.fathers_name)||null,mothers_name:(n==null?void 0:n.mothers_name)||null,payment_type:(n==null?void 0:n.payment_type)||"Cash",account_number:(n==null?void 0:n.account_number)||null,bank_name:(n==null?void 0:n.bank_name)||null,bank_branch:(n==null?void 0:n.bank_branch)||null,marital_status:(n==null?void 0:n.marital_status)||"Married",birth_date:(n==null?void 0:n.birth_date)||null,tin_number:(n==null?void 0:n.tin_number)||null}});async function ve(h){try{n?(await b({employeeId:n.id,updatedEmployee:h}).unwrap(),B.success("Job Post updated successfully"),l()):(await y(h).unwrap(),B.success("Job Post created successfully"),l())}catch(j){console.log(j),on(j)}}return e.jsx(e.Fragment,{children:a||i?e.jsx("div",{className:"",children:e.jsx(N,{})}):e.jsx("div",{children:e.jsxs(tn,{defaultValue:"basic-info",className:"",children:[e.jsxs(hn,{className:"grid w-full grid-cols-7",children:[e.jsx(D,{value:"basic-info",children:"Basic Info"}),e.jsx(D,{disabled:!n,value:"additional-info",children:"Additional Info"}),e.jsx(D,{disabled:!n,value:"address",children:"Address"}),e.jsx(D,{disabled:!n,value:"education",children:"Education"}),e.jsx(D,{disabled:!n,value:"experience",children:"Experience"}),e.jsx(D,{disabled:!n,value:"skill",children:"Skill"}),e.jsx(D,{disabled:!n,value:"nominee",children:"Nominee"})]}),e.jsx(ee,{value:"basic-info",children:e.jsx(ne,{children:e.jsx(le,{className:"space-y-2 pt-3",children:e.jsx(p,{...C,children:e.jsxs("form",{onSubmit:C.handleSubmit(ve),className:"",children:[e.jsxs("div",{className:"space-y-2 grid grid-cols-5 gap-3 items-end",children:[e.jsx(r,{control:C.control,name:"employee_unique_id",render:({field:h})=>e.jsxs(d,{children:[e.jsx(s,{children:"Employee Unique Id"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Employee Unique Id",...h})}),e.jsx(x,{})]})}),e.jsx(r,{control:C.control,name:"first_name",render:({field:h})=>e.jsxs(d,{children:[e.jsx(s,{children:"First Name"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter First Name",...h})}),e.jsx(x,{})]})}),e.jsx(r,{control:C.control,name:"last_name",render:({field:h})=>e.jsxs(d,{children:[e.jsx(s,{children:"Last Name (optional)"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Last Name",...h,value:h.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:C.control,name:"phone",render:({field:h})=>e.jsxs(d,{children:[e.jsx(s,{children:"Phone"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Phone",...h})}),e.jsx(x,{})]})}),e.jsx(r,{control:C.control,name:"corporate_phone",render:({field:h})=>e.jsxs(d,{children:[e.jsx(s,{children:"Corporate Phone (optional)"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Corporate Phone",...h,value:h.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:C.control,name:"email",render:({field:h})=>e.jsxs(d,{children:[e.jsx(s,{children:"Email"}),e.jsx(c,{children:e.jsx(m,{type:"email",placeholder:"Enter Email",...h})}),e.jsx(x,{})]})}),e.jsx(r,{control:C.control,name:"joining_date",render:({field:h})=>e.jsxs(d,{children:[e.jsx(s,{children:"Joining Date"}),e.jsx(c,{children:e.jsx(m,{type:"date",placeholder:"Enter joining date",...h})}),e.jsx(x,{})]})}),!n&&e.jsx(r,{control:C.control,name:"password",render:({field:h})=>e.jsxs(d,{children:[e.jsx(s,{children:"Password (optional)"}),e.jsx(c,{children:e.jsx(m,{type:"text",placeholder:"Enter Password",...h,value:h.value||""})}),e.jsx(x,{})]})}),e.jsx(r,{control:C.control,name:"status",render:({field:h})=>e.jsxs(d,{children:[e.jsx(s,{children:"Status"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(n==null?void 0:n.status)||"Active",children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:""})})}),e.jsxs(T,{children:[e.jsx(M,{value:"Active",children:"Active"}),e.jsx(M,{value:"Inactive",children:"Inactive"})]})]}),e.jsx(x,{})]})}),e.jsx(r,{control:C.control,name:"location_id",render:({field:h})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Location"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.location)!=null&&j.id?String(n==null?void 0:n.location.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Location"})})}),e.jsx(T,{children:fe?e.jsx(N,{}):Z==null?void 0:Z.map(o=>e.jsx(M,{value:String(o.id),children:o.name},o.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"organization_id",render:({field:h})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Organization name"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.organization)!=null&&j.id?String(n.organization.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Organization"})})}),e.jsx(T,{children:t?e.jsx(N,{}):Ae==null?void 0:Ae.map(o=>e.jsx(M,{value:String(o.id),children:o.name},o.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"work_place_id",render:({field:h})=>{var j,o;return e.jsxs(d,{children:[e.jsx(s,{children:"Work Place"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.work_place)!=null&&j.id?String((o=n==null?void 0:n.work_place)==null?void 0:o.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Work Place"})})}),e.jsx(T,{children:P?e.jsx(N,{}):Le==null?void 0:Le.map(A=>e.jsx(M,{value:String(A.id),children:A.name},A.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"department_id",render:({field:h})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Department name"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.department)!=null&&j.id?String(n.department.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Department"})})}),e.jsx(T,{children:S?e.jsx(N,{}):Pe==null?void 0:Pe.map(o=>e.jsx(M,{value:String(o.id),children:o.name},o.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"designation_id",render:({field:h})=>{var j,o;return e.jsxs(d,{children:[e.jsx(s,{children:"Designation Name"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.designation)!=null&&j.id?String((o=n==null?void 0:n.designation)==null?void 0:o.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Designation"})})}),e.jsx(T,{children:R?e.jsx(N,{}):Me==null?void 0:Me.map(A=>e.jsx(M,{value:String(A.id),children:A.name},A.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"section_id",render:({field:h})=>{var j,o;return e.jsxs(d,{children:[e.jsx(s,{children:"Section"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.section)!=null&&j.id?String((o=n==null?void 0:n.section)==null?void 0:o.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Section"})})}),e.jsx(T,{children:Q?e.jsx(N,{}):Ve==null?void 0:Ve.map(A=>e.jsx(M,{value:String(A.id),children:A.name},A.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"schedule_id",render:({field:h})=>{var j,o;return e.jsxs(d,{children:[e.jsx(s,{children:"Schedule"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.schedule)!=null&&j.id?String((o=n==null?void 0:n.schedule)==null?void 0:o.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Schedule"})})}),e.jsx(T,{children:k?e.jsx(N,{}):Ie==null?void 0:Ie.map(A=>e.jsx(M,{value:String(A.id),children:A.name},A.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"employee_class_id",render:({field:h})=>{var j,o;return e.jsxs(d,{children:[e.jsx(s,{children:"Employee Class"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.employee_class)!=null&&j.id?String((o=n==null?void 0:n.employee_class)==null?void 0:o.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Employee Class"})})}),e.jsx(T,{children:Se?e.jsx(N,{}):Fe==null?void 0:Fe.map(A=>e.jsx(M,{value:String(A.id),children:A.name},A.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"employee_grade_id",render:({field:h})=>{var j,o;return e.jsxs(d,{children:[e.jsx(s,{children:"Employee Grade"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.employee_grade)!=null&&j.id?String((o=n==null?void 0:n.employee_grade)==null?void 0:o.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Employee Class"})})}),e.jsx(T,{children:Ne?e.jsx(N,{}):Te==null?void 0:Te.map(A=>e.jsx(M,{value:String(A.id),children:A.name},A.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"employment_status_id",render:({field:h})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Employment Status"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.employment_status)!=null&&j.id?String(n==null?void 0:n.employment_status.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Employment Status"})})}),e.jsx(T,{children:be?e.jsx(N,{}):Ge==null?void 0:Ge.map(o=>e.jsx(M,{value:String(o.id),children:o.name},o.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"blood_group_id",render:({field:h})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Blood Group"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.blood_group)!=null&&j.id?String(n==null?void 0:n.blood_group.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Blood Group"})})}),e.jsx(T,{children:w?e.jsx(N,{}):Oe==null?void 0:Oe.map(o=>e.jsx(M,{value:String(o.id),children:o.name},o.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"religion_id",render:({field:h})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Religion"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.religion)!=null&&j.id?String(n.religion.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Religion"})})}),e.jsx(T,{children:g?e.jsx(N,{}):J==null?void 0:J.map(o=>e.jsx(M,{value:String(o.id),children:o.name},o.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"gender_id",render:({field:h})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Gender"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.gender)!=null&&j.id?String(n.gender.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Gender"})})}),e.jsx(T,{children:ae?e.jsx(N,{}):we==null?void 0:we.map(o=>e.jsx(M,{value:String(o.id),children:o.name},o.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"role_id",render:({field:h})=>{var j;return e.jsxs(d,{children:[e.jsx(s,{children:"Role"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:(j=n==null?void 0:n.role)!=null&&j.id?String(n.role.id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Role"})})}),e.jsx(T,{children:$?e.jsx(N,{}):Re==null?void 0:Re.map(o=>e.jsx(M,{value:String(o.id),children:o.name},o.id))})]}),e.jsx(x,{})]})}}),e.jsx(r,{control:C.control,name:"leave_group_id",render:({field:h})=>e.jsxs(d,{children:[e.jsx(s,{children:"Leave Group"}),e.jsxs(V,{onValueChange:h.onChange,defaultValue:n!=null&&n.leave_group_id?String(n.leave_group_id):void 0,children:[e.jsx(c,{children:e.jsx(I,{children:e.jsx(F,{placeholder:"Select Leave Group"})})}),e.jsx(T,{children:v?e.jsx(N,{}):W==null?void 0:W.map(j=>e.jsx(M,{value:String(j.id),children:j.name},j.id))})]}),e.jsx(x,{})]})})]}),e.jsx("div",{className:"mt-6 flex justify-end gap-4",children:e.jsx(U,{variant:"default",type:"submit",className:"mt-4",size:"sm",children:n?"Update":"Save"})})]})})})})}),e.jsx(ee,{value:"additional-info",children:e.jsx(ne,{children:e.jsx(le,{className:"",children:e.jsx(dl,{previousData:n})})})}),e.jsx(ee,{value:"address",children:e.jsx(ne,{children:e.jsx(le,{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-x-6",children:[e.jsx("div",{className:"w-1/2",children:e.jsx(Be,{previousData:n==null?void 0:n.present_address,modelId:n==null?void 0:n.id,addressType:"Present",title:"Present Address"})}),e.jsx("div",{className:"w-1/2",children:e.jsx(Be,{previousData:n==null?void 0:n.permanent_address,modelId:n==null?void 0:n.id,addressType:"Permanent",title:"Permanent Address"})})]})})})}),e.jsx(ee,{value:"education",children:e.jsx(ne,{children:e.jsx(le,{className:"space-y-2",children:e.jsx(Ye,{previousData:n})})})}),e.jsx(ee,{value:"experience",children:e.jsx(ne,{children:e.jsx(le,{className:"space-y-2",children:e.jsx(Xe,{previousData:n})})})}),e.jsx(ee,{value:"skill",children:e.jsx(ne,{children:e.jsx(le,{className:"space-y-2",children:e.jsx(ue,{previousData:n})})})}),e.jsx(ee,{value:"nominee",children:e.jsx(ne,{children:e.jsx(le,{className:"space-y-2",children:e.jsx(tl,{previousData:n})})})})]})})})}const hl=()=>e.jsx("div",{});function ol({data:l}){const[n,y]=H.useState(!1),[a,b]=H.useState(!1),[i,_]=H.useState(!1),g=Je(),[L,{isLoading:t}]=jn(),f=async P=>{try{await L(P),B.success("Job Candidate deleted successfully"),y(!1)}catch(G){console.log(G)}};return e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(de,{children:e.jsxs(se,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(U,{variant:"ghost",size:"icon",onClick:()=>g(`/hrm/salary-setup/${l.id}`),className:"hover:bg-secondary",children:e.jsx($n,{className:"h-4 w-4 text-foreground"})})}),e.jsx(re,{children:e.jsx("p",{children:"Update Employee Salary Setup"})})]})}),e.jsx(de,{children:e.jsxs(se,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(U,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>b(!0),children:e.jsx(Ce,{className:"h-4 w-4 text-foreground"})})}),e.jsx(re,{children:e.jsx("p",{children:"Update Employee"})})]})}),e.jsx(de,{children:e.jsxs(se,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(U,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{_(!0)},children:e.jsx(Hn,{className:"h-4 w-4 text-foreground"})})}),e.jsx(re,{children:e.jsx("p",{children:"Delete employee"})})]})}),e.jsx(de,{children:e.jsxs(se,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(U,{variant:"ghost",size:"icon",className:"hover:bg-secondary",onClick:()=>{y(!0)},children:e.jsx(mn,{className:"h-4 w-4 text-foreground"})})}),e.jsx(re,{children:e.jsx("p",{children:"Delete employee"})})]})}),e.jsx($e,{title:"Are you sure?",description:"This action cannot be undone.",name:l.first_name,isOpen:n,onClose:()=>y(!1),onConfirm:()=>f(l.id),loading:t}),a&&e.jsx(ie,{title:"Update Job",isOpen:a,toggleModal:()=>b(!1),className:"w-[90%] max-w-6xl",children:e.jsx(pe,{data:l,modalClose:()=>b(!1)})}),i&&e.jsx(ie,{title:"Job Details",isOpen:i,toggleModal:()=>_(!1),className:"w-[90%] max-w-6xl",children:e.jsx(hl,{})})]})}const jl=[{id:"select",header:({table:l})=>e.jsx(Y,{checked:l.getIsAllPageRowsSelected()||l.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>l.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:l})=>e.jsx(Y,{checked:l.getIsSelected(),onCheckedChange:n=>l.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"first_name",header:"First name"},{accessorKey:"last_name",header:"Last name"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"",accessorFn:({department:l})=>l==null?void 0:l.name,header:"Department"},{accessorKey:"location",accessorFn:({location:l})=>l==null?void 0:l.name,header:"Location"},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Actions"}),enableSorting:!1,cell:({row:l})=>e.jsx(ol,{data:l.original})}];function ml({payload:l,modelClose:n}){const[y,a]=H.useState(!1),[b,{isLoading:i}]=Wn(),[_,g]=H.useState(null),L=Je(),{data:t,isLoading:f}=Yn("per_page=1000&page=1"),P=(t==null?void 0:t.data)||[],G=X({resolver:u(Zn),defaultValues:{employee_ids:l==null?void 0:l.map(R=>R.id),effective_date:new Date().toISOString().split("T")[0]}}),S=R=>{R&&(g(R),G.setValue("effective_date",`${ke(R,"yyyy-MM-dd")}`),a(!1))};async function E(R){const O={...R,employee_ids:(l==null?void 0:l.map(k=>k.id))||[]};try{await b(O),B.success("Employee Attendance Policy created successfully"),n&&n(),L("/hrm/attendance-policy-mapping")}catch(k){console.log(k)}}return e.jsx(e.Fragment,{children:i?e.jsx("div",{className:"h-[535px]",children:e.jsx(N,{})}):e.jsx("div",{className:"flex gap-x-4",children:e.jsx("div",{className:" w-full ",children:e.jsx(p,{...G,children:e.jsxs("form",{onSubmit:G.handleSubmit(E),className:"",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(gn,{loading:f,data:P,displayField:"name",valueField:"id",form:G,name:"attendance_policy_id",title:"Attendance Policy",className:"w-[460px]"})}),e.jsx(r,{control:G.control,name:"effective_date",render:()=>e.jsxs(d,{children:[e.jsx(s,{children:"Effective Date"}),e.jsxs(yn,{open:y,onOpenChange:a,children:[e.jsx(_n,{asChild:!0,className:"",children:e.jsxs(U,{variant:"outline",className:`w-full justify-start text-left font-normal ${!_&&"text-muted-foreground"}`,children:[_?ke(_,"PP"):"Pick a date",e.jsx(an,{className:"ml-auto h-4 w-4 opacity-50"})]})}),e.jsx(fn,{className:"w-auto p-0",align:"start",children:e.jsx(Sn,{mode:"single",selected:_??void 0,onSelect:S,initialFocus:!0})})]})]})})]}),e.jsx("div",{children:e.jsx(U,{variant:"default",type:"submit",className:"w-full mt-4",children:"Save"})})]})})})})})}const gl=[{label:"Enable Roster",value:"enable-roster"},{label:"Attendance Policy Mapping",value:"attendance-policy-mapping"},{label:"Delete Selected",value:"delete-selected"}],Ol=()=>{const[l,n]=H.useState(!1),[y,a]=Nn.useState({pageIndex:0,pageSize:10}),{data:b,isLoading:i}=bn(`per_page=${y.pageSize}&page=${y.pageIndex+1}`),[_,g]=H.useState({action:"",payload:[]}),L=(b==null?void 0:b.data)||[],t=b==null?void 0:b.meta;if(console.log(_),i)return e.jsx(N,{});const f=()=>{console.log("Handle Employee Roster Change"),console.log(_),B.success("Employee roster updated successfully"),g({action:"",payload:[]})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Cn,{title:"Employees",description:"Manage employees for you business"}),e.jsxs(U,{onClick:()=>n(!0),size:"sm",children:[e.jsx(En,{className:"mr-2 h-4 w-4"})," Add Employee"]})]}),e.jsx(wn,{}),L&&e.jsx("div",{children:e.jsx(Ee,{columns:jl,data:L,bulkActions:gl,onBulkSelectChange:g,paginationInfo:t,pagination:y,setPagination:a})})]})}),e.jsx(ie,{title:"Add Employee",isOpen:l,toggleModal:()=>n(!1),className:"w-[90%] max-w-6xl",children:e.jsx(pe,{modalClose:()=>n(!1)})}),_.action==="enable-roster"&&e.jsx($e,{title:"Enable Employee Roster?",description:"This action can be changed later",alertMessage:"Are you sure you want to update employee roster status?",type:"default",isOpen:_.action==="enable-roster",onClose:()=>g({action:"",payload:[]}),onConfirm:f}),_.action==="attendance-policy-mapping"&&e.jsx(ie,{title:"Attendance Policy Mapping",toggleModal:()=>g({action:"",payload:[]}),isOpen:_.action==="attendance-policy-mapping",className:"!h-fit",children:e.jsx(ml,{payload:_.payload,modelClose:()=>g({action:"",payload:[]})})})]})};export{Ol as default};
