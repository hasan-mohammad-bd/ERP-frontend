import{ba as i,a as s,N as u,a$ as b,b0 as v,b1 as g,b2 as l,b3 as f,b4 as n,cn as N,r as h,ak as T,az as _,b9 as L,aB as P,co as E}from"./index-c113917d.js";import{E as S}from"./employee-filters-0a1b0ecb.js";import{b as t}from"./format-dates-a87e263a.js";import"./index-d3d13df2.js";import"./index-fb2ce869.js";import"./index-3be60f46.js";const U=i.injectEndpoints({endpoints:e=>({getLeaveUsage:e.query({query:a=>`leave-reports/usages?${a}`,providesTags:["leave-usage"]})}),overrideExisting:!1}),{useGetLeaveUsageQuery:F}=U,$=({tableData:e})=>s.jsxs(u,{children:[" ",s.jsxs(b,{className:"",children:[s.jsx(v,{children:s.jsxs(g,{children:[s.jsx(l,{children:"Employee Id"}),s.jsx(l,{children:"Employee Name"}),s.jsx(l,{children:"Leave Type"}),s.jsx(l,{children:"Leave Date"}),s.jsx(l,{children:"Total Days Taken"})]})}),s.jsx(f,{className:"",children:e&&e.map(a=>{var o,c,d,p;return s.jsxs(g,{className:"",children:[s.jsx(n,{className:"",children:(o=a==null?void 0:a.employee)==null?void 0:o.employee_unique_id}),s.jsxs(n,{className:"",children:[(c=a==null?void 0:a.employee)==null?void 0:c.first_name," ",(d=a==null?void 0:a.employee)==null?void 0:d.last_name]}),s.jsx(n,{children:(p=a==null?void 0:a.leave_type)==null?void 0:p.name}),s.jsxs(n,{children:[t(a==null?void 0:a.start_date_time)," - ",t(a==null?void 0:a.end_date_time)]}),s.jsxs(n,{children:[a==null?void 0:a.duration_day," ",(a==null?void 0:a.duration_day)>1?"days":"day",(a==null?void 0:a.duration_hour)>0?` (${a==null?void 0:a.duration_hour} hours)`:""]})]},a==null?void 0:a.id)})}),s.jsx(N,{})]})]}),H=()=>{const[e,a]=h.useState(1),[o,c]=h.useState(10),[d,p]=h.useState(""),{data:r,isLoading:y}=F(`per_page=${o}&page=${e}&${d}`),x=(r==null?void 0:r.data)||[],j=r==null?void 0:r.meta;return y?s.jsx(T,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-5 space-y-5",children:[s.jsx(_,{title:"Leave Usages",description:"Manage employees for you business"}),s.jsx(S,{setFilterParams:p})]}),s.jsxs(u,{children:[s.jsxs(L,{className:"space-y-4",fileName:"leave-usages-report",children:[s.jsx("div",{className:"flex-1 space-y-4 my-4",children:s.jsxs("div",{className:"text-center  ",children:[s.jsx("h2",{children:"Akaar IT"}),s.jsx("h3",{className:"text-xl",children:"Leave Usages"})]})}),s.jsxs("div",{className:"flex-1 space-y-4 w-full mx-auto",children:[s.jsx(P,{}),x?s.jsx($,{tableData:x}):null]})]}),j&&s.jsx(E,{className:"px-4 pb-4",meta:j,dataCount:x.length,onPageChange:a,onPageSizeChange:c})]})]})};export{H as default};
